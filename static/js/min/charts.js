var Lat2Km=111.03461,Km2Lat=0.009006,Lon2Km=85.39383,Km2Lon=0.01171,LL2Km=98.2,Km2LL=0.010183,PATHS={15:"M 17.5 20.7 L 20.7 21.6 L 15 32.2 C 14.9 32.3 14.9 32.4 14.9 32.6 L 12.3 51.7 L -7.7 56.3 C -7.7 56.3 -7.8 56.3 -7.9 56.3 C -7.9 56.2 -7.9 56.2 -8 56.3 L -9.8 56.7 C -10 56.7 -10.1 56.7 -10.2 56.9 L -15.1 60 L -13.1 54.1 C -13.1 54.1 -13.1 54 -13.1 54 C -13.1 53.9 -13.1 53.8 -13.1 53.8 C -13.1 53.5 -13.2 53.4 -13.3 53.2 L -20.2 44.4 L -9.3 34.3 L 6.6 34.3 C 6.7 34.3 6.9 34.3 7.1 34.1 C 7.3 34 7.5 33.8 7.5 33.6 L 7.5 33.6 L 9.4 26.2 L 17.5 20.7Z",
36:"M 6.5 63.5 L 6.5 63.5 L 0.9 67.8 C 0.7 67.9 0.6 68.1 0.5 68.3 C 0.4 68.5 0.4 68.7 0.5 69 L 3.6 77.8 L -12.6 87.3 L -12.6 81 L -5.8 74.8 C -5.8 74.7 -5.7 74.7 -5.7 74.6 C -5.7 74.6 -5.6 74.5 -5.6 74.4 C -5.5 74.3 -5.5 74.1 -5.5 74 L -5.5 71.9 C -5.5 71.6 -5.6 71.4 -5.8 71.3 C -5.9 71.1 -6.1 71 -6.3 70.9 C -6.3 70.9 -6.4 70.9 -6.4 70.9 C -6.6 70.9 -6.8 71 -7 71.1 L -7 71.1 L -10.8 73.3 L -10.8 67.1 L -7 58.1 L 12.7 53.6 L 16.1 59.1 L 14.4 63.3 L 7.1 63.3 C 6.9 63.3 6.7 63.4 6.5 63.5Z",27:"M 22.7 22.1 L 30.9 23.5 L 33.1 29 L 33.1 29 C 33.1 29.2 33.3 29.4 33.5 29.5 C 33.5 29.5 33.5 29.5 33.5 29.6 C 33.7 29.6 33.8 29.7 34 29.7 L 37.9 29.7 L 35.4 33 C 35.3 33 35.3 33.1 35.3 33.2 L 35.2 34.3 C 35.2 34.4 35.2 34.5 35.3 34.6 L 41 44.8 L 38.6 49.2 C 38.6 49.2 38.6 49.3 38.6 49.4 C 38.5 49.4 38.6 49.5 38.6 49.6 L 39.1 51 C 39.2 51 39.2 51.1 39.3 51.2 C 39.3 51.2 39.4 51.2 39.4 51.3 L 42.8 52.5 L 40.6 58.3 L 37.8 59.4 C 37.7 59.5 37.6 59.5 37.5 59.6 L 36.9 60.5 C 36.9 60.6 36.8 60.7 36.9 60.8 L 36.9 67.9 C 36.9 68 36.9 68.1 37 68.2 L 33.4 73.3 L 29.7 69.7 C 29.5 69.5 29.3 69.5 29.2 69.5 C 29 69.4 28.8 69.4 28.6 69.5 L 23.2 71 L 16.3 64.1 L 18.1 59.4 C 18.1 59.3 18.2 59.3 18.2 59.2 C 18.2 59.1 18.2 59 18.2 59 C 18.2 58.8 18.1 58.7 18.1 58.5 L 18 58.5 L 14.2 52.3 L 16.9 33 L 22.7 22.1Z",
32:"M 2.7 69 L 7.5 65.3 L 14.7 65.3 L 22.2 72.8 C 22.3 72.9 22.4 73 22.6 73.1 C 22.6 73.1 22.7 73.1 22.8 73.1 C 22.8 73.1 22.9 73.1 23 73.1 C 23 73.1 23.1 73.1 23.1 73.1 L 28.7 71.5 L 32.8 75.5 C 32.9 75.6 33.1 75.7 33.3 75.7 C 33.5 75.8 33.7 75.8 33.9 75.7 C 33.9 75.7 34 75.7 34.1 75.6 C 34.1 75.5 34.2 75.5 34.3 75.4 C 34.3 75.4 34.3 75.4 34.3 75.4 L 38.6 69.4 L 42.7 69.6 L 44.8 74.1 L 37.9 83.1 C 37.8 83.1 37.8 83.2 37.8 83.3 L 37.6 83.9 C 37.6 83.9 37.6 84 37.6 84 L 37.6 86.3 L 35.3 86.3 C 35.1 86.2 35 86.3 34.8 86.4 C 34.7 86.4 34.5 86.6 34.5 86.7 L 30.8 91.1 L 15.1 88.1 L 15.2 88.1 C 14.9 88 14.7 88 14.4 88.2 L 14.5 88.2 L 8 91.2 L 6 88.3 L 10.3 84.3 L 10.3 84.3 C 10.5 84.1 10.6 83.9 10.6 83.6 C 10.5 83.3 10.5 83.1 10.3 82.9 L 10.3 82.9 L 5.7 77.7 L 2.7 69Z",
33:"M 107.5 37.3 L 106.6 39.3 L 99.3 42 C 99.2 42 99.2 42 99.2 42.1 L 99.1 42.1 L 99.1 42.1 L 81.6 48.6 L 68.7 47.2 C 68.6 47.2 68.6 47.2 68.5 47.2 L 68.2 47.3 C 68.2 47.3 68.1 47.3 68.1 47.3 L 55.5 50.7 L 45.1 50.1 L 42.1 49 L 44 45.4 C 44 45.3 44.1 45.2 44.1 45.2 L 44.1 44.2 C 44 44.1 44 44 44 44 L 38.4 34 L 41.7 29.7 L 75.8 29.7 L 107.5 37.3Z",24:"M 99.1 45.3 L 101.9 50.6 L 97.6 68.3 L 94.8 77.3 L 86 79.5 C 85.7 79.5 85.5 79.5 85.4 79.7 C 85.3 79.8 85.3 79.9 85.2 80 L 85.2 80 L 82.1 87.3 L 46.4 77 L 47.8 75.2 C 47.8 75.1 47.8 75 47.9 75 L 48 74 C 48 73.9 47.9 73.8 47.9 73.7 L 45 67.4 C 44.9 67.4 44.9 67.3 44.8 67.3 L 44 66.7 C 43.9 66.6 43.8 66.6 43.7 66.6 L 39.9 66.5 L 39.9 61.9 L 42.3 60.9 C 42.4 60.8 42.4 60.8 42.5 60.8 L 43 60.2 C 43.1 60.1 43.1 60 43.1 60 L 45.8 53.1 L 55.8 53.7 C 55.9 53.7 55.9 53.7 56 53.7 L 68.6 50.3 L 81.7 51.7 C 81.7 51.7 81.7 51.7 81.8 51.7 L 82.2 51.6 C 82.2 51.6 82.3 51.6 82.3 51.6 L 99.1 45.3Z",
34:"M 99.5 68.9 L 99.5 68.9 L 103.3 52.5 L 104 53.1 C 104 53.1 104.1 53.1 104.2 53.1 C 104.2 53.1 104.3 53.2 104.4 53.2 L 111.6 52.1 L 119.9 60.2 L 115.7 65.4 L 115.7 65.4 C 115.5 65.6 115.4 65.9 115.5 66.2 L 115.5 66.1 L 117.5 85 C 117.5 85.1 117.5 85.3 117.7 85.5 L 117.8 85.6 L 123.7 92.2 L 121 98 L 96.6 92.1 L 96.6 78.3 L 99.5 68.9Z",39:"M 119.4 37.8 C 119.5 37.8 119.5 37.8 119.6 37.8 C 119.6 37.7 119.7 37.7 119.7 37.7 L 130.2 34.6 L 132.1 36.1 C 132.3 36.2 132.4 36.3 132.7 36.3 C 132.8 36.3 133 36.3 133.1 36.2 C 133.1 36.2 133.2 36.2 133.2 36.2 L 136.4 34.6 L 144.3 38.5 L 139 41.3 C 138.9 41.3 138.8 41.4 138.8 41.4 L 138.2 42.3 C 138.2 42.4 138.1 42.5 138.2 42.6 L 138.2 44.8 L 133.2 44 C 133.1 43.9 133 44 133 44 C 132.9 44 132.8 44 132.8 44.1 L 123.4 52.4 C 123.3 52.5 123.2 52.6 123.2 52.8 L 123.1 54.1 C 123 54.2 123.1 54.3 123.2 54.5 L 126.1 58.4 L 123.5 59.7 L 113.1 49.4 C 113.1 49.3 113 49.3 112.9 49.3 L 112.1 49 C 112 48.9 111.9 48.9 111.8 49 L 105 50 L 101.9 44.2 L 108.1 41.9 C 108.2 41.9 108.2 41.8 108.3 41.8 L 108.8 41.3 C 108.9 41.2 108.9 41.2 109 41.1 L 110.5 37.8 L 119.4 37.8Z",
49:"M 69.2 115.6 L 69.2 115.6 C 69 115.5 68.7 115.5 68.5 115.7 C 68.3 115.8 68.2 116 68.1 116.3 L 67.1 119.3 L 55.2 114 L 61.7 104.7 C 61.8 104.5 61.9 104.4 61.9 104.2 C 61.9 104 61.9 103.9 61.8 103.7 C 61.8 103.7 61.8 103.6 61.8 103.6 C 61.6 103.4 61.5 103.2 61.3 103.2 L 54.1 99.9 L 52.7 90.3 C 52.6 90.1 52.5 89.9 52.4 89.8 C 52.2 89.5 52 89.4 51.8 89.5 L 40.6 86.6 L 40.6 84.5 L 45.1 78.7 L 81.8 89.3 L 85.1 106.7 L 85.1 118.6 L 69.2 115.6Z","09":"M 146.5 52.1 L 146.9 52.7 C 146.9 52.8 146.9 52.8 147 52.9 L 147.2 53 L 144.8 53 C 144.7 53 144.6 53 144.5 53.1 L 143.7 53.5 C 143.6 53.6 143.6 53.6 143.6 53.7 L 141.8 56.3 C 141.7 56.3 141.7 56.4 141.7 56.5 C 141.6 56.5 141.6 56.6 141.7 56.7 L 142 58.1 C 142 58.1 142 58.2 142.1 58.3 C 142.1 58.3 142.1 58.3 142.2 58.4 L 151.6 64 L 147.2 65 C 147.1 65 147 65 147 65.1 C 146.9 65.2 146.9 65.3 146.9 65.4 L 145.8 81.6 C 145.7 81.7 145.8 81.9 145.9 82 L 151.8 89.7 L 151.9 89.7 L 147.5 96.3 L 144.9 93.2 L 144.9 93.2 C 144.7 93 144.5 92.8 144.3 92.9 C 144.1 92.8 143.9 92.8 143.8 92.9 C 143.5 93 143.4 93.1 143.3 93.3 C 143.3 93.3 143.3 93.4 143.3 93.4 L 136.6 104.9 L 123.6 108.2 L 122.6 99.3 L 125.7 92.4 C 125.7 92.4 125.7 92.4 125.7 92.4 C 125.8 92.2 125.8 92.1 125.8 92 C 125.8 91.7 125.7 91.5 125.6 91.4 L 125.6 91.4 L 119.4 84.5 L 117.5 66.3 L 121.3 61.7 L 122.2 62.5 C 122.2 62.6 122.3 62.6 122.4 62.7 L 123.6 62.9 C 123.7 62.9 123.8 62.9 123.9 62.8 L 129.1 60.3 C 129.1 60.2 129.2 60.2 129.3 60.1 C 129.3 60 129.3 60 129.3 59.9 L 129.7 58.4 C 129.7 58.4 129.7 58.3 129.7 58.2 C 129.7 58.1 129.6 58.1 129.6 58 L 126.4 53.8 L 134.2 46.9 L 139.3 48.2 C 139.3 48.2 139.4 48.2 139.4 48.2 C 139.5 48.2 139.6 48.2 139.7 48.2 L 139.9 48.2 C 139.9 48.2 140 48.2 140 48.2 L 145.5 46.9 L 146.5 52 C 146.5 52 146.5 52.1 146.5 52.1Z M 157.8 59.8 L 161.9 60.2 L 163.3 64.1 L 157.7 60.7 L 157.8 59.8Z",
20:"M 176.8 42.2 L 176.9 42.2 L 185.2 38.8 L 186.8 40.2 L 177.7 51.4 L 171.8 55 L 163.9 50.9 L 168.9 40.9 L 176.2 42.2 L 176.3 42.2 C 176.3 42.2 176.3 42.2 176.3 42.2 C 176.5 42.2 176.6 42.2 176.8 42.2Z",48:"M 148.3 39.5 L 157.5 36.6 L 167 40.4 L 162 50.2 L 154.7 49.2 L 153.6 46.1 L 153.6 46.2 C 153.5 45.9 153.4 45.8 153.3 45.7 L 153.2 45.7 C 153.1 45.5 152.9 45.5 152.8 45.5 L 148.1 44.4 L 146.7 43.6 C 146.6 43.5 146.4 43.5 146.3 43.6 L 141.2 44.8 L 141.2 43.5 L 147.6 40.1 L 147.7 40.1 C 147.9 39.9 148.1 39.7 148.3 39.5Z",
"01":"M 153.4 50.9 C 153.5 50.9 153.6 51 153.7 51 C 153.7 51 153.8 51 153.8 51.1 L 162.3 52.3 L 170.6 56.7 L 167.9 65.1 C 167.9 65.1 167.9 65.2 167.9 65.2 L 167.8 65.5 C 167.8 65.5 167.8 65.5 167.8 65.6 L 167.8 67.2 L 166.6 69.5 L 158.3 67.2 L 156.8 63.9 C 156.8 63.9 156.8 63.8 156.7 63.8 L 156.3 63.3 C 156.3 63.3 156.2 63.3 156.2 63.2 L 145.1 56.7 L 145.6 56 L 151.6 56 C 151.7 56 151.8 56 151.9 55.9 C 152 55.8 152 55.8 152.1 55.7 L 152.7 53.9 C 152.7 53.7 152.7 53.7 152.7 53.6 C 152.6 53.4 152.6 53.4 152.5 53.3 L 149.3 50.8 L 148.5 46.5 L 151.9 47.3 L 153 50.3 C 152.9 50.5 153.1 50.7 153.3 50.9 C 153.3 50.9 153.4 50.9 153.4 50.9Z M 155.9 61.7 L 164.3 66.8 L 165.6 65.5 L 162.8 58 L 156.2 58 L 155.7 60.7 L 155.9 61.7Z",
31:"M 173.5 57.4 L 179.5 53.8 C 179.5 53.7 179.5 53.7 179.6 53.7 C 183 49.6 185.6 46.5 187.3 44.5 C 188.1 43.4 188.8 42.7 189.2 42.2 C 189.4 42 189.6 41.8 189.7 41.7 L 195.4 43.2 L 193.5 49.7 C 193.4 49.9 193.4 50.2 193.7 50.5 C 193.8 50.8 193.9 51 194.1 51 C 194.1 51 194.1 51 194.1 51 L 198.4 52.7 C 198.4 52.8 198.5 52.8 198.6 52.8 C 198.7 52.7 198.7 52.7 198.8 52.7 C 199.5 52.3 199.8 52 199.7 51.8 L 199.7 49.8 L 211.4 54.6 L 208 61.5 L 199.7 68.5 C 199.7 68.6 199.6 68.7 199.6 68.8 L 195.1 83.9 C 195.1 84 195.1 84.1 195.1 84.1 C 195.1 84.2 195.2 84.3 195.2 84.4 L 197.5 87.5 L 194.9 91.5 L 185.5 88.6 L 190.3 82.3 C 190.4 82.2 190.4 82.1 190.4 82.1 C 190.4 82 190.4 81.9 190.4 81.8 C 190.3 81.7 190.3 81.7 190.2 81.6 L 178.2 72.8 C 178.1 72.7 178 72.7 178 72.7 L 169.6 70.4 L 170.7 68.2 C 170.7 68.2 170.7 68.1 170.7 68.1 L 170.8 67.7 C 170.8 67.6 170.8 67.6 170.8 67.6 L 170.8 65.8 L 173.5 57.4Z",
22:"M 225.3 57.8 L 234 63.3 C 234.1 63.3 234.2 63.3 234.3 63.4 C 234.3 63.4 234.4 63.3 234.5 63.3 L 240.7 60.8 L 253.5 62.2 L 256.4 73.7 L 252.8 90.7 L 245.8 99.6 L 245.7 99.7 C 245.6 99.8 245.5 100.2 245.5 100.7 C 245.6 101.3 245.8 101.6 246 101.8 L 246 101.8 L 248.2 103.6 L 244.3 107.4 C 244.2 107.4 244.1 107.7 244 108.1 L 244 108 C 243.8 108.5 243.8 108.8 243.9 108.9 L 243.9 108.9 L 244.8 111 L 238.6 111.6 L 234.8 104.4 C 234.8 104.3 234.7 104.3 234.6 104.2 L 234.6 104.2 L 217.7 89.5 L 217.7 78.6 C 217.7 78.5 217.7 78.4 217.7 78.4 C 216.5 75.8 215.2 73.2 214 70.6 L 214 70.7 C 211.7 65.8 210.5 63.4 210.3 63.5 C 210.4 63.5 210.5 63.4 210.5 63.3 L 214.2 55.7 L 219.1 57.7 C 219.2 57.7 219.2 57.8 219.3 57.8 L 225.3 57.8Z",
25:"M 256 61 L 255.8 57 L 273 62 L 274.8 70 C 274.8 70.1 274.9 70.2 275 70.3 C 275.1 70.4 275.2 70.4 275.3 70.4 L 284 69.8 L 286.8 73.8 L 283.4 76.6 C 283.3 76.7 283.2 76.8 283.2 76.9 L 280.8 94.1 L 276.4 95.1 C 276.3 95.1 276.2 95.2 276.1 95.3 L 275.7 95.8 C 275.6 95.8 275.6 95.9 275.6 96.1 L 275.6 102 L 266.5 106.8 C 266.5 106.8 266.4 106.9 266.4 106.9 L 261.8 111.4 L 249.4 114.3 L 248.2 111.5 L 248.2 111.2 C 248.2 111.1 248.1 111 248 110.9 C 248 110.8 248 110.8 247.9 110.8 L 247.1 108.8 L 251.5 104.6 L 251.5 104.6 C 251.7 104.6 251.7 103.9 251.7 102.7 C 251.6 102.7 251.6 102.6 251.6 102.5 C 251.6 102.5 251.5 102.4 251.5 102.4 L 249 100.3 L 255.3 92.3 C 255.4 92.2 255.4 92.2 255.4 92.2 C 255.5 92 255.5 91.9 255.6 91.7 C 255.6 91.7 255.6 91.6 255.7 91.6 L 259.5 74 C 259.5 73.8 259.5 73.5 259.4 73.3 C 258.9 71.3 258.3 69.2 257.8 67.2 C 256.8 63.7 256.2 61.7 255.9 60.9 L 256 61Z",
"08":"M 292 81.6 C 292.3 81.9 292.7 82.1 293 81.9 L 293 81.9 L 298.4 80.2 L 306 82.7 L 304.8 87 L 300.3 88.3 C 300.1 88.2 299.9 88.4 299.7 88.9 L 299.7 88.9 C 299.4 89.4 299.4 89.7 299.6 89.9 L 301.3 92.8 C 301.3 92.9 301.3 92.9 301.4 93 L 301.8 93.2 C 301.8 93.3 301.9 93.3 302 93.3 L 313.4 94.7 L 314.1 96.7 L 300.9 104.7 C 300.8 104.7 300.7 104.8 300.7 104.9 L 297.5 111.3 L 285 115.1 L 277.6 102.3 L 277.6 96.9 L 281.9 96 C 281.9 95.9 281.9 95.9 282 95.9 C 282.4 95.7 282.7 95.4 282.7 95.1 L 282.7 95.1 L 285.2 77.6 L 287.9 75.5 L 291.9 81.5 C 291.9 81.5 291.9 81.5 292 81.6Z",
17:"M 323.3 75.7 C 323.3 75.7 323.3 75.7 323.3 75.7 C 323.1 76.1 323.1 76.4 323.3 76.5 L 326.3 86.6 L 315.8 95.5 L 315.1 93.5 C 315.1 93.4 315 93.3 315 93.3 L 314.5 92.9 C 314.4 92.8 314.3 92.8 314.3 92.8 L 302.7 91.4 L 301.9 89.9 L 305.9 88.8 C 306 88.8 306 88.7 306.1 88.7 L 306.5 88.3 C 306.5 88.2 306.6 88.2 306.6 88.1 L 308.2 82.4 C 308.4 82.2 308.3 81.9 308.1 81.6 C 308.1 81.5 308.1 81.5 308.1 81.5 C 307.9 81.3 307.7 81.1 307.6 81.1 C 307.6 81.1 307.6 81.1 307.6 81.1 L 298.7 78.2 C 298.5 78.2 298.3 78.2 298.1 78.2 L 293.2 79.8 L 289 73.5 C 289 73.4 288.9 73.4 288.9 73.4 L 288.9 73.4 L 286.9 70.5 L 294.2 72.8 C 294.3 72.9 294.4 72.9 294.6 72.8 L 300.5 70.1 L 310.9 72.4 C 311 72.4 311.1 72.4 311.2 72.3 L 319.8 67.6 L 327.5 72 L 327.5 72.7 L 323.6 75.2 C 323.6 75.2 323.6 75.3 323.6 75.3 C 323.5 75.3 323.4 75.5 323.3 75.7Z",
"07":"M 327.9 162.8 L 329.6 167.4 L 333.2 169 L 333.3 169 L 337 167.4 C 337.1 167.4 337.2 167.4 337.3 167.4 L 340.3 168.3 C 340.4 168.4 340.4 168.4 340.5 168.5 C 340.6 168.5 340.6 168.6 340.6 168.7 C 340.6 168.8 340.6 168.9 340.6 169 L 336.9 177.4 L 336.9 182.3 C 336.9 182.4 336.9 182.5 336.9 182.5 C 336.8 182.6 336.8 182.7 336.7 182.7 L 330.7 187.4 C 330.7 187.5 330.6 187.5 330.5 187.5 C 330.4 187.5 330.3 187.5 330.2 187.5 C 330.1 187.4 330 187.3 330 187.3 L 328.3 183.9 L 321.3 183.9 C 321.2 183.9 321 183.9 321 183.8 C 320.9 183.7 320.8 183.6 320.8 183.5 L 319.7 178.2 L 316.9 176.9 L 313 181.2 C 312.9 181.3 312.8 181.4 312.6 181.4 C 312.5 181.4 312.4 181.4 312.3 181.3 L 308.4 178 C 308.4 177.9 308.3 177.8 308.3 177.8 C 308.2 177.7 308.2 177.6 308.3 177.5 C 308.3 177.4 308.4 177.3 308.4 177.2 L 318.4 168.1 C 318.4 168.1 318.4 168.1 318.5 168.1 L 327.2 162.5 C 327.3 162.5 327.4 162.4 327.5 162.5 C 327.6 162.5 327.7 162.5 327.8 162.6 C 327.8 162.6 327.9 162.7 327.9 162.8Z M 350.6 156.5 L 360.5 154.9 C 360.6 154.9 360.7 154.9 360.8 155 C 360.9 155 361 155.1 361.1 155.2 L 365.1 162.4 C 365.1 162.5 365.1 162.6 365.1 162.8 C 365 162.9 365 163 364.9 163.1 L 363.9 163.7 C 363.8 163.7 363.7 163.7 363.7 163.8 C 363.6 163.8 363.5 163.7 363.4 163.7 L 356.4 159.9 L 352.7 161 C 352.5 161 352.4 161 352.3 161 C 352.2 160.9 352.1 160.8 352.1 160.7 L 350.2 157.2 C 350.1 157.1 350.1 157 350.1 156.9 C 350.1 156.8 350.2 156.7 350.3 156.6 C 350.4 156.5 350.4 156.5 350.6 156.5Z M 287.2 196.4 C 287.3 196.5 287.3 196.6 287.4 196.7 L 288.2 199.6 C 288.2 199.6 288.2 199.7 288.2 199.8 C 288.2 199.9 288.2 200 288.1 200.1 L 282 206.3 C 281.9 206.4 281.8 206.4 281.7 206.4 C 281.6 206.4 281.5 206.4 281.5 206.4 L 276.7 204.6 C 276.6 204.5 276.5 204.5 276.5 204.4 C 276.4 204.3 276.4 204.2 276.4 204.1 C 276.4 204 276.4 203.9 276.5 203.8 L 277.3 202.3 L 278.3 199 C 278.3 198.9 278.4 198.8 278.5 198.8 C 278.5 198.7 278.6 198.6 278.7 198.6 L 286.8 196.4 C 286.9 196.3 287 196.4 287.2 196.4Z M 285.6 210.2 L 282.6 212.8 C 282.5 212.8 282.4 212.9 282.2 212.9 C 282.1 212.9 282 212.8 281.9 212.7 C 281.8 212.6 281.7 212.5 281.7 212.4 L 281.7 211.3 C 281.7 211.2 281.8 211.1 281.8 211 C 281.8 211 281.9 210.9 281.9 210.8 L 283.8 209.5 C 283.9 209.4 284 209.4 284.1 209.3 L 285.2 209.3 C 285.4 209.4 285.4 209.4 285.5 209.5 C 285.6 209.5 285.7 209.6 285.7 209.7 C 285.8 209.8 285.8 209.9 285.7 210 C 285.7 210.1 285.7 210.2 285.6 210.2Z",
38:"M 280.4 323.4 C 280.5 323.5 280.6 323.5 280.7 323.7 L 281.5 325.4 C 281.5 325.5 281.5 325.6 281.5 325.7 C 281.5 325.8 281.4 325.9 281.4 325.9 L 271 336.1 L 267 344.9 C 267 344.9 266.9 345 266.9 345.1 C 266.8 345.1 266.7 345.1 266.7 345.2 L 262 346.4 C 261.8 346.4 261.7 346.4 261.6 346.3 C 261.5 346.3 261.4 346.2 261.4 346.1 L 254.8 333.2 C 254.8 333.1 254.8 333 254.8 332.9 C 254.8 332.8 254.9 332.7 255 332.6 C 255 332.5 255.1 332.5 255.2 332.5 L 268.2 331.3 L 268.2 331.2 L 268.2 331.2 L 271.5 326.3 C 271.6 326.2 271.7 326.1 271.8 326.1 L 280.1 323.4 C 280.2 323.3 280.3 323.3 280.4 323.4Z M 226.7 321.2 C 226.7 321.3 226.7 321.4 226.7 321.5 L 224 327.5 C 224 327.6 223.9 327.7 223.9 327.7 C 223.8 327.8 223.7 327.8 223.6 327.8 L 222.9 327.8 C 222.7 327.8 222.6 327.7 222.5 327.7 C 222.4 327.6 222.4 327.4 222.4 327.3 L 222.4 324.3 L 218.2 316.6 C 218.1 316.5 218.1 316.4 218.1 316.3 C 218.1 316.2 218.2 316.1 218.3 316 L 220.8 313.4 C 220.8 313.4 220.9 313.3 221 313.3 C 221 313.3 221.1 313.3 221.2 313.3 L 225.2 313.6 C 225.3 313.6 225.4 313.7 225.5 313.8 C 225.6 313.8 225.6 313.9 225.7 314.1 L 226.7 321.2Z M 247.8 341.2 C 247.8 341.3 247.8 341.4 247.8 341.5 C 247.7 341.6 247.7 341.7 247.6 341.8 L 243.7 344.7 C 243.6 344.8 243.4 344.8 243.3 344.8 C 243.2 344.8 243.1 344.7 243 344.7 L 239.8 341.6 C 239.7 341.5 239.6 341.4 239.6 341.3 C 239.6 341.2 239.6 341.1 239.7 341 L 241.3 338.2 C 241.3 338.1 241.4 338 241.5 338 C 241.7 338 241.8 338 241.9 338 L 247.5 340.9 C 247.6 341 247.7 341.1 247.8 341.2Z M 212.6 355.7 C 212.6 355.6 212.6 355.5 212.6 355.3 C 212.7 355.2 212.7 355.2 212.9 355.1 L 216 353.4 L 218.9 350.6 C 219 350.5 219.1 350.4 219.3 350.4 C 219.4 350.4 219.5 350.5 219.6 350.6 L 221.1 351.8 C 221.2 351.9 221.2 352 221.2 352.2 C 221.2 352.3 221.2 352.4 221.1 352.5 L 218.6 355.6 L 218.6 358.9 C 218.6 359 218.5 359.1 218.4 359.2 C 218.3 359.3 218.2 359.4 218.1 359.4 C 218 359.4 217.9 359.4 217.8 359.3 L 212.8 356 C 212.7 355.9 212.6 355.8 212.6 355.7Z",
35:"M 303.8 341.6 C 303.9 341.7 304 341.7 304.1 341.8 C 304.2 341.9 304.2 342 304.2 342.2 L 304 344 L 304 344 L 305.8 346.2 C 305.9 346.2 305.9 346.3 305.9 346.3 C 305.9 346.4 305.9 346.5 305.9 346.6 L 304.6 352.2 C 304.6 352.3 304.5 352.4 304.4 352.5 L 298.4 356.4 C 298.3 356.4 298.2 356.5 298.2 356.5 C 298.1 356.5 298 356.4 297.9 356.4 L 291.7 352.5 C 291.5 352.4 291.5 352.3 291.5 352.2 L 290.2 347.3 C 290.1 347.2 290.1 347.1 290.2 347 C 290.2 346.9 290.3 346.8 290.4 346.8 L 294.6 343.4 L 294.6 340.5 C 294.5 340.4 294.6 340.3 294.6 340.2 C 294.7 340.1 294.8 340.1 294.9 340.1 C 294.9 340 295 340 295.2 340 L 303.8 341.6Z M 370.6 300.5 C 370.7 300.5 370.7 300.6 370.8 300.8 C 370.8 300.9 370.8 301 370.7 301.1 L 369.1 304.6 L 369.1 308.1 C 369.1 308.2 369.1 308.3 369 308.4 C 369 308.5 368.9 308.5 368.9 308.6 L 358.8 314.2 C 358.7 314.3 358.6 314.3 358.5 314.3 L 356 314.3 C 355.8 314.3 355.7 314.3 355.7 314.2 C 355.6 314.1 355.5 314 355.5 313.9 C 355.4 313.8 355.4 313.7 355.5 313.6 L 356.9 310.8 L 356.9 307.2 C 356.9 307.1 356.9 307 356.9 307 C 357 306.9 357 306.8 357.1 306.8 L 364 303.2 C 364 303.2 364.1 303.2 364.2 303.2 C 364.2 303.1 364.3 303.2 364.4 303.2 L 366.9 304.2 L 368.4 299.9 C 368.5 299.8 368.5 299.7 368.6 299.7 C 368.7 299.6 368.8 299.6 368.9 299.5 C 369 299.5 369.1 299.6 369.2 299.6 L 370.6 300.5Z M 356 318.8 L 356.9 324.3 C 356.9 324.4 356.9 324.5 356.9 324.7 L 355.1 327.3 L 355.1 327.4 L 356.6 330.6 C 356.6 330.6 356.6 330.7 356.6 330.8 C 356.6 330.8 356.6 330.9 356.6 331 L 354 336.9 C 354 337 353.9 337.1 353.9 337.1 C 353.8 337.1 353.7 337.2 353.7 337.2 L 345.6 339.3 L 340.9 344.7 C 340.8 344.7 340.7 344.8 340.6 344.8 C 340.5 344.8 340.4 344.8 340.3 344.8 L 336.5 343 C 336.4 342.9 336.3 342.8 336.3 342.7 C 336.3 342.6 336.2 342.5 336.3 342.4 C 336.3 342.3 336.4 342.2 336.5 342.1 C 336.5 342 336.6 342 336.8 342 L 339 342 L 345.1 337.4 L 345.1 334 C 345 333.9 345.1 333.9 345.1 333.8 L 348.2 329 L 351.5 320.4 C 351.6 320.3 351.7 320.2 351.8 320.1 L 355.3 318.4 C 355.4 318.3 355.5 318.3 355.6 318.3 C 355.7 318.4 355.8 318.4 355.9 318.5 C 355.9 318.6 356 318.7 356 318.8Z",
52:"M 152.2 337.9 L 159.9 337.9 L 159.9 345.6 L 152.2 345.6 L 152.2 337.9",51:"M 77.5 318.9 L 85.2 318.9 L 85.2 326.6 L 77.5 326.6 L 77.5 318.9",11:"M 55.7 295.8 L 55.7 295.7 L 49 290.1 L 50.4 285.8 L 64.8 281.5 L 85 279.3 L 74.4 294.2 C 74.3 294.2 74.3 294.2 74.3 294.2 C 74.2 294.3 74.2 294.5 74.2 294.8 C 74.2 294.8 74.2 294.9 74.2 294.9 C 74.3 295.2 74.4 295.4 74.5 295.5 L 82.8 303.9 L 74.9 315 L 59.3 307.1 L 54 298.2 L 55.5 297.3 C 55.5 297.3 55.6 297.3 55.6 297.2 C 55.7 297.2 55.8 297 55.9 296.6 C 55.9 296.1 55.9 295.8 55.7 295.8Z",
21:"M 19.6 268.4 L 19.6 248.2 L 33.9 234.3 C 46.9 239.3 54.4 242.1 56.2 242.8 L 57.2 248.4 L 49.3 248.4 C 49.2 248.4 49.1 248.4 49.1 248.5 L 48.7 248.7 C 48.7 248.7 48.6 248.7 48.6 248.8 L 44.3 253.6 C 44.2 253.7 44.2 253.7 44.2 253.7 C 44.1 253.9 44.1 254.2 44.3 254.6 C 44.5 255.1 44.8 255.3 45 255.3 L 48.6 255.3 L 48.6 282.8 L 32.8 268.5 C 32.7 268.4 32.6 268.4 32.5 268.4 L 19.6 268.4Z",41:"M 59.3 249.8 C 59.3 249.6 59.4 249.5 59.4 249.4 C 59.4 249.3 59.4 249.3 59.4 249.3 L 58.2 242.7 L 71.8 235.8 L 79.8 256 L 79.8 256 C 79.8 256.2 80 256.4 80.3 256.5 C 80.5 256.6 80.8 256.6 81 256.6 L 81.1 256.6 L 88.4 253.7 L 99.7 268.8 L 86.8 277.1 L 64.6 279.5 C 64.6 279.5 64.5 279.5 64.5 279.5 L 50.6 283.7 L 50.6 254.3 C 50.6 254.1 50.5 253.9 50.3 253.6 C 50 253.3 49.8 253.2 49.6 253.3 L 47.2 253.3 L 49.8 250.4 L 58.4 250.4 C 58.5 250.4 58.7 250.4 58.8 250.3 C 58.9 250.3 58.9 250.3 59 250.2 C 59.1 250.1 59.2 249.9 59.3 249.8Z",
29:"M 87.9 278.8 L 101.4 270.1 L 111.1 272.2 L 114.3 281.2 L 114.3 281.2 C 114.3 281.4 114.5 281.6 114.7 281.7 L 114.7 281.7 L 125.3 288 L 108.3 288.3 C 108.2 288.4 108.2 288.4 108.1 288.4 C 108 288.4 108 288.5 107.9 288.5 L 100.5 296.7 L 84.3 302.7 L 76.5 294.7 L 87.9 278.8Z",14:"M 112.3 227.3 L 112.3 227.3 C 112.4 227.4 112.4 227.4 112.5 227.4 L 112.5 248.5 C 112.4 248.7 112.5 248.8 112.5 248.9 C 112.5 249 112.5 249 112.6 249 L 119.6 262.6 L 115.6 262.6 C 115.4 262.7 115.2 262.7 115.1 262.8 C 114.9 262.9 114.7 263 114.7 263.2 L 111.3 270.2 L 101.7 268.1 L 89.6 251.9 L 89.6 251.8 C 89.4 251.7 89.3 251.5 89.1 251.5 C 88.9 251.4 88.6 251.4 88.4 251.5 C 88.4 251.5 88.4 251.5 88.4 251.5 C 88.4 251.6 88.3 251.6 88.3 251.6 L 81.3 254.3 L 73.7 234.9 L 77.3 233.1 C 77.4 233 77.4 232.9 77.5 232.8 L 78.1 231.7 C 78.1 231.6 78.1 231.5 78.1 231.4 L 76.5 224.5 L 92 215 L 92 215 L 92 215 L 112.3 227.3Z",
23:"M 166.8 234.5 L 164.3 236.1 L 164.3 236.1 C 164.1 236.2 158.9 242.3 148.5 254.6 L 134.6 254.6 C 134.4 254.6 134.2 254.6 134.1 254.8 L 121.7 262.3 L 114.5 248.3 L 114.5 227.8 L 139.2 227.8 C 139.2 227.8 139.3 227.8 139.3 227.8 L 159.7 222.3 L 163.6 223.8 L 166.8 234.5Z",18:"M 164.7 239.1 L 170.4 241 L 174.5 245.6 L 168.4 257.3 L 160.9 268.9 L 156.8 267.5 C 156.7 267.4 156.4 267.4 156.1 267.5 C 155.7 267.7 155.5 267.8 155.5 268 L 155.5 268 L 147.2 287 L 129 287.9 L 116.1 280.2 L 113 271.4 L 116.2 264.7 L 121.3 264.7 C 121.4 264.7 121.5 264.6 121.7 264.6 C 121.7 264.6 121.7 264.5 121.8 264.5 C 121.8 264.5 121.8 264.5 121.9 264.5 L 134.9 256.6 L 149 256.6 C 149.1 256.6 149.2 256.5 149.4 256.5 C 149.4 256.4 149.5 256.4 149.6 256.3 C 149.6 256.3 149.7 256.3 149.7 256.2 L 164.7 239.1Z",
"04":"M 176.7 246.6 L 181 246.6 L 179.9 252.7 C 179.8 252.9 179.8 253.1 179.9 253.5 C 180 253.9 180.2 254.1 180.3 254.2 L 191.1 265.1 L 184.1 279.9 L 177.2 288.4 L 174.2 283.8 L 174.1 283.8 C 174 283.5 173.7 283.3 173.3 283.3 L 167 283.3 C 166.9 283.3 166.8 283.3 166.7 283.4 L 166.4 283.6 C 166.3 283.6 166.3 283.6 166.2 283.7 L 161.2 289.1 L 149.3 287.1 L 156.9 269.7 L 160.9 271.1 C 161 271.2 161.4 271.1 161.9 270.9 C 162 270.8 162.1 270.8 162.1 270.7 L 170.1 258.3 C 170.2 258.2 170.2 258.1 170.2 258.1 L 170.2 258 L 170.1 258.3 L 176.7 246.6Z",
30:"M 189.6 230.4 C 189.8 230.7 190.1 230.8 190.4 230.9 C 190.4 230.9 190.5 230.9 190.5 230.9 C 190.8 231 191.1 230.9 191.4 230.8 L 191.4 230.8 L 196.1 228.6 C 196.3 228.5 196.4 228.4 196.6 228.2 C 196.6 228.2 196.7 228.1 196.7 228.1 C 196.8 227.9 196.9 227.6 196.9 227.4 L 196.9 227.3 L 197.9 218.2 L 205.8 213.4 L 209.5 216.8 L 206.9 226.8 L 206.9 226.7 C 206.8 227 206.8 227.3 206.9 227.5 L 209.1 237.7 C 209.1 238 209.2 238.2 209.4 238.4 L 209.4 238.4 L 216.1 246.7 C 216.1 246.7 216.1 246.7 216.1 246.7 C 216.1 246.8 216.2 246.8 216.2 246.8 L 215.1 249.5 L 215.1 249.5 C 215 249.6 215 249.8 215 249.9 C 215 250.2 215 250.3 215.2 250.5 L 217.7 253.9 L 203.1 255.4 C 202.9 255.5 202.7 255.5 202.6 255.6 L 193 262.8 L 183 252.6 L 184.3 245.4 L 184.3 245.3 C 184.3 245.1 184.3 244.8 184.2 244.5 C 184.2 244.5 184.1 244.4 184.1 244.4 C 184 244.2 183.8 244 183.6 243.9 C 183.3 243.6 183.1 243.5 182.8 243.6 L 176.6 243.6 L 173.2 239.6 L 177.9 232.9 L 188.2 228.6 L 189.6 230.4Z",
"02":"M 206.1 207.4 C 206.1 207.4 206.1 207.4 206.1 207.4 C 206.3 207.5 206.5 207.6 206.7 207.5 L 211.2 207.5 L 211.2 210.7 L 210.4 213.5 L 207.1 210.5 L 207.1 210.5 C 206.9 210.3 206.6 210.1 206.2 210 C 205.9 210 205.6 210.1 205.3 210.3 L 205.3 210.3 L 195.7 216 L 195.7 216 C 195.5 216 195.4 216.2 195.2 216.4 C 195 216.6 195 216.8 194.9 217.1 L 194.9 217.2 L 194 226.3 L 191.2 227.6 L 189.8 225.9 L 189.8 225.9 C 189.6 225.6 189.3 225.4 189 225.4 C 188.7 225.3 188.4 225.3 188.1 225.5 L 188.1 225.5 L 175.9 230.7 C 175.9 230.7 175.8 230.7 175.7 230.8 L 170.6 238 L 168.2 237.2 L 169.4 236.4 C 169.7 236.2 169.9 236 170 235.7 C 170.1 235.4 170.1 235.1 170 234.7 L 170 234.7 L 166.2 222.2 L 166.2 222.2 C 166.1 222 166 221.8 165.9 221.7 C 165.7 221.4 165.6 221.3 165.3 221.3 C 165.3 221.2 165.3 221.2 165.3 221.2 L 161.3 219.6 L 163.4 213.7 C 163.5 213.6 163.5 213.5 163.4 213.4 L 159.9 192.1 L 167.3 190.7 L 172 195.3 C 172.1 195.4 172.2 195.4 172.3 195.5 C 172.4 195.5 172.5 195.6 172.5 195.6 C 172.6 195.6 172.7 195.6 172.8 195.6 C 172.8 195.6 172.8 195.6 172.9 195.6 L 188.2 193.2 C 188.3 193.1 188.4 193.1 188.5 193.1 L 188.5 193 L 195.2 189.2 C 195.3 189.3 195.4 189.3 195.5 189.4 C 195.5 189.4 195.5 189.4 195.5 189.4 L 203.6 192.9 L 200.9 199.8 C 200.7 200.1 200.7 200.3 200.8 200.6 C 200.8 200.8 200.9 201.1 201.1 201.3 L 205.5 207 C 205.6 207.1 205.8 207.3 206.1 207.4Z",
13:"M 105.1 186.7 L 105 187 L 108.5 183 L 119.2 183 L 119.2 185.5 L 117 189.3 L 117 189.3 C 116.9 189.4 116.9 189.7 117 190.1 C 117 190.1 117 190.1 117.1 190.1 C 117.2 190.4 117.3 190.6 117.4 190.6 C 117.4 190.7 117.5 190.7 117.5 190.7 C 124.1 193.2 127.5 194.4 127.8 194.3 L 127.7 194.3 L 142.7 186.5 L 153.1 186.5 L 157.8 191.7 L 161.4 213.4 C 159.8 217.3 159 219.3 159 219.3 L 138.8 224.8 L 113.9 224.8 L 93.8 212.6 L 101.3 192 C 103.6 189.1 104.8 187.3 105.1 186.7Z","06":"M 35 199.9 C 35.1 199.8 35.1 199.7 35.1 199.6 C 35.1 199.4 35.1 199.3 35 199.3 L 28.5 190.4 L 38.8 187.7 L 38.8 193.9 C 38.8 194 38.9 194.2 39.1 194.4 C 39.2 194.6 39.4 194.8 39.5 194.8 C 39.5 194.8 39.5 194.8 39.6 194.8 L 63 200.3 C 63.1 200.3 63.2 200.3 63.3 200.3 L 93.8 189.3 C 93.9 189.3 93.9 189.3 94 189.3 C 94 189.3 94 189.3 94.1 189.4 C 94.4 189.6 94.7 189.6 94.9 189.6 L 100.2 188.8 L 98.6 190.6 C 98.6 190.6 98.5 190.7 98.5 190.7 L 90.7 212.3 L 74.1 222.5 C 74 222.6 73.9 222.7 73.8 222.8 L 73.4 223.9 C 73.3 223.9 73.3 224 73.4 224.2 L 74.9 230.9 L 56.9 240 L 35 231.6 L 35.1 231.7 C 34.9 231.6 33.5 231.2 30.8 230.5 L 24.4 223 L 25.6 211.8 L 35 199.9Z",
10:"M 67.7 155.8 C 67.7 155.8 67.8 155.8 67.9 155.7 L 72.2 154 L 82.4 161.2 L 81.3 167.8 C 81.2 167.8 81.2 167.9 81.3 167.9 L 81.4 168.6 C 81.4 168.6 81.4 168.7 81.4 168.8 L 92 187.8 L 62.8 198.3 L 40.8 193.1 L 40.8 186.4 C 40.8 186.1 40.7 186 40.6 185.8 C 40.5 185.6 40.4 185.5 40.2 185.5 C 40.2 185.4 40.2 185.4 40.2 185.4 C 40 185.4 39.8 185.4 39.6 185.4 L 27.4 188.7 L 21.7 176.2 L 35.1 176.2 C 35.4 176.2 35.6 176.1 35.8 175.9 C 36 175.7 36.1 175.4 36.1 175.2 L 36.1 156.1 L 39.5 154.4 C 39.8 154.5 40.1 154.6 40.4 154.6 L 48.7 154.6 C 48.8 154.6 48.8 154.6 48.9 154.6 L 49.5 154.3 C 49.6 154.3 49.6 154.3 49.7 154.2 L 57.7 147.3 L 66.4 155.4 C 66.4 155.5 66.5 155.5 66.6 155.6 L 67.7 155.8Z",
45:"M 97.5 160.5 C 97.6 160.5 97.6 160.4 97.7 160.4 L 101.8 156 L 104 158 C 104.1 158 104.1 158 104.1 158.1 L 105.8 159.7 C 105.8 159.8 105.9 159.8 106 159.8 L 107 160.1 C 107.1 160.1 107.2 160.1 107.3 160.1 L 116.8 156.8 L 131.1 161.7 L 124.4 167.3 C 124.3 167.4 124.3 167.4 124.3 167.5 C 124.2 167.6 124.2 167.6 124.2 167.7 L 124.2 169.2 C 124.2 169.3 124.2 169.3 124.3 169.4 C 124.3 169.5 124.3 169.5 124.4 169.6 L 126.2 171.2 C 126.2 171.2 126.3 171.3 126.4 171.3 L 127.6 171.5 C 127.7 171.5 127.8 171.4 127.9 171.4 L 141.8 164.1 L 146.3 164.1 L 147.6 170.8 C 147.6 170.8 147.6 170.8 147.6 170.9 C 147.6 170.9 147.7 171 147.7 171.1 C 147.7 171.1 147.7 171.1 147.8 171.1 L 153.4 179.3 L 152.6 184.6 L 142.4 184.6 C 142.3 184.5 142.1 184.6 142 184.7 L 127.2 192.4 L 119.3 189.3 L 121.1 186.3 L 121 186.3 C 121.1 186 121.2 184.6 121.2 182 C 121.2 181.8 121.1 181.6 120.9 181.3 C 120.6 181 120.4 180.9 120.2 181 L 108.1 181 C 108 181 107.9 181 107.8 181 L 107.5 181.2 C 107.4 181.3 107.4 181.3 107.3 181.3 L 103.7 185.5 C 102.9 185.3 102.5 185.3 102.3 185.4 L 102.3 185.4 L 94.7 186.5 L 84.3 167.8 L 85.3 161.9 L 96.7 160.9 C 96.8 160.8 96.8 160.8 96.9 160.8 L 97.5 160.5Z",
37:"M 68.5 121.4 C 68.6 121.3 68.7 121.1 68.7 121 L 69.7 117.7 L 85.9 120.9 C 85.9 120.9 86 120.9 86 120.9 L 86 120.9 L 88.8 121.3 L 88.8 131.3 L 78.4 141 L 78.4 141.1 C 78.3 141.1 78.2 141.2 78.2 141.3 C 78.1 141.5 78 141.6 78.1 141.8 L 78.1 146.4 L 72.1 151.2 C 72 151.2 71.9 151.2 71.9 151.2 C 71.5 151.1 71.2 151.1 71.1 151.2 L 67.7 152.6 L 58.8 144.2 C 58.7 144.1 58.6 144.1 58.5 144.1 L 57.1 144.1 C 57 144 56.9 144.1 56.8 144.2 L 48.2 151.6 L 41.3 151.6 L 43.3 144.3 C 43.3 144.3 43.3 144.2 43.4 144.2 C 43.4 144.2 43.4 144.1 43.4 144.1 L 43.4 131.9 C 43.4 131.8 43.4 131.7 43.4 131.7 C 43.4 131.6 43.3 131.6 43.3 131.5 L 40.7 124.9 L 42.2 124.9 C 42.4 124.9 42.6 124.8 42.8 124.7 C 42.8 124.7 42.8 124.7 42.8 124.7 L 53.8 115.5 L 67.4 121.6 C 67.4 121.6 67.4 121.6 67.4 121.6 C 67.6 121.6 67.7 121.7 67.9 121.7 C 67.9 121.7 68 121.6 68.1 121.6 C 68.1 121.6 68.2 121.6 68.3 121.5 C 68.3 121.5 68.4 121.5 68.5 121.4Z",
"05":"M 90.7 132.1 C 90.7 132 90.8 131.8 90.8 131.7 L 90.8 121.6 L 103.1 123.3 L 115.2 139.1 L 104.8 154.6 L 102.8 152.7 C 102.7 152.7 102.6 152.6 102.6 152.6 C 102.5 152.6 102.4 152.6 102.4 152.6 L 101 152.7 C 100.8 152.7 100.7 152.8 100.6 152.9 L 95.9 157.9 L 84.4 159 L 74.4 152 L 79.7 147.6 C 79.8 147.6 79.8 147.5 79.9 147.4 L 79.9 147.4 C 79.9 147.3 79.9 147.3 80 147.2 C 80 147 80.1 146.9 80.1 146.8 L 80.1 142.2 L 90.5 132.5 C 90.5 132.4 90.5 132.4 90.6 132.3 C 90.6 132.3 90.6 132.2 90.7 132.1Z",
40:"M 122.9 110.4 C 122.9 110.4 122.9 110.4 122.9 110.4 L 136.9 106.8 L 144.3 115.6 L 135.2 120.5 C 135.2 120.5 135.1 120.5 135.1 120.6 L 116.6 137.6 L 104.8 122.3 L 110.7 112.5 L 122.9 110.4Z",28:"M 135.3 133.8 L 135.3 134.9 C 135.3 135 135.3 135.1 135.4 135.2 L 146.4 150.8 L 148.2 161.1 L 141.5 161.1 C 141.4 161.1 141.3 161.1 141.3 161.1 L 140.9 161.2 C 140.8 161.2 140.8 161.2 140.8 161.3 L 128.9 167.5 L 135.1 162.2 C 135.1 162.2 135.2 162.1 135.2 162 C 135.3 161.9 135.3 161.9 135.3 161.8 L 135 160.1 C 134.9 160 134.9 159.9 134.8 159.8 C 134.8 159.8 134.7 159.7 134.6 159.7 L 117.3 153.8 C 117.3 153.8 117.2 153.8 117.2 153.8 L 116.5 153.8 C 116.4 153.7 116.4 153.8 116.3 153.8 L 107.2 156.9 L 107 156.7 L 117.7 140.7 C 117.7 140.7 117.7 140.7 117.8 140.7 C 117.8 140.6 117.8 140.4 117.9 140.3 L 136 123.8 L 139 127.2 L 135.3 133.6 C 135.3 133.6 135.2 133.7 135.3 133.8Z",
47:"M 83.7 88.5 L 86.8 81.3 L 94.6 79.4 L 94.6 92.9 C 94.6 93 94.7 93.2 94.8 93.4 C 94.9 93.6 95.1 93.8 95.4 93.8 L 120.7 99.9 L 121.6 108.6 L 109.9 110.6 C 109.9 110.6 109.9 110.6 109.9 110.6 C 109.7 110.7 109.6 110.7 109.6 110.8 L 109.6 110.8 L 109.5 110.8 C 109.4 110.9 109.3 111 109.2 111.1 L 109.2 111.1 L 103.1 121.3 L 87.1 119 L 87.1 106.5 C 87.1 106.4 87.1 106.4 87.1 106.4 C 87.1 106.3 87.1 106.3 87.1 106.3 L 83.7 88.5Z","03":"M 239.3 207.7 L 243.8 208.8 L 245.9 211.7 L 224.8 227.2 C 224.7 227.2 224.7 227.2 224.7 227.3 C 224.6 227.4 224.5 227.5 224.5 227.6 L 224.5 227.6 L 217.5 243.7 L 211.9 236.8 L 209.9 227.2 L 213.9 211.9 L 222.3 214.6 L 222.3 214.6 C 222.6 214.7 222.9 214.7 223.1 214.5 L 239.3 207.7Z",
46:"M 198.4 161.4 L 201.3 159.7 L 205.1 161.8 L 204.9 163.4 L 199.2 163.4 L 198.4 161.4Z M 231.4 193.5 C 231.4 193.6 231.4 193.7 231.5 193.9 C 231.5 193.9 231.5 194 231.5 194 L 237.8 206.2 L 222.6 212.6 L 214.2 210 L 214.2 206.1 C 214.2 205.7 214.1 205.3 213.8 205 C 213.5 204.7 213.1 204.5 212.7 204.6 L 207.5 204.6 L 204 200.1 L 207 192.6 C 207.1 192.2 207.1 191.9 207 191.5 L 207 191.5 C 206.8 191.1 206.5 190.8 206.2 190.7 L 197.5 187 L 199.2 180.1 L 202.4 178.6 C 202.6 178.5 202.8 178.4 202.9 178.3 C 202.9 178.2 203 178.2 203 178.1 C 203.1 178 203.1 177.9 203.2 177.7 C 203.2 177.7 203.2 177.7 203.2 177.6 L 205.7 168 L 206.4 167.9 L 206.5 167.9 C 206.5 167.9 206.5 167.9 206.5 167.9 L 214.2 166.9 C 214.2 166.9 214.3 166.9 214.3 166.9 L 218.3 173.3 C 218.3 173.3 218.4 173.3 218.4 173.4 C 218.4 173.4 218.5 173.4 218.5 173.5 C 218.6 173.6 218.8 173.7 219 173.7 L 232.8 175.6 L 231.4 193.5 L 231.4 193.5Z",
12:"M 233.8 135.9 L 244.2 137.2 L 251.8 144.2 L 233.3 173.6 L 219.8 171.8 L 216.2 165.8 L 231 152.1 C 231 152.1 231 152 231 152 C 231.1 151.8 231.2 151.6 231.3 151.4 L 231.3 151.4 C 231.4 151.1 231.5 150.8 231.4 150.6 L 231.4 150.6 L 228.9 140.4 L 233.8 135.9Z",44:"M 233.5 132.8 C 233.5 132.8 233.4 132.8 233.4 132.8 C 232.8 132.8 232.5 132.9 232.3 133.2 L 226.2 138.8 C 226.1 138.8 225.9 139.1 225.8 139.5 L 225.8 139.5 C 225.7 139.9 225.6 140.2 225.8 140.4 L 228.3 150.5 L 213.9 163.9 L 213.8 163.9 L 207.8 164.7 L 208.3 161.2 C 208.3 160.8 208.2 160.5 208.1 160.3 L 208.1 160.3 C 207.9 160 207.7 159.8 207.5 159.7 C 207.5 159.6 207.4 159.6 207.4 159.6 L 202 156.7 L 202 156.7 C 201.8 156.6 201.5 156.5 201.2 156.5 C 201 156.5 200.7 156.6 200.5 156.7 L 196.8 158.8 L 188 150 L 195.3 144.6 C 195.4 144.5 195.4 144.4 195.5 144.4 C 195.5 144.3 195.5 144.2 195.5 144.1 L 194.6 131.7 L 207.6 122.4 L 222.2 122.4 C 222.3 122.4 222.4 122.4 222.5 122.3 C 222.5 122.3 222.6 122.2 222.7 122.2 L 226.5 115.7 L 241.7 123.5 L 243.1 134 L 233.5 132.8Z",
50:"M 226.2 113.3 C 226.1 113.2 225.9 113.2 225.8 113.3 C 225.7 113.3 225.6 113.4 225.5 113.5 L 221.4 120.4 L 207.2 120.4 C 207 120.4 206.9 120.4 206.8 120.5 L 193.5 130 L 181.7 120.9 L 175.5 112.6 L 176.1 112.3 L 178.9 114.2 C 179 114.2 179.1 114.3 179.2 114.3 L 183.1 114.3 C 183.2 114.3 183.3 114.2 183.4 114.2 C 183.5 114.1 183.5 114 183.6 113.9 C 183.6 113.8 183.6 113.7 183.6 113.7 L 181.8 105.2 L 187.3 100.4 C 187.4 100.3 187.4 100.3 187.5 100.2 C 187.5 100.1 187.5 100 187.5 100 L 186.5 92.1 L 195.8 94.9 C 196 95 196.1 95 196.2 94.9 C 196.3 94.9 196.4 94.8 196.4 94.7 L 200.9 87.7 C 201 87.6 201 87.5 201 87.4 C 201 87.3 201 87.2 200.9 87.2 L 198.3 83.6 L 202.2 70.3 L 208.8 64.8 L 215.7 79 L 215.7 90.1 C 215.7 90.2 215.7 90.3 215.7 90.3 C 215.8 90.4 215.8 90.5 215.9 90.5 L 233.1 105.6 L 237.2 113.4 C 237.2 113.4 237.3 113.5 237.4 113.6 C 237.5 113.6 237.6 113.6 237.7 113.6 L 245.5 113 L 246.5 115.4 L 242.3 121.8 L 226.2 113.3Z",
19:"M 141.9 126.1 L 138.5 122.2 L 146.5 117.8 C 146.5 117.8 146.6 117.7 146.6 117.7 L 159.2 118.7 L 168.3 127.3 C 168.4 127.3 168.5 127.4 168.6 127.4 C 168.6 127.4 168.7 127.4 168.8 127.4 L 180.3 123.6 L 191.7 132.4 L 192.4 143 L 185.6 148 L 178.2 139.5 L 178.2 139.5 C 178 139.3 177.8 139.2 177.7 139.2 C 177.4 139.1 177.2 139.1 176.9 139.3 L 177 139.3 L 158.9 147.4 L 158.9 147.4 C 158.8 147.4 158.7 147.5 158.6 147.6 C 158.4 147.7 158.3 147.9 158.3 148.1 L 156.9 156.7 L 150.9 159.2 L 149.3 150 C 149.3 149.9 149.3 149.9 149.3 149.9 L 149.1 149.5 C 149.1 149.4 149.1 149.4 149.1 149.4 L 138.4 134.2 L 142.1 127.8 C 142.1 127.7 142.2 127.6 142.2 127.5 L 142 126.3 C 142 126.2 141.9 126.1 141.9 126.1Z",
16:"M 151.4 162.5 C 151.4 162.5 151.4 162.4 151.4 162.3 L 151.2 161.2 L 158.2 158.3 L 158.2 158.3 C 158.3 158.2 158.4 158.1 158.6 158 C 158.7 157.8 158.8 157.7 158.8 157.5 L 160.2 148.9 L 177.2 141.4 L 184.3 149.5 L 184.3 149.6 C 184.2 149.8 184.4 150.2 184.8 150.7 C 185 151.1 185.2 151.4 185.4 151.6 L 195.3 161.5 L 196.7 165.4 L 196.7 165.4 C 196.8 165.6 197 165.9 197.3 166.1 C 197.3 166.1 197.3 166.1 197.3 166.1 C 197.5 166.3 197.8 166.3 198.1 166.4 L 203.1 166.4 L 200.5 176.2 L 197.3 177.7 C 197.1 177.8 196.9 178 196.8 178.1 C 196.6 178.3 196.6 178.5 196.5 178.7 L 194.4 187 L 194.4 187 C 194.3 187.1 194.3 187.3 194.3 187.5 L 187.8 191.2 L 173 193.5 L 168.3 188.9 C 168.2 188.8 168.2 188.8 168.1 188.8 L 167.7 188.6 C 167.6 188.6 167.5 188.6 167.4 188.6 L 159.1 190.1 L 154.6 185.2 L 155.5 179.3 C 155.5 179.3 155.5 179.2 155.5 179.2 C 155.5 179.1 153.5 176.1 149.5 170.2 L 148.4 164.1 L 149.9 164.1 C 150 164 150 164 150.1 164 C 150.2 164 150.2 163.9 150.3 163.9 L 151.3 162.7 C 151.3 162.7 151.4 162.6 151.4 162.5Z",
42:"M 168.7 86 L 175 86.8 L 176.3 93.3 C 176.4 93.3 176.4 93.4 176.5 93.5 C 176.5 93.6 176.6 93.6 176.7 93.6 C 176.8 93.7 176.9 93.7 177 93.6 L 183.5 91.9 L 184.4 99 L 178.7 103.9 C 178.7 104 178.6 104.1 178.6 104.2 C 178.5 104.2 178.5 104.3 178.6 104.4 L 180 111.3 L 179.9 111.3 L 176.8 109.1 C 176.7 109.1 176.6 109.1 176.6 109.1 C 176.5 109 176.4 109 176.3 109.1 L 171.3 110.8 C 171.2 110.9 171.2 110.9 171.1 111 C 171 111.1 171 111.2 171 111.3 C 171 111.4 171 111.5 171.1 111.6 L 178.2 121.2 L 169.3 124.1 L 160.6 115.9 C 160.5 115.8 160.4 115.8 160.3 115.8 L 146.9 114.7 L 146.8 114.7 C 146.6 114.7 146.5 114.7 146.4 114.8 L 138.5 105.6 L 144.3 95.5 L 146.8 98.6 L 146.9 98.6 C 146.9 98.8 147.2 98.8 147.7 98.8 C 148.1 98.7 148.3 98.7 148.4 98.6 C 148.4 98.5 148.4 98.5 148.4 98.5 L 153.6 90.7 C 153.7 90.7 153.8 90.8 153.9 90.8 L 163.8 90.8 C 163.9 90.7 164.1 90.7 164.2 90.6 L 168.7 86Z",
26:"M 154.5 66.3 C 154.5 66.3 154.5 66.3 154.6 66.3 L 155.8 69 C 155.8 69.1 155.9 69.1 155.9 69.2 L 156.6 69.8 C 156.6 69.8 156.7 69.9 156.8 69.9 L 176.8 75.5 L 186.4 82.5 L 181.4 89.1 C 181.3 89.1 181.3 89.2 181.3 89.3 C 181.2 89.3 181.2 89.4 181.3 89.4 L 178.8 90.1 L 177.6 84.5 C 177.6 84.3 177.5 84.3 177.5 84.2 C 177.4 84.1 177.3 84.1 177.2 84.1 L 167.9 82.9 C 167.9 82.8 167.8 82.8 167.7 82.9 C 167.6 82.9 167.6 82.9 167.5 83 L 162.8 87.8 L 154.1 87.8 L 148.8 80.9 L 149.7 67.5 L 154.4 66.3 L 154.5 66.3Z",
43:"M 267.7 108.5 L 276.3 103.9 L 283.1 115.7 L 266.8 121.9 C 266.7 121.9 266.6 122 266.6 122 L 257.7 132.5 C 257.5 132.5 257.4 132.8 257.5 133.2 C 257.6 133.6 257.6 133.8 257.8 133.9 C 257.8 133.9 257.8 133.9 257.8 133.9 L 261.3 136.4 L 253.8 142 L 246.3 135.1 L 245 122.9 L 249.2 116.9 L 249.2 116.9 C 249.3 116.7 249.4 116.5 249.5 116.3 L 262.6 113.2 C 262.7 113.2 262.7 113.2 262.7 113.2 C 262.8 113.1 262.9 113.1 263.1 113 L 267.7 108.5Z",canaries:"M 191.2 360.9 L 191.2 316.2 L 223.8 283.6 L 377.3 283.6 L 191.2 360.9"},
FUEL_OPTIONS={1:{"short":"G95",name:"Gasolina 95"},3:{"short":"G98",name:"Gasolina 98"},4:{"short":"GOA",name:"Gas\u00f3leo Automoci\u00f3n"},5:{"short":"NGO",name:"Nuevo Gas\u00f3leo A"},6:{"short":"GOB",name:"Gas\u00f3leo B"},7:{"short":"GOC",name:"Gas\u00f3leo C"},8:{"short":"BIOD",name:"Biodi\u00e9sel"}},CHART_OPTIONS=[{id:"G98",color:"#339933",name:"Gasolina 98"},{id:"G95",color:"#006633",name:"Gasolina 95"},{id:"NGO",color:"#aaa",name:"Nuevo Gas\u00f3leo A"},{id:"BIOD",color:"#f1aa41",name:"Biodi\u00e9sel"},
{id:"GOA",color:"#000",name:"Gas\u00f3leo Automoci\u00f3n"},{id:"GOC",color:"#FF3300",name:"Gas\u00f3leo C"},{id:"GOB",color:"#CC3333",name:"Gas\u00f3leo B"}],PROVS={"\u00c1lava":"01",Albacete:"02",Alicante:"03","Almer\u00eda":"04",Asturias:"33","\u00c1vila":"05",Badajoz:"06","Balears (Illes)":"07",Barcelona:"08",Burgos:"09","C\u00e1ceres":"10","C\u00e1diz":"11",Cantabria:"39","Castell\u00f3n / Castell\u00f3":"12",Ceuta:"51","Ciudad Real":"13","C\u00f3rdoba":"14","Coru\u00f1a (A)":"15",Cuenca:"16",
Girona:"17",Granada:"18",Guadalajara:"19","Guip\u00fazcoa":"20",Huelva:"21",Huesca:"22","Ja\u00e9n":"23","Le\u00f3n":"24",Lleida:"25",Lugo:"27",Madrid:"28","M\u00e1laga":"29",Melilla:"52",Murcia:"30",Navarra:"31",Ourense:"32",Palencia:"34","Palmas (Las)":"35",Pontevedra:"36","Rioja (La)":"26",Salamanca:"37","Santa Cruz De Tenerife":"38",Segovia:"40",Sevilla:"41",Soria:"42",Tarragona:"43",Teruel:"44",Toledo:"45","Valencia / Val\u00e8ncia":"46",Valladolid:"47",Vizcaya:"48",Zamora:"49",Zaragoza:"50"},
MONTHS="Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),COLORS={stroke:"#fff",min:"#36AE34",max:"#f00",mu:"#3399CC"},LS_EXPIRE=36E5;function addEvent(c,f,a){c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a)}
function lockScroll(c){"string"==typeof c&&(c=document.getElementById(c));addEvent(c,"mouseover",function(){document.body.style.overflow="hidden"});addEvent(c,"mouseout",function(){document.body.style.overflow="auto"})}
function initProvLinks(c,f){var a=document.getElementById(c),m;for(m in PROVS){var u=document.createElement("li");u.id="plist-"+PROVS[m];if(f)u.textContent=m,u.onclick=f;else{var n=document.createElement("a");n.title="Todas las gasolineras de "+m;n.textContent=m;n.href="/gasolineras/"+encodeName(m);u.appendChild(n)}a.appendChild(u)}lockScroll(a)}function getProvName(c){for(k in PROVS)if(PROVS[k]==c)return k}function clearHtmlTags(c){return c.replace(/(<([^>]+)>)/ig,"")}
function toTitle(c){return c.replace(" [N]","").replace(/^CARRETERA ?|^CR\.? ?/i,"CTRA. ").replace(/(CTRA. )+/i,"CTRA. ").replace(/^AVENIDA ?|^AV. ?/i,"AVDA. ").replace(/^POLIGONO INDUSTRIAL ?|POLIGONO ?|P\.I\. ?/i,"POL. IND. ").replace(/^CALLE |^CL\.? ?|C\/ ?/i,"C/ ").replace(/^RONDA |^RD /i,"RDA. ").replace(/^AUTOPISTA (AUTOPISTA ?)?/i,"AU. ").replace(/^PLAZA ?/i,"PL. ").replace(/^PASEO (PASEO ?)?/i,"P\u00ba ").replace(/^TRAVESS?[I\u00cd]A /i,"TRAV. ").replace(/^V[i\u00ed]A (V[I\u00cd]A )?/i,"V\u00cdA ").replace(/\B[^\d- ]+[ $]/g,
function(c){return c.toLowerCase()}).replace(/\b[NAE]-.+\b/,function(c){return c.toUpperCase()}).replace(/\[D\]$/,"(m.d.)").replace(/\[I\]$/,"(m.i.)").replace(/ \[N\]$/,"")}
function getLogo(c){return c&&(c=c.replace(/camspa/i,"campsa"),logo=c.match(/\b(abycer|agla|alcampo|andamur|a\.?n\.? energeticos|avia|bonarea|b\.?p\.?|buquerin|campsa|carmoned|carrefour|cepsa|empresoil|eroski|esclatoil|galp|gasolben|iberdoex|leclerc|makro|meroil|norpetrol|petrem|petrocat|petromiralles|petronor|ramell|repostar|repsol|saras|shell|simply|staroil|tamoil|valcarce)\b/i))?logo[0].replace(/\./g,"").replace(/ /g,"_").toLowerCase():null}
function decodeName(c){return decodeURI(c).replace(/_/g," ").replace(/\|/g,"/")}function decodeArray(c){for(var f=0;f<c.length;f++)c[f]=decodeName(c[f]);return c}function encodeName(c){return encodeURI(c.replace(/\//g,"|").replace(/ /g,"_"))}function prettyName(c){c.match("/")&&(c=c.split("/")[1]);c.match(/\)$/)&&(c=c.match(/\(.+\)$/g)[0].replace("(","").replace(")"," ")+c.split(" (")[0]);return c}
function checkLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(c){return!1}}function getKey(){return window.location.pathname.split("/").slice(1).join("*")}
function getApiData(c,f,a){"undefined"==typeof a&&(a=!1);var m=c+"*"+getKey(),u=(new Date).getTime();if(checkLocalStorage()){var n=localStorage[m];if(n)if(n=JSON.parse(n),u-n.ts>LS_EXPIRE||a)localStorage.removeItem(m);else{f(n.data);return}}a=new XMLHttpRequest;a.onreadystatechange=function(a){4==this.readyState&&200==this.status&&(a=JSON.parse(this.responseText),checkLocalStorage()&&localStorage.setItem(m,JSON.stringify({ts:u,data:a})),f(a))};n="api/";"history"==c?n+="h":"comments"==c&&(n+="c");
c=window.location.pathname.split("/")[1];a.open("GET",document.URL.replace(c,n));a.send()}function distance(c,f,a){var m=Math.abs(c[0]-f[0])*Lat2Km;return m<a&&(c=Math.abs(c[1]-f[1])*Lon2Km,c<a&&(m=Math.sqrt(m*m+c*c),m<a))?m:!1}
function distanceOrto(c,f,a,m){var u=[a[0]-f[0],a[1]-f[1]],n=[c[0]-f[0],c[1]-f[1]],n=(n[0]*u[0]+n[1]+u[1])/(u[0]*u[0]+u[1]*u[1]);if(0>=n)return distance(c,f,m);if(1<=n)return distance(c,a,m);c=[(f[0]+n*u[0]-c[0])*Lat2Km,(f[1]+n*u[1]-c[1])*Lon2Km];return Math.sqrt(c[0]*c[0]+c[1]*c[1])<m}
function SearchLocations(){this.locs=[];this.radius=2;this.length=function(){return this.locs.length};this.add=function(c,f){this.locs.push({name:c,latlng:f})};this.latlng=function(){return 1==this.length()?this.locs[0].latlng:null};this.name=function(){return 1==this.length()?this.locs[0].name:null};this.get=function(c){return this.locs[c]};this.select=function(c){this.locs=[this.locs[c]]};this.clear=function(){this.locs=[]}}
function Stats(){this.n=0;this.max=this.min=this.mu=this.range=null;this.smin=[];this.smax=[];this.g=null;this.range=function(){null==this.range&&(this.range=this.max-this.min);return this.range};this.add=function(c,f,a){this.mu?(c>this.max?(this.max=c,this.smax=[f]):c==this.max?this.smax.push(f):c<this.min?(this.min=c,this.smin=[f]):c==this.min&&this.smin.push(f),this.mu=(this.mu*this.n+c)/++this.n):(this.max=this.min=this.mu=c,this.smin=[f],this.smax=[f],this.n=1);a&&(this.g?(a[0]<this.g[0]?this.g[0]=
a[0]:a[0]>this.g[1]&&(this.g[1]=a[0]),a[1]<this.g[2]?this.g[2]=a[1]:a[1]>this.g[3]&&(this.g[3]=a[1])):this.g=[a[0],a[0],a[1],a[1]])}}
function GasoleStats(c,f){function a(a,c,f,n){c[n]||(c[n]=new Stats);f[n]||(f[n]=new Stats);c[n].add(a.o[n],[u,z,G],a.g);f[n].add(a.o[n],[u,z,G],a.g)}var m=this.stats={};this.provinces={};for(var u in c){var n=c[u],v=this.provinces[u]={},z;for(z in n){var C=n[z],G;for(G in C)if(datas=C[G],f)for(var A=f.length-1;0<=A;A--){var x=f[A];datas.o[x]&&a(datas,v,m,x)}else for(x in datas.o)a(datas,v,m,x)}}}
function Gasole(c){this.color=function(c){var a=this.stats.range();if(0!=a){c=(c-this.stats.min)/a;if(0.33>c)return COLORS.min;if(0.66<c)return COLORS.max}return COLORS.mu};this.init=function(c,a,m){this.info=c;this.date=a;this.stats=m?m:new GasoleStats(this.info)};this.provinceDataArray=function(c){this.stats=new Stats;var a=this.type;result=[];c=this.info[c];for(var m in c){var u=c[m],n;for(n in u){var v=u[n],z=v.o[a];z&&(result.push({a:n,r:v.r,g:v.g,p:z,t:m,l:v.l,d:null}),this.stats.add(z))}}return result};
this.nearData=function(c){var a=c.latlng();if(a){c=c.radius;var m={},u;for(u in this.info){var n=this.info[u];m[u]={};for(var v in n){var z=n[v];m[u][v]={};for(var C in z){var G=z[C],A=G.g;A&&distance(A,a,c)&&(m[u][v][C]=G)}Object.keys(m[u][v]).length||delete m[u][v]}Object.keys(m[u]).length||delete m[u]}return m}};this.nearDataArray=function(c,a,m){var u=c.latlng();if(u){c=c.radius;this.stats=new Stats;var n=[],v;for(v in this.info){var z=this.info[v],C;for(C in z){var G=z[C],A;for(A in G){var x=
G[A];if(x.o.hasOwnProperty(a)){var M=x.g;if(M){var w=distance(M,u,c);if(w){var T=x.o[a];n.push({a:A,prov:v,g:M,p:T,t:C,l:x.l,d:w});this.stats.add(T)}}}}}}return m?n.sort(function(a,c){return a[m]<c[m]?-1:1}):n}};this.routeData=function(c){var a={};gasoleProcess(this.info,function(m,u,n,v){var z=m.g;if(z)for(var C=0,G=c.length-1;C<G;C++){var A=c[C],x=c[C+1];distanceOrto(z,[A.lat(),A.lng()],[x.lat(),x.lng()],1)&&((A=a[u])||(A=a[u]={}),(x=A[n])||(x=A[n]={}),x[v]=m)}});return a};this.callback=c;this.date=
this.info=this.stats=null;this.type="1";c=null;checkLocalStorage()&&(c=localStorage.gasole)&&(c=JSON.parse(c));!c||(new Date).getTime()-parseInt(c.ts)>LS_EXPIRE?(c=new XMLHttpRequest,c.gasole=this,c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var c=null,a=JSON.parse(this.responseText);a._meta?(c=new Date(a._meta.ts),a=a._data):c=new Date;this.gasole.init(a,c);checkLocalStorage()&&(c={ts:c.getTime(),data:a,stats:this.gasole.stats},localStorage.setItem("gasole",JSON.stringify(c)));
this.gasole.callback&&this.gasole.callback()}},c.open("GET","/api/gasole"),c.send()):(this.init(c.data,new Date(c.ts),c.stats),this.callback&&this.callback())}function fillPriceDigits(c,f){c.innerHTML="";for(var a=f.toFixed(3),m=0;m<a.length;m++){var u=document.createElement("div");u.className="back";"."==a[m]?u.className+=" point":u.textContent=8;var n=document.createElement("div");n.className="digit";n.textContent=a[m];u.appendChild(n);c.appendChild(u)}}
function gasoleProcess(c,f){for(var a in c){var m=c[a],u;for(u in m){var n=m[u],v;for(v in n)f(n[v],a,u,v)}}}function stopEvent(c){c.cancelBubble=!0;c.returnValue=!1;c.stopPropagation&&c.stopPropagation();c.preventDefault&&c.preventDefault();return!1}
function sortName(c,f){function a(a){a=a.toLowerCase();a=a.replace(RegExp(/\s/g),"");a=a.replace(RegExp(/[\u00e0\u00e1]/g),"a");a=a.replace(RegExp(/[\u00e8\u00e9]/g),"e");a=a.replace(RegExp(/[\u00ec\u00ed]/g),"i");a=a.replace(RegExp(/[\u00f2\u00f3]/g),"o");return a=a.replace(RegExp(/[\u00f9\u00fa]/g),"u")}return a(c)<a(f)?-1:1}
function formatUpdate(c){var f;f="Precios actualizados el "+(c.getDate()+" de "+MONTHS[c.getMonth()]);return f+=" a las "+("0"+c.getHours()).slice(-2)+":"+("0"+c.getMinutes()).slice(-2)}Array.prototype.filter||(Array.prototype.filter=function(c,f){if(null==this)throw new TypeError;var a=Object(this),m=a.length>>>0;if("function"!=typeof c)throw new TypeError;for(var u=[],n=0;n<m;n++)if(n in a){var v=a[n];c.call(f,v,n,a)&&u.push(v)}return u});var TIME;function tic(){TIME=(new Date).getTime()}
function toc(c){console.log((c?c+" :":"Transcurridos: ")+((new Date).getTime()-TIME)+" ms")}
function breadCrumb(c,f){var a=document.getElementById(c);if(a){a.innerHTML="<a href='/' class='bc'>Gasolineras</a><span class='sprt breadcrumb'>&nbsp;</span>";var m=window.location.pathname.split("/"),u=document.createElement("a");u.className="bc";if("resultados"==m[1])u.textContent="Cerca de "+decodeURI(m[2]),u.href="#",a.appendChild(u);else if("ruta"==m[1])u.textContent="Ruta entre "+decodeURI(m[2])+" y"+decodeURI(m[3]),u.href="#",u.title=u.textContent,a.appendChild(u);else{var n=decodeName(m[2]);
u.textContent=n;u.title="Ver todas las gasolineras en la provincia de "+n;var v="/gasolineras/"+m[2];u.href=v;a.appendChild(u);m[3]&&(a.innerHTML+="<span class='sprt breadcrumb'>&nbsp;</span>",u=document.createElement("a"),u.className="bc",n=decodeName(m[3]),u.textContent=n,u.title="Ver todas las gasolineras en la localidad de "+n,u.href=v+"/"+m[3],a.appendChild(u));m[4]&&(a.innerHTML+="<span class='sprt breadcrumb'>&nbsp;</span>",u=document.createElement("a"),u.className="bc",u.textContent="Gasolinera "+
(f?f:"")+" en "+toTitle(decodeName(m[4])),u.href=window.location.pathname,a.appendChild(u))}}};var theGasole=null,theInfo=null,theStats=null,theGrid=null,TYPE="1",heatPoints=[],histogram=new Histogram,circles=new Circles,brands=new Brands,openMap=null,openMapOSM=null,markersLayer=null,heatmapLayer=null,priceLayer=null,MAP_LIMITS=[27.5244,43.3781,-18.4131,3.8672],NBINS=10,GRID_RESOLUTION=4E4;REGIONS={};for(var p in PROVS){var id=PROVS[p];REGIONS[p]={id:id,color:null,picker:null,selected:!1,path:PATHS[id]}}
var BRANDS={alcampo:1,avia:1,bp:1,campsa:1,carrefour:1,cepsa:1,eroski:1,galp:1,leclerc:1,makro:1,petronor:1,repsol:1,saras:1,shell:1,otras:1};function checkBrand(c){c=getLogo(c);return c in BRANDS?c:"otras"}var SKIP=["Ceuta","Melilla","Santa Cruz De Tenerife","Palmas (Las)"],skip=!1;function skipProv(c){return skip&&0<=SKIP.indexOf(c)}var CMIN=[0,255,0],CMU=[255,255,0],CMAX=[255,0,0],CNA="#ccc";
function reprojectLatLon(c){var f=new OpenLayers.Projection("EPSG:4326");c=new OpenLayers.LonLat(c[1],c[0]);c.transform(f,openMap.getProjectionObject());return c}function array2color(c){return"rgb("+c.join(",")+")"}
function PriceColorPicker(){this.colorCache={};this.get=function(c,f,a,m){if(c in this.colorCache)return this.colorCache[c];if(a==f)return array2color(CMU);if(c>=a)return array2color(CMAX);if(c<=f)return array2color(CMIN);"undefined"==typeof m&&(m=(f+a)/2);var u=CMIN,n=CMAX;c<m?(a=m,n=CMU):(f=m,u=CMU);m=[];for(var v=0;3>v;v++){var z=u[v]+(c-f)*(n[v]-u[v])/(a-f);m[v]=0>z?0:Math.round(Math.min(255,z))}f=array2color(m);return this.colorCache[c]=f}}
function raphaelUpdate(){if(theStats){var c=theStats.provinces,f=[],a;for(a in c)c[a][TYPE]&&f.push(c[a][TYPE].mu);var m=d3.min(f),u=d3.max(f),n=d3.mean(f),v=new PriceColorPicker;paper.forEach(function(a){if(a.pname)if(skipProv(a.pname))a.hide();else{a.show();var f=c[a.pname];f?(f=(f=f.hasOwnProperty(TYPE)?f[TYPE].mu:null)?v.get(f,m,u,n):CNA,a.attr({fill:f})):a.attr({fill:"#333"})}})}}
function openMapZoom(c){var f=null;if(c){if(c=theGasole.stats.provinces[c][TYPE])f=c.g}else f=MAP_LIMITS;f&&(bl=reprojectLatLon([f[0],f[2]]),tr=reprojectLatLon([f[1],f[3]]),openMap.zoomToExtent([bl.lon,bl.lat,tr.lon,tr.lat]))}
function drawMarkers(){markersLayer.clearMarkers();if(!(10>openMap.getZoom())){var c=markersLayer.getExtent();gasoleProcess(theInfo,function(f,a,m,u){if(f.o[TYPE]&&f.ll){var n=f.ll;if(c.containsLonLat(n)){var v=new OpenLayers.Icon(null,new OpenLayers.Size(30,20));f=getLogo(f.l);v.imageDiv.className="logo "+(f||"otra");n=new OpenLayers.Marker(n,v);n.url=encodeName(a)+"/"+encodeName(m)+"/"+encodeName(u);n.events.register("click",n,function(){window.open("/ficha/"+this.url)});markersLayer.addMarker(n)}}})}}
function openMapinit(){openMap=function(){var c=new OpenLayers.Projection("EPSG:3857");map=new OpenLayers.Map("openmap");openMapOSM=new OpenLayers.Layer.OSM("OpenStreetMap");openMapOSM.projection=c;map.addLayer(openMapOSM);return map}();priceLayer=function(){var c=new OpenLayers.Layer.Vector("Precio: Ret\u00edcula coloreada");c.hasResolution=!0;openMap.addLayer(c);return c}();heatLayer=function(){var c=new OpenLayers.Layer.Heatmap("Concentraci\u00f3n: Mapa de calor",openMap,openMapOSM,{radius:10,
gradient:{"0.5":"cyan","0.6":"blue",1:"magenta"}},{isBaseLayer:!1,opacity:0.2,projection:new OpenLayers.Projection("EPSG:4326")});openMap.addLayer(c);return c}();markersLayer=function(){var c=new OpenLayers.Layer.Markers("Marcadores de gasolineras");openMap.addLayer(c);gasoleProcess(theGasole.info,function(c){c.g&&(c.ll=reprojectLatLon(c.g))});openMap.events.register("zoomend",c,drawMarkers);openMap.events.register("moveend",c,drawMarkers);return c}();openMapZoom()}
function drawPriceGrid(){priceLayer.removeAllFeatures();if(theGrid&&theStats.stats[TYPE]){var c=theStats.stats[TYPE].min,f=theStats.stats[TYPE].max,a=theStats.stats[TYPE].mu,m=theGrid.grid,u=[],n=new PriceColorPicker,v;for(v in m){var z=m[v].x,C;for(C in m[v]){var G=m[v][C],A=G.y,G=n.get(G.p,c,f,a),A=(new OpenLayers.Bounds(z,A,z+GRID_RESOLUTION,A+GRID_RESOLUTION)).toGeometry(),A=new OpenLayers.Feature.Vector(A);A.style={fillColor:G,strokeColor:"#fff",strokeWidth:1,fillOpacity:0.5};u.push(A)}}priceLayer.addFeatures(u)}}
function drawHeatMap(){heatLayer.setDataSet({max:1,data:theStats.stats[TYPE]?heatPoints:[]})}
function raphaelInit(){paper=Raphael("raphael");for(p in REGIONS){var c=paper.path(REGIONS[p].path).attr({stroke:"#fff","stroke-width":0});c.pname=p;c.click(function(){checkProvince(document.getElementById("plist-"+PROVS[this.pname]));updateAll()});c.hover(function(){this.attr("opacity",0.5);var c=this.pname;document.getElementById("prov-current").textContent=c;if(pdata=theGasole.stats.provinces[c][TYPE]){var a=pdata.mu,m=this.getBBox(),u=m.cx<paper.width/3?m.x2:m.x-190,n=paper.rect(u,m.cy,190,50,
5).attr({stroke:"#fff",fill:"#7e2516","stroke-width":3}),c=c+", "+FUEL_OPTIONS[TYPE].name+"\n",c=c+(pdata.n+" puntos de venta\n"),c=c+(a.toFixed(3)+" \u20ac/l de media"),a=paper.text(u+5,m.cy+25,c);a.attr({fill:"#fff","text-anchor":"start","font-size":"11px"});paper.tooltip=paper.set();paper.tooltip.push(n);paper.tooltip.push(a)}},function(){this.attr("opacity",1);document.getElementById("prov-current").textContent="Provincias";paper.tooltip.forEach(function(c){c.remove()})},c,c);c.node.setAttribute("class",
"prov");REGIONS[p].path=c}paper.setViewBox(-50,0,450,400,!0)}
function checkProvince(c,f){var a=REGIONS[c.textContent];"undefined"==typeof f&&(f=!a.selected);c.className=f?"on":"";if(f&&!a.color){var m=document.createElement("div");m.className="config";var u=document.createElement("input");u.value=Raphael.getColor().slice(1);u.className="color";a.color=new jscolor.color(u,{pickerPosition:"right",pickerClosable:!0});addEvent(u,"change",function(){updateAll(!1)});m.appendChild(u);c.appendChild(m)}a.selected=f}
function initControl(){function c(c){stopEvent(c);this.className=this.className?"":"on"}(function(){function f(){for(var a=document.getElementById("type").getElementsByTagName("li"),c=a.length;0<c;){var f=a[--c];f.className=f.className.replace(" on","");f.id.match(TYPE)&&(f.className+=" on")}}var a=document.getElementById("type"),m;for(m in FUEL_OPTIONS){var u=document.createElement("li");u.id="o-"+m;u.textContent=FUEL_OPTIONS[m].name;u.className="T_"+FUEL_OPTIONS[m]["short"];a.appendChild(u);u.onclick=
function(a){TYPE=this.id.split("-")[1];f();updateAll();return stopEvent(a)}}document.getElementById("type-list").onclick=c;f(TYPE)})();(function(){document.getElementById("checkall").onclick=function(a){var c="on"!=this.className;this.textContent=(c?"Desmarcar":"Marcar")+" Todas";this.className=c?"on":"";provs=document.getElementById("province").getElementsByTagName("li");for(var f=2,n=provs.length;f<n;f++)checkProvince(provs[f],c);updateAll();return stopEvent(a)};document.getElementById("hide").onclick=
function(a){var c="on"!=this.className;this.className=c?"on":"";skip=c;for(var c=document.getElementById("province").getElementsByTagName("li"),f=0,n=c.length;f<n;f++){var v=c[f];v.style.display=skipProv(v.textContent)?"none":"block"}updateAll();return stopEvent(a)};var f=document.getElementById("whyhide");f.onmouseover=function(a){document.getElementById("hide").style.height="250px"};f.onmouseout=function(){document.getElementById("hide").style.height=""};initProvLinks("province",function(a){checkProvince(this);
updateAll();return stopEvent(a)});document.getElementById("prov-list").onclick=c})();addEvent(document.getElementById("stack"),"change",function(){histogram.stacked=this.checked;histogram.draw()});addEvent(document.getElementById("spread"),"change",function(){circles.spread=this.checked;circles.draw()});addEvent(document,"click",function(){0==document.getElementsByClassName("picker").length&&(document.getElementById("prov-list").className=document.getElementById("type-list").className="")});(function(){function c(a){function f(a){a=
GRID_RESOLUTION+2E4*a;0>=a||3E5<a||(GRID_RESOLUTION=a,m.textContent="Resoluci\u00f3n: "+a/1E3+" km.",theGrid=new PriceGrid(theStats.stats[TYPE]),gasoleProcess(theInfo,callbackGrid),drawPriceGrid())}if(!a.querySelector(".spinner")){var n=document.createElement("div");n.className="spinner";var m=document.createElement("div");m.textContent="Resoluci\u00f3n: "+GRID_RESOLUTION/1E3+" km.";var v=document.createElement("div");v.className="button up";n.appendChild(v);var u=document.createElement("div");u.className=
"button down";n.appendChild(u);n.appendChild(m);a.appendChild(n);v.onclick=function(a){stopEvent(a);f(1)};u.onclick=function(a){stopEvent(a);f(-1)}}}for(var a=document.getElementById("layers-list"),m=0,u=openMap.layers.length;m<u;m++){var n=openMap.layers[m],v=document.createElement("li");n.getVisibility()&&(v.className="on");var z=document.createElement("div");z.className="layer-name";z.textContent=n.name;v.appendChild(z);a.appendChild(v);n.hasResolution&&new c(v);addEvent(v,"click",function(){var a=
this.getElementsByClassName("layer-name")[0].textContent;if(a=openMap.getLayersByName(a)[0]){var c="on"!=this.className;a.setVisibility(c);this.className=c?"on":""}})}})();(function(){addEvent(window,"scroll",function(){var c=document.getElementById("toolbar");0>=document.getElementById("toolbar-container").getBoundingClientRect().top?(c.style.position="fixed",c.style.top=0):c.style.position="relative"})})()}
function Circles(c){this.spread=!1;this.draw=function(){function c(a,f,n){n||(n=d3.select(pa.selectAll("rect")[0][a]));f?(n.transition().duration(50).attr("y",5).attr("height",15),pa.selectAll("text")[0][a].style.display="block"):(n.transition().duration(50).attr("y",10).attr("height",10),pa.selectAll("text")[0][a].style.display="none")}function a(a,n,m,v,u){pa.selectAll(".item").remove();var x=pa.selectAll(".item").data(a).enter().append("g").attr("class","item").attr("transform",function(a,c){return"translate("+
4*c+",0)"});x.append("rect").attr("x",0).attr("y",10).attr("width",4).attr("height",10).style("display",function(a){return a.n?"block":"none"}).datum(function(a,c){return n?c%2?n[0]:n[1]:a.c}).attr("fill",function(a,c){return a}).on("mouseover",function(a,n){c(n,!0,d3.select(this));m&&m(n)}).on("mouseout",function(a,n){c(n,!1,d3.select(this));v&&v(n)}).on("mousedown",function(a,c){u&&u(c)});x.append("text").data(a).text(function(a,c){return a.name}).attr("text-anchor","middle").style("display","none")}
function m(){va.select(".x.axis").transition().duration(500).call(ea);var a=va.select(".y.axis");a.transition().duration(500).call(Pa);a.selectAll("text").style("font-size",".8em").attr("transform","translate(-15,0)")}function u(){ldata=T;a(ldata,null,function(a){v(sa.selectAll(".circle")[0][a])},function(a){z(sa.selectAll(".circle")[0][a])},function(a){G(sa.selectAll(".circle")[0][a])})}function n(a){var c=a.name,f={},n={};f[c]=theInfo[c];gasoleProcess(f,function(a,c,f,m){a.o[TYPE]&&(n[f]?n[f]++:
n[f]=1)});c=[prettyName(c)];c.push(a.n+" puntos de venta");c.push(" en "+Object.keys(n).length+" ciudades");c.push("Precio medio: "+a.p.toFixed(3)+" \u20ac/l");return c}function v(a,m){a=d3.select(a);if(a.attr("r")==R){var v=a.data()[0];a.attr("opacity",1);showTooltip("pinfo",va,n(v),{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5},{cx:ta(v.p),cy:$(v.n),r:v.r+2});0<=m&&c(m,!0)}}function z(a,n){a=d3.select(a);parseInt(a.attr("r"))==R&&(a.attr("opacity",0.8),C("pinfo"),0<=n&&c(n,!1))}function C(a){va.select("#"+
a).remove()}function G(v){function x(a){a=d3.select(a);var c=a[0][0].__data__,f=[c.name];a.attr("fill",M).attr("stroke-width",4);f.push(c.n+" puntos de venta");f.push("Precio medio: "+c.mu.toFixed(3)+" \u20ac/l");showTooltip("tinfo",va,f,{r:100,fill:T,stroke:"#fff","stroke-width":3},{cx:ta(c.mu),cy:$(c.n),r:0,stroke:"#fff"})}function ea(a){d3.select(a).attr("fill",G).attr("stroke-width",1);C("tinfo")}v=d3.select(v);var w=v.data()[0],z=document.getElementById("spread-label");if(parseInt(v.attr("r"))==
A)va.attr("class","chart"),ta.domain([D,fa]),$.domain([oa,Ba]),m(),sa.selectAll(".city").remove(),Sa.transition().duration(500).ease("bounce").attr("r",function(a){return a.r}),C("pinfo"),u(),z.style.opacity=1;else{z.style.opacity=0;va.attr("class","chart white");var G=w.c,M=d3.rgb(G).darker().toString(),T=d3.rgb(G).brighter([0.4]).toString();C("pinfo");v={r:100,fill:M,stroke:"#fff","stroke-width":5};showTooltip("pinfo",va,n(w),v,{corner:!0});var R=w.name;Sa.transition().duration(500).attr("r",function(a){return a.name==
R?A:0});v=theInfo[R];var z=theStats.provinces[R][TYPE],w=[],K=0,pa;for(pa in v){var S=v[pa],Pa=new Stats,Ka;for(Ka in S){var Qa=S[Ka].o[TYPE];Qa&&Pa.add(Qa,[ga,pa,Ka])}Pa.n&&(Pa.n>K&&(K=Pa.n),Pa.name=pa,w.push(Pa))}w.sort(function(a,c){return sortName(a.name,c.name)});ta.domain([z.min,z.max]);$.domain([1,K]);m();pa=sa.selectAll(".city").data(w);a(w,[M,"#fff"],function(a){x(sa.selectAll(".city")[0][a])},function(a){ea(sa.selectAll(".city")[0][a])});pa.enter().append("rect").attr("class","city").attr("x",
function(a){return ta(a.mu)-5}).attr("y",function(a){return $(a.n)-5}).attr("width",0).attr("height",0).attr("stroke","#fff").attr("fill",G).transition().duration(200).ease("bounce").attr("width",10).attr("height",10);pa.on("mouseover",function(a,n){x(this);c(n,!0)});pa.on("mouseout",function(a,n){ea(this);c(n,!1)})}}var A=3E3,x=theStats.stats[TYPE];showChartContainer("circles",null!=x);if(x){var M=d3.select("#circles"),w=theStats.provinces,T=[],R=20,K=[],D=x.min,fa=x.max,oa=1E4,Ba=0,ga;for(ga in REGIONS)if((x=
w[ga])&&x[TYPE]){var x=x[TYPE],S=x.n,Ka="#"+REGIONS[ga].color,Qa=x.mu;K.push(Qa);this.spread?T.push({name:ga,p:Qa,n:S,c:Ka,r:R,min:x.min,max:x.max}):T.push({name:ga,p:Qa,n:S,c:Ka,r:R,min:0,max:0});S>Ba&&(Ba=S);S&&S<oa&&(oa=S)}else T.push({name:ga,p:0,n:0,c:"#ccc",r:0,min:0,max:0});!this.spread&&1<K.length&&(D=d3.min(K),fa=d3.max(K));T.sort(function(a,c){return sortName(a.name,c.name)});divWidth=parseInt(M.style("width").split("px")[0]);divHeight=parseInt(M.style("height").split("px")[0]);var w=5+
R,K=50+R,x=divWidth-K-(5+R),S=divHeight-w-(50+R),ta=d3.scale.linear().domain([D,fa]).range([0,x]),$=d3.scale.log().domain([oa,Ba]).range([S,R]),ea=d3.svg.axis().scale(ta).orient("bottom").ticks(5).tickFormat(d3.format(".3f")),Pa=d3.svg.axis().scale($).orient("left").ticks(10).tickFormat(d3.format(".0f")),va=M.select(".chart");null==va[0][0]&&(va=M.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform","translate("+K+","+w+")").attr("width",x+"px").attr("height",
S+"px"),va.append("g").attr("class","shapes"),va.append("g").attr("class","x axis").attr("transform","translate(0,"+S+")"),va.append("g").attr("class","y axis"),va.append("g").attr("class","legend").attr("transform","translate(0,"+(S+40)+")"));var sa=va.select(".shapes"),pa=va.select(".legend");m();u();M=sa.selectAll(".spread.min").data(T);M.transition().duration(500).attr("x1",function(a){return a.min?ta(a.min):ta(a.p)}).attr("y1",function(a){return a.n?$(a.n):d3.select(this).attr("y1")}).attr("x2",
function(a){return a.min?ta(a.p)-R:ta(a.p)}).attr("y2",function(a){return a.n?$(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});M.enter().append("line").attr("class","spread min").attr("x1",function(a){return a.min?ta(a.min):ta(a.p)}).attr("y1",function(a){return a.n?$(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.min?ta(a.p)-R:ta(a.p)}).attr("y2",function(a){return a.n?$(a.n):d3.select(this).attr("y2")}).attr("stroke-width",
function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});M=sa.selectAll(".spread.max").data(T);M.transition().duration(300).attr("x1",function(a){return a.max?ta(a.max):ta(a.p)}).attr("y1",function(a){return a.n?$(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.max?ta(a.p)+R:ta(a.p)}).attr("y2",function(a){return a.n?$(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});M.enter().append("line").attr("class",
"spread max").attr("x1",function(a){return a.max?ta(a.max):d3.select(this).attr("x2")}).attr("y1",function(a){return a.n?$(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.max?ta(a.p)+R:d3.select(this).attr("x2")}).attr("y2",function(a){return a.n?$(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});var Sa=sa.selectAll(".circle").data(T);Sa.transition().duration(500).attr("cx",function(a){return a.p?ta(a.p):d3.select(this).attr("cx")}).attr("cy",
function(a){return a.n?$(a.n):d3.select(this).attr("cy")}).attr("fill",function(a){return a.c}).transition().duration(500).ease("bounce").attr("r",function(a){return a.r});Sa.enter().append("circle").attr("class","circle").attr("cx",function(a){return ta(a.p)}).attr("cy",function(a){return a.n?$(a.n):0}).attr("r",0).attr("fill",function(a){return a.c}).attr("opacity",0.8).transition().delay(500).duration(500).ease("bounce").attr("r",function(a){return a.r});Sa.exit().transition().duration(500).attr("r",
0).remove();Sa.on("mouseover",function(a,c){v(this,c)});Sa.on("mouseout",function(a,c){z(this,c)});Sa.on("mousedown",function(a,c){G(this)})}}}
function Brands(c){this.draw=function(){var c=theStats.stats[TYPE];showChartContainer("brands",null!=c);if(c){var a=d3.select("#brands"),m=theStats.provinces,u=c.brands,c=[],n=1E3,v=0,z=0,C;for(C in m){var G=m[C][TYPE];if(G){var G=G.brands,A;for(A in G){var x=G[A],M=x.mu;M<n&&(n=M);M>v&&(v=M);z+=M;c.push({prov:C,brand:A,n:x.n,price:x.mu})}}}var w=z/c.length,m=Object.keys(m);C=Object.keys(u);C.sort();u=C.indexOf("otras");0<=u&&(C.splice(u,1),C.push("otras"));var T=new PriceColorPicker;A=Math.max(400,
30*m.length+70);a.style("height",A+"px");divWidth=parseInt(a.style("width").split("px")[0]);u=divWidth-170-30;A=A-40-30;var R=d3.scale.ordinal().domain(m).rangePoints([0,A]),K=d3.scale.ordinal().domain(C).rangePoints([0,u]),m=d3.svg.axis().scale(K).orient("top").tickFormat(function(a){return a.toUpperCase()});C=d3.svg.axis().scale(R).orient("left");var D=a.select(".chart");null==D[0][0]&&(D=a.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform",
"translate(170,40)").attr("width",u+"px").attr("height",A+"px"),D.append("g").attr("class","x axis"),D.append("g").attr("class","y axis"));D.select(".x.axis").transition().duration(500).call(m);D.select(".x.axis").selectAll("text").style("font-size",".7em").style("text-anchor","center").attr("dy","-15px");D.select(".y.axis").transition().duration(500).call(C);D.select(".y.axis").selectAll("text").style("font-size",".7em").style("text-anchor","end").attr("dx","-15px");a=D.selectAll("circle").data(c);
a.attr().transition().duration(500).attr("cx",function(a){return K(a.brand)}).attr("cy",function(a){return R(a.prov)}).attr("r",function(a){return 4+Math.sqrt(a.n)}).attr("fill",function(a){return T.get(a.price,n,v,w)});a.enter().append("circle").attr("cx",function(a){return K(a.brand)}).attr("cy",function(a){return R(a.prov)}).attr("r",0).attr("fill",function(a){return T.get(a.price,n,v,w)}).attr("stroke","#fff").transition().duration(500).ease("bounce").attr("r",function(a){return 4+Math.sqrt(a.n)});
a.exit().remove();a.on("mouseover",function(a,c){var f="otras"==a.brand,n=[a.brand+(f?" marcas en ":" en ")+prettyName(a.prov)];n.push((f?"tienen ":"tiene ")+a.n+" puntos de venta");n.push("con un precio medio de:");n.push(a.price.toFixed(3)+" \u20ac/l");showTooltip("pinfo",D,n,{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5},{cx:K(a.brand),cy:R(a.prov),r:8+Math.sqrt(a.n)})});a.on("mouseout",function(a,c){D.select("#pinfo").remove()})}}}
function PriceGrid(c){var f=c.g;c=reprojectLatLon([f[0],f[2]]);var a=reprojectLatLon([f[1],f[3]]),f=a.lon-c.lon,a=a.lat-c.lat,m=Math.ceil(f/GRID_RESOLUTION);Math.ceil(a/GRID_RESOLUTION);return{ox:c.lon-(m*GRID_RESOLUTION-f)/2,oy:c.lat-(m*GRID_RESOLUTION-a)/2,grid:{}}}
function callbackGrid(c){var f=c.o[TYPE];if(c.ll&&f){heatPoints.push({lonlat:c.ll,count:1});var a=theGrid.ox,m=theGrid.oy,u=theGrid.grid,n=Math.floor((c.ll.lon-a)/GRID_RESOLUTION);u[n]||(u[n]={x:a+n*GRID_RESOLUTION});a=u[n];c=Math.floor((c.ll.lat-m)/GRID_RESOLUTION);a[c]?(m=a[c],m.p=(m.p*m.n+f)/++m.n):a[c]={y:m+c*GRID_RESOLUTION,p:f,n:1}}}
function updateAll(c){"undefined"==typeof c&&(c=!0);if(c){theInfo={};for(p in REGIONS)REGIONS[p].selected&&!skipProv(p)&&(theInfo[p]=theGasole.info[p]);theStats=new GasoleStats(theInfo,[TYPE]);var f=theStats.stats[TYPE];if(f){var a=function(){for(var a=[],c=0;c<NBINS;c++)a[c]=0;return a};c=[];for(var m=f.min,u=theStats.provinces,n=(f.max-m)/NBINS,v=0;v<=NBINS;v++)c[v]=m+v*n;f.bins=c;f.brands={};f.hist=a();f.step=n;heatPoints=[];theGrid=new PriceGrid(theStats.stats[TYPE]);gasoleProcess(theInfo,function(c,
v,A,x){var z=c.o[TYPE];if(z){var w=u[v][TYPE];w.brands||(w.brands={},w.hist=a());var T=checkBrand(c.l);w.brands[T]||(w.brands[T]=new Stats);f.brands[T]||(f.brands[T]=new Stats);w.brands[T].add(z,[v,A,x]);f.brands[T].add(z,[v,A,x]);v=Math.min(Math.floor((z-m)/n),NBINS-1);w.hist[v]++;f.hist[v]++}callbackGrid(c)})}}histogram.draw();circles.draw();brands.draw();raphaelUpdate();setTimeout(function(){drawMarkers();drawPriceGrid();drawHeatMap()},100);c=document.getElementById("info");var v=theStats.stats[TYPE],
z="Selecciona aqu\u00ed un combustible y una combinaci\u00f3n de provincias.";v&&(z="0"==v.n?"No hay ning\u00fan resultado que mostrar":"Se han encontrado "+v.n+" puntos de venta a un precio medio de "+v.mu.toFixed(3)+" \u20ac/l");c.textContent=z}function showChartContainer(c,f){document.getElementById(c+"-container").className=f?"chart":"chart off";f||(document.getElementById(c).style.height="")}
function Histogram(){this.stacked=!1;this.draw=function(){var c=theStats.stats[TYPE];showChartContainer("histogram",null!=c);if(c){var f=theStats.provinces,a=c.bins,m=[],u=0,n;for(n in f){var v=f[n][TYPE];v&&(m.push({name:n,hist:v.hist,color:"#"+REGIONS[n].color}),v=d3.max(v.hist),v>u&&(u=v))}this.stacked&&(u=d3.max(c.hist));c=m.length;n=u;var u=d3.select("#histogram"),f=parseInt(u.style("width").split("px")[0]),v=parseInt(u.style("height").split("px")[0]),f=f-50-20,z=v-20-30,C=d3.scale.linear().domain(d3.extent(a)).range([0,
f]),G=d3.scale.linear().domain([0,n]).range([z,0]);n=d3.svg.axis().scale(C).tickFormat(d3.format(",.3f")).orient("bottom").tickValues(a);var v=d3.svg.axis().scale(G).orient("left").ticks(5).tickFormat(d3.format(".0f")),A=C(a[1]),x=u.select(".chart");null==x[0][0]&&(x=u.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform","translate(50,20)").attr("width",f+"px").attr("height",z+"px"),x.append("g").attr("class","x axis").attr("transform","translate(0,"+
z+")"),x.append("g").attr("class","y axis"));1<c&&(grid=x.selectAll(".grid").data(a),grid.enter().insert("rect",":first-child").attr("class","grid").attr("x",function(c,f){return C(a[f])}).attr("y",0).attr("width",A).attr("height",z).attr("fill",function(a,c){return c%2?"#ccc":"#eee"}).transition().duration(1E3).attr("opacity",0.2));x.select(".x.axis").transition().duration(500).call(n);x.select(".y.axis").transition().duration(500).call(v);var M=A-8;this.stacked||(M/=c);var w=this,c=x.selectAll(".serie").data(m);
c.transition().duration(500).attr("transform",function(a,c){return"translate("+(4+(w.stacked?0:c*M))+",0)"});c.enter().append("g").attr("class","serie").attr("transform",function(a,c){return"translate("+(4+(w.stacked?0:c*M))+",0)"});c.exit().selectAll("rect").transition().duration(500).attr("height",0);c.exit().transition().delay(500).remove();c.each(function(c,f){var n=c.color,v=d3.select(this).selectAll("rect").data(c.hist);v.attr("fill",n).transition().duration(500).attr("x",function(c,f){return C(a[f])}).attr("width",
M).transition().delay(500).duration(500).attr("y",function(a,c){var n=a;if(w.stacked)for(var v=0;v<f;v++)n+=m[v].hist[c];return G(n)}).attr("height",function(a,c){return z-G(a)});v.enter().append("rect").attr("class","bar").attr("x",function(c,f){return C(a[f])}).attr("y",z).attr("width",M).attr("height",0).attr("fill",n).transition().delay(500).duration(500).attr("y",function(a,c){var n=a;if(w.stacked)for(var v=0;v<f;v++)n+=m[v].hist[c];return G(n)}).attr("height",function(a,c){return z-G(a)});v.exit().remove();
v.on("mouseover",function(c,n){var v=a[n].toFixed(3),u=a[n+1].toFixed(3),C=["En "+prettyName(m[f].name)];C.push("hay "+c+" puntos de venta");C.push("de "+FUEL_OPTIONS[TYPE].name);C.push("entre "+v+" y "+u+" \u20ac/l");showTooltip("tooltip",x,C,{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5})});v.on("mouseout",function(a,c){x.select("#tooltip").remove()})})}}}
function showTooltip(c,f,a,m,u){c=f.append("g").attr("id",c);var n=-Math.floor(a.length/2),v,z;if(u&&u.corner)z=v=100;else{var C=d3.mouse(f.node()),G=u?u.cx:C[0],C=u?u.cy:C[1],A=parseInt(f.attr("width").split("px")[0]);f=parseInt(f.attr("height").split("px")[0]);v=G+(G<A/2?100:-100);z=C+(C<f/2?100:-100)}u&&u.hasOwnProperty("r")&&(A=z-u.cy,f=v-u.cx,G=Math.sqrt(Math.pow(A,2)+Math.pow(f,2)),C=u.r+4,A=A/G*C,f=f/G*C,c.append("circle").attr("cx",u.cx).attr("cy",u.cy).attr("r",u.r).attr("stroke",u.stroke||
"#333").attr("stroke-width",2).attr("fill","none"),c.append("line").attr("x1",u.cx+f).attr("y1",u.cy+A).attr("x2",u.cx+f).attr("y2",u.cy+A).attr("stroke",u.stroke||"#333").attr("stroke-width",2).transition().duration(200).attr("x2",v).attr("y2",z));c.append("circle").call(function(a){for(var c in m)a.attr(c,m[c]);a.attr("cx",v).attr("cy",z).attr("r",0).transition().delay(200).duration(200).ease("bounce").attr("r",m.r)});u=c.append("text");u.attr("x",v).attr("y",z).attr("text-anchor","middle").attr("fill",
"#fff").attr("font-size","0em").transition().delay(200).attr("font-size",".9em");u.selectAll("tspan").data(a).enter().append("tspan").attr("x",v).attr("y",function(a,c){return z+20*(c+n)}).text(function(a){return a})}addEvent(window,"load",function(){new Gasole(function(){theGasole=this;openMapinit();raphaelInit();initControl();updateAll()})});(function(c){function f(a){if(!window.google||!window.google.maps){var c=document.createElement("script");c.type="text/javascript";c.src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD5XZNFlQsyWtYDeKual-OcqmP_5pgwbds&sensor=false&callback="+a;document.body.appendChild(c);return!0}return!1}function a(){is_route?is_route&&(place1&&place2)&&(window.location="/ruta/"+place1.split("/")[0]+"/"+place2.split("/")[0]):place1?window.location="/resultados/"+place1+"/"+C.getvalue().toFixed(2):(window.geoCodeAndGo=
function(){geoCode(!0)},f("geoCodeAndGo")||geoCodeAndGo())}function m(){document.getElementById("current-loc"+("origin"==G?"":"-dest")).className="loader"}function u(){window.loadCurrentPosition=function(){navigator.geolocation.getCurrentPosition(function(a){var c=new google.maps.Geocoder;a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);c.geocode({latLng:a},n)},function(a){switch(a.code){case a.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case a.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");
break;case a.TIMEOUT:console.log("The request to get user location timed out.");break;case a.UNKNOWN_ERROR:console.log("An unknown error occurred.")}})};var a=document.getElementById("current-loc");navigator.geolocation?addEvent(a,"click",function(){m();f("loadCurrentPosition")||loadCurrentPosition()}):a.style.display="none"}function n(a,c,f){"origin"==G?document.getElementById("current-loc").className="sprt search_gps":document.getElementById("current-loc-dest").className="";var n=document.getElementById("address"+
("origin"==G?"":"-dest")),m=document.getElementById("results-list"+("origin"==G?"":"-dest"));m.innerHTML="";if(c==google.maps.GeocoderStatus.OK){c=0;for(var u,z,D=0;D<a.length;D++){var fa=a[D].geometry.location;z=a[D].formatted_address;z.match(/Espa\u00f1a$/)&&(c++,u=encodeURIComponent(z)+"/"+fa.lat()+"/"+fa.lng(),fa=document.createElement("li"),fa.setAttribute("data-place",u),fa.textContent=z,fa.onclick=function(){var a=this.getAttribute("data-place");"origin"==G?place1=a:place2=a;n.value=this.textContent;
v()},m.appendChild(fa))}1==c&&(console.log("solo 1",G),"origin"==G?place1=u:place2=u,n.value=z,v(),f&&(window.location="/resultados/"+u+"/"+C.getvalue().toFixed(2)))}else m.innerHTML="<li>No se ha podido encontrar el lugar. Int\u00e9ntalo de nuevo.</li>"}function v(){document.getElementById("results-list"+("origin"==G?"":"-dest")).innerHTML=""}function z(a){this.value=2;this.max=20;this.min=1;this.step=0.2;this.candidate=this.value;var c=this;sliderDiv=document.getElementById(a);barDiv=document.createElement("div");
padDiv=document.createElement("div");sliderDiv.style.position="relative";barDiv.style.position="absolute";barDiv.style.left="0";barDiv.style.top="0";barDiv.className="bar";sliderDiv.appendChild(barDiv);padDiv.style.position="absolute";padDiv.style.top=padDiv.style.left=padDiv.style.right=padDiv.style.bottom=0;sliderDiv.appendChild(padDiv);this.getvalue=function(){return Math.round(this.value/this.step)*this.step};this.updateSlider=function(a){barDiv.style.width=Math.round((a-c.min)*sliderDiv.clientWidth/
(c.max-c.min))+"px";barDiv.textContent="Radio: "+a.toFixed(1)+" km."};this.updateSlider(this.value);addEvent(padDiv,"mousemove",function(a){a=a.clientX-2-this.getBoundingClientRect().left;a=c.min+a*(c.max-c.min)/this.clientWidth;a=Math.round(a/c.step)*c.step;a=Math.max(c.min,a);a=Math.min(c.max,a);c.candidate=a;c.updateSlider(c.candidate)});addEvent(padDiv,"click",function(a){c.value=c.candidate;c.updateSlider(c.value)});addEvent(padDiv,"mouseout",function(a){c.updateSlider(c.value)})}var C=null,
G="origin";window.place1=null;window.place2=null;is_route=!1;window.geoCode=function(a){var c=document.getElementById("origin"==G?"address":"address-dest").value;if(c){var f=window.location.pathname.split("/");"origin"==G&&"resultados"==f[1]&&encodeURIComponent(c)==f[2]?(f[f.length-1]=C.getvalue(),window.location=f.join("/")):(m(),(new google.maps.Geocoder).geocode({address:c,region:"es"},function(c,f){n(c,f,a)}))}};addEvent(c,"load",function(){function c(){f("geoCode")||geoCode();return!1}var n=
document.getElementById("menu-search");addEvent(n,"click",function(a){stopEvent(a);this.className="menu search enabled";addEvent(document,"click",function(){n.className="menu search"})});addEvent(document.getElementById("route"),"click",function(){var a=null==this.className.match(" on"),c=document.getElementById("search-d"),f=document.getElementById("address-dest"),n=document.getElementById("route");a?(is_route=!0,n.className+=" on",c.style.display="none",f.removeAttribute("disabled")):(is_route=
!1,n.className="sprt directions",c.style.display="block",f.setAttribute("disabled","disabled"))});document.getElementById("address").onfocus=function(){v();G="origin"};document.getElementById("address-dest").onfocus=function(){v();G="destiny"};document.getElementById("search-form").onsubmit=c;document.getElementById("search-form-dest").onsubmit=c;document.getElementById("search-b").onclick=a;lockScroll("results-list");lockScroll("results-list-dest");C=new z("search-d");u();var m=window.location.pathname.split("/");
"resultados"==m[1]&&(document.getElementById("address").value=decodeURIComponent(m[2]),C.updateSlider(parseFloat(m[5])),place1=m.slice(2,5).join("/"))})})(window);/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2013-04-08
 @link    http://jscolor.com
*/
var jscolor={dir:"/img/jscolor/",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var c=jscolor.detectDir();jscolor.dir=!1!==c?c:"jscolor/"}return jscolor.dir},detectDir:function(){for(var c=location.href,f=document.getElementsByTagName("base"),a=0;a<f.length;a+=1)f[a].href&&(c=f[a].href);f=document.getElementsByTagName("script");
for(a=0;a<f.length;a+=1)if(f[a].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(f[a].src))return c=(new jscolor.URI(f[a].src)).toAbsolute(c),c.path=c.path.replace(/[^\/]+$/,""),c.query=null,c.fragment=null,c.toString();return!1},bind:function(){for(var c=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),f=document.getElementsByTagName("input"),a=0;a<f.length;a+=1){var m;if(!f[a].color&&f[a].className&&(m=f[a].className.match(c))){var u={};if(m[3])try{u=(new Function("return ("+m[3]+")"))()}catch(n){}f[a].color=
new jscolor.color(f[a],u)}}},preload:function(){for(var c in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(c)&&jscolor.loadImage(c)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(c){jscolor.imgRequire[c]=!0},loadImage:function(c){jscolor.imgLoaded[c]||(jscolor.imgLoaded[c]=new Image,jscolor.imgLoaded[c].src=jscolor.getDir()+c)},fetchElement:function(c){return"string"===typeof c?document.getElementById(c):c},addEvent:function(c,
f,a){c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a)},fireEvent:function(c,f){if(c)if(document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(f,!0,!0);c.dispatchEvent(a)}else if(document.createEventObject)a=document.createEventObject(),c.fireEvent("on"+f,a);else if(c["on"+f])c["on"+f]()},getElementPos:function(c){var f=c,a=0,m=0;if(f.offsetParent){do a+=f.offsetLeft,m+=f.offsetTop;while(f=f.offsetParent)}for(;(c=c.parentNode)&&"BODY"!==c.nodeName.toUpperCase();)a-=
c.scrollLeft,m-=c.scrollTop;return[a,m]},getElementSize:function(c){return[c.offsetWidth,c.offsetHeight]},getRelMousePos:function(c){var f=0,a=0;c||(c=window.event);"number"===typeof c.offsetX?(f=c.offsetX,a=c.offsetY):"number"===typeof c.layerX&&(f=c.layerX,a=c.layerY);return{x:f,y:a}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(c){function f(a){for(var c="";a;)if("../"===a.substr(0,3)||"./"===a.substr(0,2))a=a.replace(/^\.+/,"").substr(1);else if("/./"===a.substr(0,3)||"/."===a)a="/"+a.substr(3);else if("/../"===a.substr(0,4)||"/.."===a)a="/"+a.substr(4),c=c.replace(/\/?[^\/]*$/,"");else if("."===a||".."===a)a="";else{var f=a.match(/^\/?[^\/]*/)[0];a=a.substr(f.length);c+=f}return c}this.authority=this.scheme=null;this.path=
"";this.fragment=this.query=null;this.parse=function(a){a=a.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=a[3]?a[2]:null;this.authority=a[5]?a[6]:null;this.path=a[7];this.query=a[9]?a[10]:null;this.fragment=a[12]?a[13]:null;return this};this.toString=function(){var a="";null!==this.scheme&&(a=a+this.scheme+":");null!==this.authority&&(a=a+"//"+this.authority);null!==this.path&&(a+=this.path);null!==this.query&&(a=a+"?"+this.query);null!==
this.fragment&&(a=a+"#"+this.fragment);return a};this.toAbsolute=function(a){a=new jscolor.URI(a);var c=new jscolor.URI;if(null===a.scheme)return!1;null!==this.scheme&&this.scheme.toLowerCase()===a.scheme.toLowerCase()&&(this.scheme=null);null!==this.scheme?(c.scheme=this.scheme,c.authority=this.authority,c.path=f(this.path),c.query=this.query):(null!==this.authority?(c.authority=this.authority,c.path=f(this.path),c.query=this.query):(""===this.path?(c.path=a.path,c.query=null!==this.query?this.query:
a.query):("/"===this.path.substr(0,1)?c.path=f(this.path):(c.path=null!==a.authority&&""===a.path?"/"+this.path:a.path.replace(/[^\/]+$/,"")+this.path,c.path=f(c.path)),c.query=this.query),c.authority=a.authority),c.scheme=a.scheme);c.fragment=this.fragment;return c};c&&this.parse(c)},color:function(c,f){function a(a,c,f){if(null===a)return[f,f,f];var n=Math.floor(a),v=f*(1-c);a=f*(1-c*(n%2?a-n:1-(a-n)));switch(n){case 6:case 0:return[f,a,v];case 1:return[a,f,v];case 2:return[v,f,a];case 3:return[v,
a,f];case 4:return[a,v,f];case 5:return[f,v,a]}}function m(a,f){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(w.pickerCloseText)};for(var m=
0;m<jscolor.images.sld[1];m+=4){var C=document.createElement("div");C.style.height="4px";C.style.fontSize="1px";C.style.lineHeight="0";jscolor.picker.sld.appendChild(C)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);
jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}m=jscolor.picker;m.box.onmouseup=m.box.onmouseout=function(){c.focus()};m.box.onmousedown=function(){R=!0};m.box.onmousemove=function(a){if(fa||oa)fa&&G(a),oa&&A(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),x()};"ontouchstart"in window&&m.box.addEventListener("touchmove",function(a){var c=
{offsetX:a.touches[0].pageX-Ba.X,offsetY:a.touches[0].pageY-Ba.Y};if(fa||oa)fa&&G(c),oa&&A(c),x();a.stopPropagation();a.preventDefault()},!1);m.padM.onmouseup=m.padM.onmouseout=function(){fa&&(fa=!1,jscolor.fireEvent(K,"change"))};m.padM.onmousedown=function(a){switch(T){case 0:0===w.hsv[2]&&w.fromHSV(null,null,1);break;case 1:0===w.hsv[1]&&w.fromHSV(null,1,null)}oa=!1;fa=!0;G(a);x()};"ontouchstart"in window&&m.padM.addEventListener("touchstart",function(a){Ba={X:a.target.offsetParent.offsetLeft,
Y:a.target.offsetParent.offsetTop};this.onmousedown({offsetX:a.touches[0].pageX-Ba.X,offsetY:a.touches[0].pageY-Ba.Y})});m.sldM.onmouseup=m.sldM.onmouseout=function(){oa&&(oa=!1,jscolor.fireEvent(K,"change"))};m.sldM.onmousedown=function(a){fa=!1;oa=!0;A(a);x()};"ontouchstart"in window&&m.sldM.addEventListener("touchstart",function(a){Ba={X:a.target.offsetParent.offsetLeft,Y:a.target.offsetParent.offsetTop};this.onmousedown({offsetX:a.touches[0].pageX-Ba.X,offsetY:a.touches[0].pageY-Ba.Y})});C=u(w);
m.box.style.width=C[0]+"px";m.box.style.height=C[1]+"px";m.boxB.style.position="fixed";m.boxB.style.left=a+"px";m.boxB.style.top=f+"px";m.boxB.style.zIndex=w.pickerZIndex;m.boxB.setAttribute("class","picker");m.pad.style.width=jscolor.images.pad[0]+"px";m.pad.style.height=jscolor.images.pad[1]+"px";m.padB.style.position="absolute";m.padB.style.left=w.pickerFace+"px";m.padB.style.top=w.pickerFace+"px";m.padB.setAttribute("class","pickerpad");m.padM.style.position="absolute";m.padM.style.left="0";m.padM.style.top=
"0";m.padM.style.width=w.pickerFace+2*w.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";m.padM.style.height=m.box.style.height;m.padM.style.cursor="crosshair";m.sld.style.overflow="hidden";m.sld.style.width=jscolor.images.sld[0]+"px";m.sld.style.height=jscolor.images.sld[1]+"px";m.sldB.style.display=w.slider?"block":"none";m.sldB.style.position="absolute";m.sldB.style.right=w.pickerFace+"px";m.sldB.style.top=w.pickerFace+"px";m.sldB.setAttribute("class","pickerslider");m.sldM.style.display=
w.slider?"block":"none";m.sldM.style.position="absolute";m.sldM.style.right="0";m.sldM.style.top="0";m.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+w.pickerFace+2*w.pickerInset+"px";m.sldM.style.height=m.box.style.height;try{m.sldM.style.cursor="pointer"}catch(z){m.sldM.style.cursor="hand"}m.btn.style.display=w.pickerClosable?"block":"none";m.btn.style.position="absolute";m.btn.style.left=w.pickerFace+"px";m.btn.style.bottom=w.pickerFace+"px";m.btn.style.padding="0 15px";m.btn.style.height=
"18px";m.btn.style.border=w.pickerInset+"px solid";m.btn.setAttribute("class","pickerclose");m.btn.onmousedown=function(){w.hidePicker()};switch(T){case 0:var M="hs.png";break;case 1:M="hv.png"}m.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";m.padM.style.backgroundRepeat="no-repeat";m.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";m.sldM.style.backgroundRepeat="no-repeat";m.pad.style.backgroundImage="url('"+jscolor.getDir()+M+"')";m.pad.style.backgroundRepeat=
"no-repeat";m.pad.style.backgroundPosition="0 0";n();v();jscolor.picker.owner=w;document.getElementsByTagName("body")[0].appendChild(m.boxB)}function u(a){return[2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[0]+(a.slider?2*a.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),a.pickerClosable?4*a.pickerInset+3*a.pickerFace+jscolor.images.pad[1]+a.pickerButtonHeight:2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[1]]}function n(){switch(T){case 0:var c=1;break;case 1:c=2}var f=Math.round(w.hsv[0]/
6*(jscolor.images.pad[0]-1)),c=Math.round((1-w.hsv[c])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=w.pickerFace+w.pickerInset+f-Math.floor(jscolor.images.cross[0]/2)+"px "+(w.pickerFace+w.pickerInset+c-Math.floor(jscolor.images.cross[1]/2))+"px";f=jscolor.picker.sld.childNodes;switch(T){case 0:for(var n=a(w.hsv[0],w.hsv[1],1),c=0;c<f.length;c+=1)f[c].style.backgroundColor="rgb("+100*n[0]*(1-c/f.length)+"%,"+100*n[1]*(1-c/f.length)+"%,"+100*n[2]*(1-c/f.length)+"%)";break;
case 1:var m,v=[w.hsv[2],0,0],c=Math.floor(w.hsv[0]),u=c%2?w.hsv[0]-c:1-(w.hsv[0]-c);switch(c){case 6:case 0:n=[0,1,2];break;case 1:n=[1,0,2];break;case 2:n=[2,0,1];break;case 3:n=[2,1,0];break;case 4:n=[1,2,0];break;case 5:n=[0,2,1]}for(c=0;c<f.length;c+=1)m=1-1/(f.length-1)*c,v[1]=v[0]*(1-m*u),v[2]=v[0]*(1-m),f[c].style.backgroundColor="rgb("+100*v[n[0]]+"%,"+100*v[n[1]]+"%,"+100*v[n[2]]+"%)"}}function v(){switch(T){case 0:var a=2;break;case 1:a=1}a=Math.round((1-w.hsv[a])*(jscolor.images.sld[1]-
1));jscolor.picker.sldM.style.backgroundPosition="0 "+(w.pickerFace+w.pickerInset+a-Math.floor(jscolor.images.arrow[1]/2))+"px"}function z(){return jscolor.picker&&jscolor.picker.owner===w}function C(){K!==c&&w.importColor()}function G(a){var c=jscolor.getRelMousePos(a);a=c.x-w.pickerFace-w.pickerInset;c=c.y-w.pickerFace-w.pickerInset;switch(T){case 0:w.fromHSV(a*(6/(jscolor.images.pad[0]-1)),1-c/(jscolor.images.pad[1]-1),null,Qa);break;case 1:w.fromHSV(a*(6/(jscolor.images.pad[0]-1)),null,1-c/(jscolor.images.pad[1]-
1),Qa)}}function A(a){a=jscolor.getRelMousePos(a).y-w.pickerFace-w.pickerInset;switch(T){case 0:w.fromHSV(null,null,1-a/(jscolor.images.sld[1]-1),Ka);break;case 1:w.fromHSV(null,1-a/(jscolor.images.sld[1]-1),null,Ka)}}function x(){w.onImmediateChange&&("string"===typeof w.onImmediateChange?new Function(w.onImmediateChange):w.onImmediateChange).call(w)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=c;this.onImmediateChange=null;this.hsv=[0,0,
1];this.rgb=[1,1,1];this.minH=0;this.maxH=6;this.minS=0;this.maxS=1;this.minV=0;this.maxV=1;this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="x";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor=
"ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var M in f)f.hasOwnProperty(M)&&(this[M]=f[M]);this.hidePicker=function(){z()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=function(){if(!z()){var a=jscolor.getElementPos(c),f=jscolor.getElementSize(c),n=jscolor.getViewPos(),v=jscolor.getViewSize(),C=u(this),w,A,G;switch(this.pickerPosition.toLowerCase()){case "left":w=1;A=0;G=-1;break;
case "right":w=1;A=0;G=1;break;case "top":w=0;A=1;G=-1;break;default:w=0,G=A=1}var x=(f[A]+C[A])/2,a=this.pickerSmartPosition?[-n[w]+a[w]+C[w]>v[w]?-n[w]+a[w]+f[w]/2>v[w]/2&&0<=a[w]+f[w]-C[w]?a[w]+f[w]-C[w]:a[w]:a[w],-n[A]+a[A]+f[A]+C[A]-x+x*G>v[A]?-n[A]+a[A]+f[A]/2>v[A]/2&&0<=a[A]+f[A]-x-x*G?a[A]+f[A]-x-x*G:a[A]+f[A]-x+x*G:0<=a[A]+f[A]-x+x*G?a[A]+f[A]-x+x*G:a[A]+f[A]-x-x*G]:[a[w],a[A]+f[A]-x+x*G];m(a[w],a[A])}};this.importColor=function(){K?this.adjust?!this.required&&/^\s*$/.test(K.value)?(K.value=
"",D.style.backgroundImage=D.jscStyle.backgroundImage,D.style.backgroundColor=D.jscStyle.backgroundColor,D.style.color=D.jscStyle.color,this.exportColor(ga|S)):this.fromString(K.value)||this.exportColor():this.fromString(K.value,ga)||(D.style.backgroundImage=D.jscStyle.backgroundImage,D.style.backgroundColor=D.jscStyle.backgroundColor,D.style.color=D.jscStyle.color,this.exportColor(ga|S)):this.exportColor()};this.exportColor=function(a){if(!(a&ga)&&K){var c=this.toString();this.caps&&(c=c.toUpperCase());
this.hash&&(c="#"+c);K.value=c}!(a&S)&&D&&(D.style.backgroundImage="none",D.style.backgroundColor="#"+this.toString(),D.style.color=0.5>0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]?"#FFF":"#000");!(a&Ka)&&z()&&n();!(a&Qa)&&z()&&v()};this.fromHSV=function(c,f,n,m){null!==c&&(c=Math.max(0,this.minH,Math.min(6,this.maxH,c)));null!==f&&(f=Math.max(0,this.minS,Math.min(1,this.maxS,f)));null!==n&&(n=Math.max(0,this.minV,Math.min(1,this.maxV,n)));this.rgb=a(null===c?this.hsv[0]:this.hsv[0]=c,null===
f?this.hsv[1]:this.hsv[1]=f,null===n?this.hsv[2]:this.hsv[2]=n);this.exportColor(m)};this.fromRGB=function(c,f,n,m){null!==c&&(c=Math.max(0,Math.min(1,c)));null!==f&&(f=Math.max(0,Math.min(1,f)));null!==n&&(n=Math.max(0,Math.min(1,n)));c=null===c?this.rgb[0]:c;f=null===f?this.rgb[1]:f;var v=null===n?this.rgb[2]:n,u=Math.min(Math.min(c,f),v);n=Math.max(Math.max(c,f),v);var C=n-u;0===C?c=[null,0,n]:(c=c===u?3+(v-f)/C:f===u?5+(c-v)/C:1+(f-c)/C,c=[6===c?0:c,C/n,n]);null!==c[0]&&(this.hsv[0]=Math.max(0,
this.minH,Math.min(6,this.maxH,c[0])));0!==c[2]&&(this.hsv[1]=null===c[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,c[1])));this.hsv[2]=null===c[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,c[2]));c=a(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=c[0];this.rgb[1]=c[1];this.rgb[2]=c[2];this.exportColor(m)};this.fromString=function(a,c){var f=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return f?(6===f[1].length?this.fromRGB(parseInt(f[1].substr(0,2),16)/255,parseInt(f[1].substr(2,2),
16)/255,parseInt(f[1].substr(4,2),16)/255,c):this.fromRGB(parseInt(f[1].charAt(0)+f[1].charAt(0),16)/255,parseInt(f[1].charAt(1)+f[1].charAt(1),16)/255,parseInt(f[1].charAt(2)+f[1].charAt(2),16)/255,c),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var w=this,T="hvs"===this.pickerMode.toLowerCase()?1:0,R=!1,K=jscolor.fetchElement(this.valueElement),
D=jscolor.fetchElement(this.styleElement),fa=!1,oa=!1,Ba={},ga=1,S=2,Ka=4,Qa=8;jscolor.addEvent(c,"click",function(a){a.stopPropagation();a.preventDefault()});jscolor.addEvent(c,"focus",function(){w.pickerOnfocus&&w.showPicker()});jscolor.addEvent(c,"blur",function(){R?R=!1:window.setTimeout(function(){R||(K===c&&w.importColor(),w.pickerOnfocus&&w.hidePicker());R=!1},0)});K&&(M=function(){w.fromString(K.value,ga);x()},jscolor.addEvent(K,"keyup",M),jscolor.addEvent(K,"input",M),jscolor.addEvent(K,
"blur",C),K.setAttribute("autocomplete","off"));D&&(D.jscStyle={backgroundImage:D.style.backgroundImage,backgroundColor:D.style.backgroundColor,color:D.style.color});switch(T){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();var PI2=2*Math.PI;
(function(c){var f=function(){var a=function(a){var c={data:[],heatmap:a};this.max=1;this.get=function(a){return c[a]};this.set=function(a,f){c[a]=f}};a.prototype={setDataSet:function(a){var c=this.get("heatmap"),f=a.data;a=a.max;var m=c.get("radius"),u=c.get("actx"),A=1.5*m>>0,x=c.get("bounds");c.clear();this.max=a;u.shadowOffsetX=15E3;u.shadowOffsetY=15E3;u.shadowBlur=15;c.get("legend")&&c.get("legend").update(a);for(var M in f){var w=f[M],T;for(T in w){var R=M-A,K=T-A,D=M+A,fa=T+A;u.shadowColor=
"rgba(0,0,0,"+w[T]/a+")";u.beginPath();u.arc(M-15E3,T-15E3,m,0,PI2,!0);u.closePath();u.fill();R<x.l&&(x.l=R);K<x.t&&(x.t=K);D>x.r&&(x.r=D);fa>x.b&&(x.b=fa)}}c.colorize();this.set("data",f)}};var c=function(a){this.config=a;var c={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(a){return c[a]};this.set=function(a,f){c[a]=f};this.init()};c.prototype={init:function(){var a=this.config,c=a.title||"Legend",f=a.position,m=a.offset||10,a=document.createElement("ul"),u="";this.processGradientObject();
u=-1<f.indexOf("t")?u+("top:"+m+"px;"):u+("bottom:"+m+"px;");u=-1<f.indexOf("l")?u+("left:"+m+"px;"):u+("right:"+m+"px;");f=document.createElement("div");f.style.cssText="border-radius:5px;position:absolute;"+u+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;";f.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+c+"</h3>";a.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;";
c=document.createElement("div");c.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",this.createGradientImage(),");"].join("");f.appendChild(a);f.appendChild(c);this.set("element",f);this.set("labelsEl",a);this.update(1)},processGradientObject:function(){var a=this.config.gradient,c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push({stop:f,value:a[f]});c.sort(function(a,c){return a.stop-c.stop});c.unshift({stop:0,value:"rgba(0,0,0,0)"});
this.set("gradientArr",c)},createGradientImage:function(){var a=this.get("gradientArr"),c=a.length,f=document.createElement("canvas"),m=f.getContext("2d"),u;f.width="256";f.height="15";u=m.createLinearGradient(0,5,256,10);for(var A=0;A<c;A++)u.addColorStop(1/(c-1)*A,a[A].value);m.fillStyle=u;m.fillRect(0,5,256,10);m.strokeStyle="black";m.beginPath();for(A=0;A<c;A++)m.moveTo((256*1/(c-1)*A>>0)+0.5,0),m.lineTo((256*1/(c-1)*A>>0)+0.5,0==A?15:5);m.moveTo(255.5,0);m.lineTo(255.5,15);m.moveTo(255.5,4.5);
m.lineTo(0,4.5);m.stroke();this.set("ctx",m);return f.toDataURL()},getElement:function(){return this.get("element")},update:function(a){for(var c=this.get("gradientArr"),f=this.get("ctx"),m=this.get("labelsEl"),u,A="",x,M=0;M<c.length;M++)u=a*c[M].stop>>0,x=f.measureText(u).width/2>>0,0==M&&(x=0),M==c.length-1&&(x*=2),A+='<li style="position:absolute;left:'+(((256*1/(c.length-1)*M||0)>>0)-x+0.5)+'px">'+u+"</li>";m.innerHTML=A}};var f=function(c){var f={radius:40,element:{},canvas:{},acanvas:{},ctx:{},
actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1E3,r:0,t:1E3,b:0},debug:!1};this.store=new a(this);this.get=function(a){return f[a]};this.set=function(a,c){f[a]=c};this.configure(c);this.init()};f.prototype={configure:function(a){this.set("radius",a.radius||40);this.set("element",a.element instanceof Object?a.element:document.getElementById(a.element));this.set("visible",null!=a.visible?a.visible:!0);this.set("max",a.max||!1);this.set("gradient",
a.gradient||{"0.45":"rgb(0,0,255)","0.55":"rgb(0,255,255)","0.65":"rgb(0,255,0)","0.95":"yellow",1:"rgb(255,0,0)"});this.set("opacity",parseInt(255/(100/a.opacity),10)||180);this.set("width",a.width||0);this.set("height",a.height||0);this.set("debug",a.debug);a.legend&&(a=a.legend,a.gradient=this.get("gradient"),this.set("legend",new c(a)))},resize:function(){var a=this.get("element"),c=this.get("canvas"),f=this.get("acanvas");c.width=f.width=this.get("width")||a.style.width.replace(/px/,"")||this.getWidth(a);
this.set("width",c.width);c.height=f.height=this.get("height")||a.style.height.replace(/px/,"")||this.getHeight(a);this.set("height",c.height)},init:function(){var a=document.createElement("canvas"),c=document.createElement("canvas"),f=a.getContext("2d"),m=c.getContext("2d"),u=this.get("element");this.initColorPalette();this.set("canvas",a);this.set("ctx",f);this.set("acanvas",c);this.set("actx",m);this.resize();a.style.cssText=c.style.cssText="position:absolute;top:0;left:0;z-index:10000000;";this.get("visible")||
(a.style.display="none");u.appendChild(a);this.get("legend")&&u.appendChild(this.get("legend").getElement());this.get("debug")&&document.body.appendChild(c);m.shadowOffsetX=15E3;m.shadowOffsetY=15E3;m.shadowBlur=15},initColorPalette:function(){var a=document.createElement("canvas"),c=this.get("gradient"),f,m;a.width="1";a.height="256";a=a.getContext("2d");f=a.createLinearGradient(0,0,1,256);m=a.getImageData(0,0,1,1);m.data[0]=m.data[3]=64;m.data[1]=m.data[2]=0;a.putImageData(m,0,0);m=a.getImageData(0,
0,1,1);this.set("premultiplyAlpha",60>m.data[0]||70<m.data[0]);for(var u in c)f.addColorStop(u,c[u]);a.fillStyle=f;a.fillRect(0,0,1,256);this.set("gradient",a.getImageData(0,0,1,256).data)},getWidth:function(a){var c=a.offsetWidth;a.style.paddingLeft&&(c+=a.style.paddingLeft);a.style.paddingRight&&(c+=a.style.paddingRight);return c},getHeight:function(a){var c=a.offsetHeight;a.style.paddingTop&&(c+=a.style.paddingTop);a.style.paddingBottom&&(c+=a.style.paddingBottom);return c},colorize:function(){var a=
this.get("width");this.get("radius");for(var c=this.get("height"),f=this.get("actx"),m=this.get("ctx"),u=this.get("premultiplyAlpha"),A=this.get("gradient"),x=this.get("opacity"),M=this.get("bounds"),w,T=0>M.l?0:M.l,R=0>M.t?0:M.t,a=f.getImageData(T,R,(M.r>a?a:M.r)-T,(M.b>c?c:M.b)-R),c=a.data,f=c.length,K=3;K<f;K+=4)if(w=c[K],M=4*w)w=w<x?w:x,c[K-3]=A[M],c[K-2]=A[M+1],c[K-1]=A[M+2],u&&(c[K-3]/=255/w,c[K-2]/=255/w,c[K-1]/=255/w),c[K]=w;a.data=c;m.putImageData(a,T,R)},setVisibility:function(a){this.set("visible",
a);this.get("canvas").style.display=a?"block":"none"},toggleDisplay:function(){this.setVisibility(!this.get("visible"))},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var a=this.get("width"),c=this.get("height");this.store.set("data",[]);this.get("ctx").clearRect(0,0,a,c);this.get("actx").clearRect(0,0,a,c)},cleanup:function(){this.get("element").removeChild(this.get("canvas"))}};return{create:function(a){return new f(a)},util:{mousePosition:function(a){var c,f;a.layerX?
(c=a.layerX,f=a.layerY):a.offsetX&&(c=a.offsetX,f=a.offsetY);if("undefined"!=typeof c)return[c,f]}}}}();c.h337=c.heatmapFactory=f})(window);OpenLayers.Layer.Heatmap=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:!1,heatmap:null,mapLayer:null,tmpData:{},initialize:function(c,f,a,m,u){var n=document.createElement("div");OpenLayers.Layer.prototype.initialize.apply(this,[c,u]);n.style.cssText="position:absolute;width:"+f.size.w+"px;height:"+f.size.h+"px;";this.div.appendChild(n);m.element=n;this.mapLayer=a;this.map=f;this.heatmap=h337.create(m);c=function(){this.tmpData.max&&this.updateLayer()};f.events.register("zoomend",this,c);f.events.register("moveend",
this,c)},updateLayer:function(){var c=this.getPixelOffset(),f=this.heatmap.get("element");f.style.top=(0<c.y?"-"+c.y:Math.abs(c.y))+"px";f.style.left=(0<c.x?"-"+c.x:Math.abs(c.x))+"px";this.setDataSet(this.tmpData)},getPixelOffset:function(){var c=this.mapLayer.map.layerContainerOrigin,c=new OpenLayers.LonLat(c.lon,c.lat),c=this.mapLayer.getViewPortPxFromLonLat(c),f=this.mapLayer.map.center,f=new OpenLayers.LonLat(f.lon,f.lat),f=this.mapLayer.getViewPortPxFromLonLat(f);return{x:c.x-f.x,y:c.y-f.y}},
setDataSet:function(c){var f=c.data,a=f.length,m,u;smax=0;sdata=[];for(var n=0;n<a;n++)if(m=f[n],u=this.roundPixels(this.mapLayer.getViewPortPxFromLonLat(m.lonlat))){var v=u.x;u=u.y;sdata[v]||(sdata[v]={});v=sdata[v];v[u]=v[u]?v[u]+m.count:m.count;v[u]>smax&&(smax=v[u])}this.tmpData=c;this.heatmap.store.setDataSet({max:smax,data:sdata})},roundPixels:function(c){if(0>c.x||0>c.y)return!1;c.x>>=0;c.y>>=0;return c},toggle:function(){this.heatmap.toggleDisplay()},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,
arguments)},setVisibility:function(c){this.heatmap.setVisibility(c)},CLASS_NAME:"OpenLayers.Layer.Heatmap"});d3=function(){function c(b){return null!=b&&!isNaN(b)}function f(b){return b.length}function a(b,g){try{for(var s in g)Object.defineProperty(b.prototype,s,{value:g[s],enumerable:!1})}catch(a){b.prototype=g}}function m(){}function u(){}function n(b,g,s){return function(){var a=s.apply(g,arguments);return a===g?b:a}}function v(b,g){if(g in b)return g;g=g.charAt(0).toUpperCase()+g.substring(1);for(var s=0,a=re.length;s<a;++s){var V=re[s]+g;if(V in b)return V}}function z(b){for(var g=-1,s=b.length,a=
[];++g<s;)a.push(b[g]);return a}function C(){}function G(){}function A(b){function g(){for(var g=s,a=-1,Z=g.length,d;++a<Z;)(d=g[a].on)&&d.apply(this,arguments);return b}var s=[],a=new m;g.on=function(g,d){var ia=a.get(g),F;if(2>arguments.length)return ia&&ia.on;ia&&(ia.on=null,s=s.slice(0,F=s.indexOf(ia)).concat(s.slice(F+1)),a.remove(g));d&&s.push(a.set(g,{on:d}));return b};return g}function x(){q.event.preventDefault()}function M(){for(var b=q.event,g;g=b.sourceEvent;)b=g;return b}function w(b){for(var g=
new G,s=0,a=arguments.length;++s<a;)g[arguments[s]]=A(g);g.of=function(s,a){return function(Z){try{var d=Z.sourceEvent=q.event;Z.target=b;q.event=Z;g[Z.type].apply(s,a)}finally{q.event=d}}};return g}function T(b){Cd(b,ja);return b}function R(b){return function(){return Dd(b,this)}}function K(b){return function(){return Ed(b,this)}}function D(b,g){function s(){this.removeAttribute(b)}function a(){this.removeAttributeNS(b.space,b.local)}function V(){this.setAttribute(b,g)}function d(){this.setAttributeNS(b.space,
b.local,g)}function ia(){var s=g.apply(this,arguments);null==s?this.removeAttribute(b):this.setAttribute(b,s)}function c(){var s=g.apply(this,arguments);null==s?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,s)}b=q.ns.qualify(b);return null==g?b.local?a:s:"function"===typeof g?b.local?c:ia:b.local?d:V}function fa(b){return b.trim().replace(/\s+/g," ")}function oa(b){return RegExp("(?:^|\\s+)"+q.requote(b)+"(?:\\s+|$)","g")}function Ba(b,g){function s(){for(var s=-1;++s<
V;)b[s](this,g)}function a(){for(var s=-1,Z=g.apply(this,arguments);++s<V;)b[s](this,Z)}b=b.trim().split(/\s+/).map(ga);var V=b.length;return"function"===typeof g?a:s}function ga(b){var g=oa(b);return function(s,a){if(V=s.classList)return a?V.add(b):V.remove(b);var V=s.getAttribute("class")||"";a?(g.lastIndex=0,g.test(V)||s.setAttribute("class",fa(V+" "+b))):s.setAttribute("class",fa(V.replace(g," ")))}}function S(b,g,s){function a(){this.style.removeProperty(b)}function V(){this.style.setProperty(b,
g,s)}function d(){var a=g.apply(this,arguments);null==a?this.style.removeProperty(b):this.style.setProperty(b,a,s)}return null==g?a:"function"===typeof g?d:V}function Ka(b,g){function s(){delete this[b]}function a(){this[b]=g}function V(){var s=g.apply(this,arguments);null==s?delete this[b]:this[b]=s}return null==g?s:"function"===typeof g?V:a}function Qa(b){return function(){return se(this,b)}}function ta(b){arguments.length||(b=q.ascending);return function(g,s){return!g-!s||b(g.__data__,s.__data__)}}
function $(b,g){for(var s=0,a=b.length;s<a;s++)for(var V=b[s],d=0,ia=V.length,c;d<ia;d++)(c=V[d])&&g(c,d,s);return b}function ea(b){Cd(b,nb);return b}function Pa(b,g,s){function a(){var g=this[ia];g&&(this.removeEventListener(b,g,g.$),delete this[ia])}function d(){var V=X(g,wb(arguments));a.call(this);this.addEventListener(b,this[ia]=V,V.$=s);V._=g}function t(){var g=RegExp("^__on([^.]+)"+q.requote(b)+"$"),s,a;for(a in this)if(s=a.match(g)){var d=this[a];this.removeEventListener(s[1],d,d.$);delete this[a]}}
var ia="__on"+b,c=b.indexOf("."),X=va;0<c&&(b=b.substring(0,c));var l=Fd.get(b);l&&(b=l,X=sa);return c?g?d:a:g?C:t}function va(b,g){return function(s){var a=q.event;q.event=s;g[0]=this.__data__;try{b.apply(this,g)}finally{q.event=a}}}function sa(b,g){var s=va(b,g);return function(b){var g=b.relatedTarget;(!g||g!==this&&!(g.compareDocumentPosition(this)&8))&&s.call(this,b)}}function pa(b){var g="selectstart."+b,s="dragstart."+b,a="click."+b,d=q.select(Ta).on(g,x).on(s,x),t=xb.style,ia=t[Gd];t[Gd]=
"none";return function(b){d.on(g,null).on(s,null);t[Gd]=ia;if(b){var c=function(){d.on(a,null)};d.on(a,function(){x();c()},!0);setTimeout(c,0)}}}function Sa(b,g){var s=b.ownerSVGElement||b;if(s.createSVGPoint){var a=s.createSVGPoint();if(0>Hd&&(Ta.scrollX||Ta.scrollY)){var s=q.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),d=s[0][0].getScreenCTM();Hd=!(d.f||d.e);s.remove()}Hd?(a.x=g.pageX,a.y=g.pageY):(a.x=g.clientX,a.y=g.clientY);
a=a.matrixTransform(b.getScreenCTM().inverse());return[a.x,a.y]}s=b.getBoundingClientRect();return[g.clientX-s.left-b.clientLeft,g.clientY-s.top-b.clientTop]}function ab(){}function bb(b,g,s){return new Y(b,g,s)}function Y(b,g,s){this.h=b;this.s=g;this.l=s}function na(b,g,s){function a(b){360<b?b-=360:0>b&&(b+=360);return 60>b?d+(t-d)*b/60:180>b?t:240>b?d+(t-d)*(240-b)/60:d}var d,t;b=isNaN(b)?0:0>(b%=360)?b+360:b;g=isNaN(g)?0:0>g?0:1<g?1:g;s=0>s?0:1<s?1:s;t=0.5>=s?s*(1+g):s+g-s*g;d=2*s-t;return Ia(Math.round(255*
a(b+120)),Math.round(255*a(b)),Math.round(255*a(b-120)))}function qa(b){return 1<b?W/2:-1>b?-W/2:Math.asin(b)}function za(b){return(b=Math.sin(b/2))*b}function Da(b,g,s){return new Ea(b,g,s)}function Ea(b,g,s){this.h=b;this.c=g;this.l=s}function Aa(b,g,s){isNaN(b)&&(b=0);isNaN(g)&&(g=0);return Fa(s,Math.cos(b*=aa)*g,Math.sin(b)*g)}function Fa(b,g,s){return new Yb(b,g,s)}function Yb(b,g,s){this.l=b;this.a=g;this.b=s}function Ic(b,g,s){b=(b+16)/116;s=b-s/200;g=pc(b+g/500)*ue;b=pc(b)*ve;s=pc(s)*we;return Ia(ra(3.2404542*
g-1.5371385*b-0.4985314*s),ra(-0.969266*g+1.8760108*b+0.041556*s),ra(0.0556434*g-0.2040259*b+1.0572252*s))}function Jc(b,g,s){return 0<b?Da(Math.atan2(s,g)*ua,Math.sqrt(g*g+s*s),b):Da(NaN,NaN,b)}function pc(b){return 0.206893034<b?b*b*b:(b-4/29)/7.787037}function Hb(b){return 0.008856<b?Math.pow(b,1/3):7.787037*b+4/29}function ra(b){return Math.round(255*(0.00304>=b?12.92*b:1.055*Math.pow(b,1/2.4)-0.055))}function Ia(b,g,s){return new Xb(b,g,s)}function Xb(b,g,s){this.r=b;this.g=g;this.b=s}function yb(b){return 16>
b?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function Ib(b,g,s){var a=0,d=0,t=0,c,F;if(c=/([a-z]+)\((.*)\)/i.exec(b))switch(F=c[2].split(","),c[1]){case "hsl":return s(parseFloat(F[0]),parseFloat(F[1])/100,parseFloat(F[2])/100);case "rgb":return g(qc(F[0]),qc(F[1]),qc(F[2]))}if(s=Kc.get(b))return g(s.r,s.g,s.b);null!=b&&"#"===b.charAt(0)&&(4===b.length?(a=b.charAt(1),a+=a,d=b.charAt(2),d+=d,t=b.charAt(3),t+=t):7===b.length&&(a=b.substring(1,3),d=b.substring(3,5),t=b.substring(5,7)),
a=parseInt(a,16),d=parseInt(d,16),t=parseInt(t,16));return g(a,d,t)}function Zb(b,g,s){var a=Math.min(b/=255,g/=255,s/=255),d=Math.max(b,g,s),t=d-a,c=(d+a)/2;t?(a=0.5>c?t/(d+a):t/(2-d-a),b=60*(b==d?(g-s)/t+(g<s?6:0):g==d?(s-b)/t+2:(b-g)/t+4)):(b=NaN,a=0<c&&1>c?0:b);return bb(b,a,c)}function Lc(b,g,s){b=rc(b);g=rc(g);s=rc(s);var a=Hb((0.4124564*b+0.3575761*g+0.1804375*s)/ue),d=Hb((0.2126729*b+0.7151522*g+0.072175*s)/ve);b=Hb((0.0193339*b+0.119192*g+0.9503041*s)/we);return Fa(116*d-16,500*(a-d),200*
(d-b))}function rc(b){return 0.04045>=(b/=255)?b/12.92:Math.pow((b+0.055)/1.055,2.4)}function qc(b){var g=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*g):g}function ha(b){return"function"===typeof b?b:function(){return b}}function Ha(b){return b}function ib(b){return function(g,s,a){2===arguments.length&&"function"===typeof s&&(a=s,s=null);return sc(g,s,b,a)}}function sc(b,g,s,a){function d(){var b=X.status,g;if(!b&&X.responseText||200<=b&&300>b||304===b){try{g=s.call(t,X)}catch(a){c.error.call(t,
a);return}c.load.call(t,g)}else c.error.call(t,X)}var t={},c=q.dispatch("progress","load","error"),F={},X=new XMLHttpRequest,l=null;Ta.XDomainRequest&&(!("withCredentials"in X)&&/^(http(s)?:)?\/\//.test(b))&&(X=new XDomainRequest);"onload"in X?X.onload=X.onerror=d:X.onreadystatechange=function(){3<X.readyState&&d()};X.onprogress=function(b){var g=q.event;q.event=b;try{c.progress.call(t,X)}finally{q.event=g}};t.header=function(b,g){b=(b+"").toLowerCase();if(2>arguments.length)return F[b];null==g?delete F[b]:
F[b]=g+"";return t};t.mimeType=function(b){if(!arguments.length)return g;g=null==b?null:b+"";return t};t.responseType=function(b){if(!arguments.length)return l;l=b;return t};t.response=function(b){s=b;return t};["get","post"].forEach(function(b){t[b]=function(){return t.send.apply(t,[b].concat(wb(arguments)))}});t.send=function(s,a,d){2===arguments.length&&"function"===typeof a&&(d=a,a=null);X.open(s,b,!0);null!=g&&!("accept"in F)&&(F.accept=g+",*/*");if(X.setRequestHeader)for(var V in F)X.setRequestHeader(V,
F[V]);null!=g&&X.overrideMimeType&&X.overrideMimeType(g);null!=l&&(X.responseType=l);if(null!=d)t.on("error",d).on("load",function(b){d(null,b)});X.send(null==a?null:a);return t};t.abort=function(){X.abort();return t};q.rebind(t,c,"on");return null==a?t:t.get(Id(a))}function Id(b){return 1===b.length?function(g,s){b(null==g?s:null)}:b}function tc(){var b=Jb(),b=uc()-b;24<b?(isFinite(b)&&(clearTimeout(Mc),Mc=setTimeout(tc,b)),Nc=0):(Nc=1,xe(tc))}function Jb(){for(var b=Date.now(),g=Oc;g;)b>=g.time&&
(g.flush=g.callback(b-g.time)),g=g.next;return b}function uc(){for(var b,g=Oc,s=Infinity;g;)g.flush?g=b?b.next=g.next:Oc=g.next:(g.time<s&&(s=g.time),g=(b=g).next);Pc=b;return s}function zb(b,g){return g-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function vc(b){return b+""}function Ab(){}function $b(b,g,s){var a=s.s=b+g,d=a-b;s.t=b-(a-d)+(g-d)}function ob(b,g){if(b&&ye.hasOwnProperty(b.type))ye[b.type](b,g)}function wc(b,g,s){var a=-1;s=b.length-s;var d;for(g.lineStart();++a<s;)d=b[a],g.point(d[0],d[1]);
g.lineEnd()}function Qc(b,g){var s=-1,a=b.length;for(g.polygonStart();++s<a;)wc(b[s],g,1);g.polygonEnd()}function Rc(){function b(b,g){b*=aa;g=g*aa/2+W/4;var s=b-a,c=Math.cos(g),l=Math.sin(g),e=t*l,h=d*c+e*Math.cos(s),s=e*Math.sin(s);Kb.add(Math.atan2(s,h));a=b;d=c;t=l}var g,s,a,d,t;Xa.point=function(c,F){Xa.point=b;a=(g=c)*aa;d=Math.cos(F=(s=F)*aa/2+W/4);t=Math.sin(F)};Xa.lineEnd=function(){b(g,s)}}function jb(b){var g=b[0];b=b[1];var s=Math.cos(b);return[s*Math.cos(g),s*Math.sin(g),Math.sin(b)]}
function Lb(b,g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]}function Ua(b,g){return[b[1]*g[2]-b[2]*g[1],b[2]*g[0]-b[0]*g[2],b[0]*g[1]-b[1]*g[0]]}function Mb(b,g){b[0]+=g[0];b[1]+=g[1];b[2]+=g[2]}function La(b,g){return[b[0]*g,b[1]*g,b[2]*g]}function ac(b){var g=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=g;b[1]/=g;b[2]/=g}function Nb(b){return[Math.atan2(b[1],b[0]),qa(b[2])]}function Ob(b,g){return Math.abs(b[0]-g[0])<ba&&Math.abs(b[1]-g[1])<ba}function bc(b,g){b*=aa;var s=Math.cos(g*=aa);kb(s*Math.cos(b),
s*Math.sin(b),Math.sin(g))}function kb(b,g,s){++xc;pb+=(b-pb)/xc;qb+=(g-qb)/xc;lb+=(s-lb)/xc}function yc(){function b(b,d){b*=aa;var c=Math.cos(d*=aa),F=c*Math.cos(b),c=c*Math.sin(b),X=Math.sin(d),l=Math.atan2(Math.sqrt((l=s*X-a*c)*l+(l=a*F-g*X)*l+(l=g*c-s*F)*l),g*F+s*c+a*X);cc+=l;Za+=l*(g+(g=F));$a+=l*(s+(s=c));Va+=l*(a+(a=X));kb(g,s,a)}var g,s,a;cb.point=function(d,t){d*=aa;var c=Math.cos(t*=aa);g=c*Math.cos(d);s=c*Math.sin(d);a=Math.sin(t);cb.point=b;kb(g,s,a)}}function Bb(){cb.point=bc}function dc(){function b(b,
g){b*=aa;var s=Math.cos(g*=aa),c=s*Math.cos(b),s=s*Math.sin(b),l=Math.sin(g),e=d*l-t*s,h=t*c-a*l,q=a*s-d*c,f=Math.sqrt(e*e+h*h+q*q),r=a*c+d*s+t*l,y=f&&-(1<r?0:-1>r?W:Math.acos(r))/f,f=Math.atan2(f,r);Cb+=y*e;Db+=y*h;mb+=y*q;cc+=f;Za+=f*(a+(a=c));$a+=f*(d+(d=s));Va+=f*(t+(t=l));kb(a,d,t)}var g,s,a,d,t;cb.point=function(c,F){g=c;s=F;cb.point=b;c*=aa;var X=Math.cos(F*=aa);a=X*Math.cos(c);d=X*Math.sin(c);t=Math.sin(F);kb(a,d,t)};cb.lineEnd=function(){b(g,s);cb.lineEnd=Bb;cb.point=bc}}function Pb(){return!0}
function zc(b,g,s,a,d){var t=[],c=[];b.forEach(function(b){if(!(0>=(g=b.length-1))){var g,s=b[0],a=b[g];if(Ob(s,a)){d.lineStart();for(a=0;a<g;++a)d.point((s=b[a])[0],s[1]);d.lineEnd()}else b={point:s,points:b,other:null,visited:!1,entry:!0,subject:!0},s={point:s,points:[s],other:b,visited:!1,entry:!1,subject:!1},b.other=s,t.push(b),c.push(s),b={point:a,points:[a],other:null,visited:!1,entry:!1,subject:!0},s={point:a,points:[a],other:b,visited:!1,entry:!0,subject:!1},b.other=s,t.push(b),c.push(s)}});
c.sort(g);Ac(t);Ac(c);if(t.length){if(s){b=1;s=!s(c[0].point);for(g=c.length;b<g;++b)c[b].entry=s=!s}s=t[0];for(var F,X;;){for(g=s;g.visited;)if((g=g.next)===s)return;F=g.points;d.lineStart();do{g.visited=g.other.visited=!0;if(g.entry){if(g.subject)for(b=0;b<F.length;b++)d.point((X=F[b])[0],X[1]);else a(g.point,g.next.point,1,d);g=g.next}else{if(g.subject){F=g.prev.points;for(b=F.length;0<=--b;)d.point((X=F[b])[0],X[1])}else a(g.point,g.prev.point,-1,d);g=g.prev}g=g.other;F=g.points}while(!g.visited);
d.lineEnd()}}}function Ac(b){if(g=b.length){for(var g,s=0,a=b[0],d;++s<g;)a.next=d=b[s],d.prev=a,a=d;a.next=d=b[0];d.prev=a}}function Sc(b,g,s,a){return function(d){function t(g,s){b(g,s)&&d.point(g,s)}function c(b,g){f.point(b,g)}function F(){r.point=c;f.lineStart()}function X(){r.point=t;f.lineEnd()}function l(b,g){E.point(b,g);H.push([b,g])}function e(){E.lineStart();H=[]}function h(){l(H[0][0],H[0][1]);E.lineEnd();var b=E.clean(),g=B.buffer(),s=g.length;H.pop();m.push(H);H=null;if(s)if(b&1){var b=
g[0],s=b.length-1,g=-1,a;for(d.lineStart();++g<s;)d.point((a=b[g])[0],a[1]);d.lineEnd()}else 1<s&&b&2&&g.push(g.pop().concat(g.shift())),y.push(g.filter(ec))}var f=g(d),r={point:t,lineStart:F,lineEnd:X,polygonStart:function(){r.point=l;r.lineStart=e;r.lineEnd=h;y=[];m=[];d.polygonStart()},polygonEnd:function(){r.point=t;r.lineStart=F;r.lineEnd=X;y=q.merge(y);y.length?zc(y,Jd,null,s,d):a(m)&&(d.lineStart(),s(null,null,1,d),d.lineEnd());d.polygonEnd();y=m=null},sphere:function(){d.polygonStart();d.lineStart();
s(null,null,1,d);d.lineEnd();d.polygonEnd()}},y,B=Tc(),E=g(B),m,H;return r}}function ec(b){return 1<b.length}function Tc(){var b=[],g;return{lineStart:function(){b.push(g=[])},point:function(b,a){g.push([b,a])},lineEnd:C,buffer:function(){var s=b;b=[];g=null;return s},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function Jd(b,g){return(0>(b=b.point)[0]?b[1]-W/2-ba:W/2-b[1])-(0>(g=g.point)[0]?g[1]-W/2-ba:W/2-g[1])}function Uc(b,g){var s=b[0],a=b[1],d=[Math.sin(s),-Math.cos(s),
0],t=0,c=!1,F=!1,X=0;Kb.reset();for(var l=0,e=g.length;l<e;++l){var h=g[l],f=h.length;if(f){for(var q=h[0],r=q[0],y=q[1]/2+W/4,B=Math.sin(y),E=Math.cos(y),y=1;;){y===f&&(y=0);b=h[y];var m=b[0],H=b[1]/2+W/4,J=Math.sin(H),N=Math.cos(H),L=m-r,Q=Math.abs(L)>W,B=B*J;Kb.add(Math.atan2(B*Math.sin(L),E*N+B*Math.cos(L)));Math.abs(H)<ba&&(F=!0);t+=Q?L+(0<=L?2:-2)*W:L;Q^r>=s^m>=s&&(q=Ua(jb(q),jb(b)),ac(q),q=Ua(d,q),ac(q),q=(Q^0<=L?-1:1)*qa(q[2]),a>q&&(X+=Q^0<=L?1:-1));if(!y++)break;r=m;B=J;E=N;q=b}Math.abs(t)>
ba&&(c=!0)}}return(!F&&!c&&0>Kb||t<-ba)^X&1}function Kd(b){function g(b,g){return Math.cos(b)*Math.cos(g)>d}function s(b,g,s){var a=jb(b),t=jb(g),Z=[1,0,0],t=Ua(a,t),c=Lb(t,t),a=t[0],F=c-a*a;if(!F)return!s&&b;c=d*c/F;F=-d*a/F;a=Ua(Z,t);Z=La(Z,c);t=La(t,F);Mb(Z,t);t=Lb(Z,a);c=Lb(a,a);F=t*t-c*(Lb(Z,Z)-1);if(!(0>F)){var ia=Math.sqrt(F),F=La(a,(-t-ia)/c);Mb(F,Z);F=Nb(F);if(!s)return F;s=b[0];var l=g[0];b=b[1];g=g[1];var X;l<s&&(X=s,s=l,l=X);var e=l-s,h=Math.abs(e-W)<ba,q=h||e<ba;!h&&g<b&&(X=b,b=g,g=X);
if(q?h?0<b+g^F[1]<(Math.abs(F[0]-s)<ba?b:g):b<=F[1]&&F[1]<=g:e>W^(s<=F[0]&&F[0]<=l))return g=La(a,(-t+ia)/c),Mb(g,Z),[F,Nb(g)]}}function a(g,s){var d=t?b:W-b,Z=0;g<-d?Z|=1:g>d&&(Z|=2);s<-d?Z|=4:s>d&&(Z|=8);return Z}var d=Math.cos(b),t=0<d,c=[b,0],F=Math.abs(d)>ba,l=e(b,6*aa);return Sc(g,function(b){var d,V,c,ia,l;return{lineStart:function(){ia=c=!1;l=1},point:function(X,e){var h=[X,e],q,f=g(X,e),r=t?f?0:a(X,e):f?a(X+(0>X?W:-W),e):0;!d&&(ia=c=f)&&b.lineStart();if(f!==c&&(q=s(d,h),Ob(d,q)||Ob(h,q)))h[0]+=
ba,h[1]+=ba,f=g(h[0],h[1]);if(f!==c)l=0,f?(b.lineStart(),q=s(h,d),b.point(q[0],q[1])):(q=s(d,h),b.point(q[0],q[1]),b.lineEnd()),d=q;else if(F&&d&&t^f){var y;if(!(r&V)&&(y=s(h,d,!0)))l=0,t?(b.lineStart(),b.point(y[0][0],y[0][1]),b.point(y[1][0],y[1][1]),b.lineEnd()):(b.point(y[1][0],y[1][1]),b.lineEnd(),b.lineStart(),b.point(y[0][0],y[0][1]))}f&&(!d||!Ob(d,h))&&b.point(h[0],h[1]);d=h;c=f;V=r},lineEnd:function(){c&&b.lineEnd();d=null},clean:function(){return l|(ia&&c)<<1}}},l,function(b){return Uc(c,
b)})}function Vc(b,g,s,a){function d(a,t){return Math.abs(a[0]-b)<ba?0<t?0:3:Math.abs(a[0]-s)<ba?0<t?2:1:Math.abs(a[1]-g)<ba?0<t?1:0:0<t?3:2}function t(b,g){return c(b.point,g.point)}function c(b,g){var s=d(b,1),a=d(g,1);return s!==a?s-a:0===s?g[1]-b[1]:1===s?b[0]-g[0]:2===s?b[1]-g[1]:g[0]-b[0]}return function(F){function l(t){t=d(t,-1);return e([0===t||3===t?b:s,1<t?a:g])}function e(b){for(var g=0,s=m.length,a=b[1],d=0;d<s;++d)for(var t=1,Z=m[d],V=Z.length,c=Z[0],F;t<V;++t)F=Z[t],c[1]<=a?F[1]>a&&
0<(F[0]-c[0])*(b[1]-c[1])-(b[0]-c[0])*(F[1]-c[1])&&++g:F[1]<=a&&0>(F[0]-c[0])*(b[1]-c[1])-(b[0]-c[0])*(F[1]-c[1])&&--g,c=F;return 0!==g}function h(t,F,l,X){var e=0,te=0;if(null==t||(e=d(t,l))!==(te=d(F,l))||0>c(t,F)^0<l){do X.point(0===e||3===e?b:s,1<e?a:g);while((e=(e+l+4)%4)!==te)}else X.point(F[0],F[1])}function f(d,t){b<=d&&(d<=s&&g<=t&&t<=a)&&F.point(d,t)}function r(d,t){d=Math.max(-Wc,Math.min(Wc,d));t=Math.max(-Wc,Math.min(Wc,t));var V=b<=d&&d<=s&&g<=t&&t<=a;m&&H.push([d,t]);if(n)ze=d,N=t,
L=V,n=!1,V&&(F.lineStart(),F.point(d,t));else if(V&&U)F.point(d,t);else{var c=[Q,u],ia=[d,t],l;l=ia[0]-c[0];var X=ia[1]-c[1],e=[0,1];Math.abs(l)<ba&&Math.abs(X)<ba?l=b<=c[0]&&c[0]<=s&&g<=c[1]&&c[1]<=a:fc(b-c[0],l,e)&&fc(c[0]-s,-l,e)&&fc(g-c[1],X,e)&&fc(c[1]-a,-X,e)?(1>e[1]&&(ia[0]=c[0]+e[1]*l,ia[1]=c[1]+e[1]*X),0<e[0]&&(c[0]+=e[0]*l,c[1]+=e[0]*X),l=!0):l=!1;l?(U||(F.lineStart(),F.point(c[0],c[1])),F.point(ia[0],ia[1]),V||F.lineEnd()):V&&(F.lineStart(),F.point(d,t))}Q=d;u=t;U=V}var y=F,B=Tc(),E,m,
H,J={point:f,lineStart:function(){J.point=r;m&&m.push(H=[]);n=!0;U=!1;Q=u=NaN},lineEnd:function(){E&&(r(ze,N),L&&U&&B.rejoin(),E.push(B.buffer()));J.point=f;U&&F.lineEnd()},polygonStart:function(){F=B;E=[];m=[]},polygonEnd:function(){F=y;(E=q.merge(E)).length?(F.polygonStart(),zc(E,t,l,h,F),F.polygonEnd()):e([b,g])&&(F.polygonStart(),F.lineStart(),h(null,null,1,F),F.lineEnd(),F.polygonEnd());E=m=H=null}},ze,N,L,Q,u,U,n;return J}}function fc(b,g,s){if(Math.abs(g)<ba)return 0>=b;b/=g;if(0<g){if(b>s[1])return!1;
b>s[0]&&(s[0]=b)}else{if(b<s[0])return!1;b<s[1]&&(s[1]=b)}return!0}function db(b,g){function s(s,a){return s=b(s,a),g(s[0],s[1])}b.invert&&g.invert&&(s.invert=function(s,a){return s=g.invert(s,a),s&&b.invert(s[0],s[1])});return s}function Qb(b){var g=0,s=W/3,a=Rb(b);b=a(g,s);b.parallels=function(b){return!arguments.length?[180*(g/W),180*(s/W)]:a(g=b[0]*W/180,s=b[1]*W/180)};return b}function gc(b,g){function s(b,g){var s=Math.sqrt(t-2*d*Math.sin(g))/d;return[s*Math.sin(b*=d),c-s*Math.cos(b)]}var a=
Math.sin(b),d=(a+Math.sin(g))/2,t=1+a*(2*d-a),c=Math.sqrt(t)/d;s.invert=function(b,g){var s=c-g;return[Math.atan2(b,s)/d,qa((t-(b*b+s*s)*d*d)/(2*d))]};return s}function la(){function b(b,g){Xc+=d*b-a*g;a=b;d=g}var g,s,a,d;Eb.point=function(t,c){Eb.point=b;g=a=t;s=d=c};Eb.lineEnd=function(){b(g,s)}}function Yc(){function b(b,g){c.push("M",b,",",g,t)}function g(b,g){c.push("M",b,",",g);F.point=s}function s(b,g){c.push("L",b,",",g)}function a(){F.point=b}function d(){c.push("Z")}var t=rb(4.5),c=[],F=
{point:b,lineStart:function(){F.point=g},lineEnd:a,polygonStart:function(){F.lineEnd=d},polygonEnd:function(){F.lineEnd=a;F.point=b},pointRadius:function(b){t=rb(b);return F},result:function(){if(c.length){var b=c.join("");c=[];return b}}};return F}function rb(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function eb(b,g){pb+=b;qb+=g;++lb}function hc(){function b(b,a){var d=b-g,c=a-s,d=Math.sqrt(d*d+c*c);Za+=d*(g+b)/2;$a+=d*(s+a)/2;Va+=d;eb(g=b,s=a)}var g,s;fb.point=
function(a,d){fb.point=b;eb(g=a,s=d)}}function Bc(){fb.point=eb}function Zc(){function b(b,g){var s=b-a,c=g-d,s=Math.sqrt(s*s+c*c);Za+=s*(a+b)/2;$a+=s*(d+g)/2;Va+=s;s=d*b-a*g;Cb+=s*(a+b);Db+=s*(d+g);mb+=3*s;eb(a=b,d=g)}var g,s,a,d;fb.point=function(t,c){fb.point=b;eb(g=a=t,s=d=c)};fb.lineEnd=function(){b(g,s)}}function Cc(b){function g(g,s){b.moveTo(g,s);b.arc(g,s,c,0,2*W)}function s(g,s){b.moveTo(g,s);F.point=a}function a(g,s){b.lineTo(g,s)}function d(){F.point=g}function t(){b.closePath()}var c=
4.5,F={point:g,lineStart:function(){F.point=s},lineEnd:d,polygonStart:function(){F.lineEnd=t},polygonEnd:function(){F.lineEnd=d;F.point=g},pointRadius:function(b){c=b;return F},result:C};return F}function Ma(b){function g(g){function a(s,d){s=b(s,d);g.point(s[0],s[1])}function d(){m=NaN;Q.point=c;g.lineStart()}function c(a,d){var Z=jb([a,d]),V=b(a,d);s(m,H,E,J,N,L,m=V[0],H=V[1],E=a,J=Z[0],N=Z[1],L=Z[2],t,g);g.point(m,H)}function Z(){Q.point=a;g.lineEnd()}function V(){d();Q.point=l;Q.lineEnd=e}function l(b,
g){c(h=b,g);q=m;f=H;r=J;y=N;B=L;Q.point=c}function e(){s(m,H,E,J,N,L,q,f,h,r,y,B,t,g);Q.lineEnd=Z;Z()}var h,q,f,r,y,B,E,m,H,J,N,L,Q={point:a,lineStart:d,lineEnd:Z,polygonStart:function(){g.polygonStart();Q.lineStart=V},polygonEnd:function(){g.polygonEnd();Q.lineStart=d}};return Q}function s(g,t,c,l,e,h,q,f,r,y,B,m,E,H){var J=q-g,N=f-t,L=J*J+N*N;if(L>4*a&&E--){var Q=l+y,U=e+B,u=h+m,n=Math.sqrt(Q*Q+U*U+u*u),da=Math.asin(u/=n),I=Math.abs(Math.abs(u)-1)<ba?(c+r)/2:Math.atan2(U,Q),v=b(I,da),da=v[0],v=
v[1],wa=da-g,ka=v-t,A=N*wa-J*ka;if(A*A/L>a||0.3<Math.abs((J*wa+N*ka)/L-0.5)||l*y+e*B+h*m<d)s(g,t,c,l,e,h,da,v,I,Q/=n,U/=n,u,E,H),H.point(da,v),s(da,v,I,Q,U,u,q,f,r,y,B,m,E,H)}}var a=0.5,d=Math.cos(30*aa),t=16;g.precision=function(b){if(!arguments.length)return Math.sqrt(a);t=0<(a=b*b)&&16;return g};return g}function ca(b){var g=Ma(function(g,a){return b([g*ua,a*ua])});return function(b){b=g(b);return{point:function(g,a){b.point(g*aa,a*aa)},sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},
lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}}function gb(b){return Rb(function(){return b})()}function Rb(b){function g(b){b=F(b[0]*aa,b[1]*aa);return[b[0]*e+H,J-b[1]*e]}function s(b){return(b=F.invert((b[0]-H)/e,(J-b[1])/e))&&[b[0]*ua,b[1]*ua]}function a(){F=db(c=Ga(B,m,E),t);var b=t(r,y);H=h-b[0]*e;J=f+b[1]*e;return d()}function d(){U&&(U.valid=!1,U=null);return g}var t,c,F,l=Ma(function(b,g){b=t(b,g);return[b[0]*e+H,J-b[1]*e]}),
e=150,h=480,f=250,r=0,y=0,B=0,m=0,E=0,H,J,N=Ae,L=Ha,Q=null,u=null,U;g.stream=function(b){U&&(U.valid=!1);U=Dc(c,N(l(L(b))));U.valid=!0;return U};g.clipAngle=function(b){if(!arguments.length)return Q;N=null==b?(Q=b,Ae):Kd((Q=+b)*aa);return d()};g.clipExtent=function(b){if(!arguments.length)return u;u=b;L=null==b?Ha:Vc(b[0][0],b[0][1],b[1][0],b[1][1]);return d()};g.scale=function(b){if(!arguments.length)return e;e=+b;return a()};g.translate=function(b){if(!arguments.length)return[h,f];h=+b[0];f=+b[1];
return a()};g.center=function(b){if(!arguments.length)return[r*ua,y*ua];r=b[0]%360*aa;y=b[1]%360*aa;return a()};g.rotate=function(b){if(!arguments.length)return[B*ua,m*ua,E*ua];B=b[0]%360*aa;m=b[1]%360*aa;E=2<b.length?b[2]%360*aa:0;return a()};q.rebind(g,l,"precision");return function(){t=b.apply(this,arguments);g.invert=t.invert&&s;return a()}}function Dc(b,g){return{point:function(s,a){a=b(s*aa,a*aa);s=a[0];g.point(s>W?s-2*W:s<-W?s+2*W:s,a[1])},sphere:function(){g.sphere()},lineStart:function(){g.lineStart()},
lineEnd:function(){g.lineEnd()},polygonStart:function(){g.polygonStart()},polygonEnd:function(){g.polygonEnd()}}}function hb(b,g){return[b,g]}function Ga(b,g,s){return b?g||s?db(d(b),l(g,s)):d(b):g||s?l(g,s):hb}function ic(b){return function(g,s){return g+=b,[g>W?g-2*W:g<-W?g+2*W:g,s]}}function d(b){var g=ic(b);g.invert=ic(-b);return g}function l(b,g){function s(b,g){var s=Math.cos(g),l=Math.cos(b)*s,s=Math.sin(b)*s,e=Math.sin(g),h=e*a+l*d;return[Math.atan2(s*t-h*c,l*a-e*d),qa(h*t+s*c)]}var a=Math.cos(b),
d=Math.sin(b),t=Math.cos(g),c=Math.sin(g);s.invert=function(b,g){var s=Math.cos(g),l=Math.cos(b)*s,s=Math.sin(b)*s,e=Math.sin(g),h=e*t-s*c;return[Math.atan2(s*t+e*c,l*a+h*d),qa(h*a-l*d)]};return s}function e(b,g){var s=Math.cos(b),a=Math.sin(b);return function(d,t,c,F){if(null!=d){if(d=h(s,d),t=h(s,t),0<c?d<t:d>t)d+=2*c*W}else d=b+2*c*W,t=b;for(var l,e=c*g;0<c?d>t:d<t;d-=e)F.point((l=Nb([s,-a*Math.cos(d),-a*Math.sin(d)]))[0],l[1])}}function h(b,g){var s=jb(g);s[0]-=b;ac(s);var a=1<-s[1]?0:-1>-s[1]?
W:Math.acos(-s[1]);return((0>-s[2]?-a:a)+2*Math.PI-ba)%(2*Math.PI)}function y(b,g,s){var a=q.range(b,g-ba,s).concat(g);return function(b){return a.map(function(g){return[b,g]})}}function r(b,g,s){var a=q.range(b,g-ba,s).concat(g);return function(b){return a.map(function(g){return[g,b]})}}function J(b){return b.source}function L(b){return b.target}function U(b,g,s,a){var d=Math.cos(g),t=Math.sin(g),c=Math.cos(a),F=Math.sin(a),l=d*Math.cos(b),e=d*Math.sin(b),h=c*Math.cos(s),q=c*Math.sin(s),f=2*Math.asin(Math.sqrt(za(a-
g)+d*c*za(s-b))),r=1/Math.sin(f);s=f?function(b){var g=Math.sin(b*=f)*r,s=Math.sin(f-b)*r;b=s*l+g*h;var a=s*e+g*q,g=s*t+g*F;return[Math.atan2(a,b)*ua,Math.atan2(g,Math.sqrt(b*b+a*a))*ua]}:function(){return[b*ua,g*ua]};s.distance=f;return s}function ka(b,g){function s(g,s){var a=Math.cos(g),d=Math.cos(s),a=b(a*d);return[a*d*Math.sin(g),a*Math.sin(s)]}s.invert=function(b,s){var a=Math.sqrt(b*b+s*s),d=g(a),c=Math.sin(d),d=Math.cos(d);return[Math.atan2(b*c,a*d),Math.asin(a&&s*c/a)]};return s}function wa(b,
g){function s(b,g){var s=Math.abs(Math.abs(g)-W/2)<ba?0:t/Math.pow(Math.tan(W/4+g/2),d);return[s*Math.sin(d*b),t-s*Math.cos(d*b)]}var a=Math.cos(b),d=b===g?Math.sin(b):Math.log(a/Math.cos(g))/Math.log(Math.tan(W/4+g/2)/Math.tan(W/4+b/2)),t=a*Math.pow(Math.tan(W/4+b/2),d)/d;if(!d)return $c;s.invert=function(b,g){var s=t-g,a=(0<d?1:0>d?-1:0)*Math.sqrt(b*b+s*s);return[Math.atan2(b,s)/d,2*Math.atan(Math.pow(t/a,1/d))-W/2]};return s}function sb(b,g){function s(b,g){var s=t-g;return[s*Math.sin(d*b),t-s*
Math.cos(d*b)]}var a=Math.cos(b),d=b===g?Math.sin(b):(a-Math.cos(g))/(g-b),t=a/d+b;if(Math.abs(d)<ba)return hb;s.invert=function(b,g){var s=t-g;return[Math.atan2(b,s)/d,t-(0<d?1:0>d?-1:0)*Math.sqrt(b*b+s*s)]};return s}function $c(b,g){return[b,Math.log(Math.tan(W/4+g/2))]}function Na(b){var g=gb(b),s=g.scale,a=g.translate,d=g.clipExtent,t;g.scale=function(){var b=s.apply(g,arguments);return b===g?t?g.clipExtent(null):g:b};g.translate=function(){var b=a.apply(g,arguments);return b===g?t?g.clipExtent(null):
g:b};g.clipExtent=function(b){var c=d.apply(g,arguments);if(c===g){if(t=null==b){var l=W*s(),e=a();d([[e[0]-l,e[1]-l],[e[0]+l,e[1]+l]])}}else t&&(c=null);return c};return g.clipExtent(null)}function Ld(b,g){var s=Math.cos(g)*Math.sin(b);return[Math.log((1+s)/(1-s))/2,Math.atan2(Math.tan(g),Math.cos(b))]}function P(b){function g(g){function c(){e.push("M",t(b(ia),l))}for(var e=[],ia=[],h=-1,f=g.length,q,r=ha(s),y=ha(a);++h<f;)d.call(this,q=g[h],h)?ia.push([+r.call(this,q,h),+y.call(this,q,h)]):ia.length&&
(c(),ia=[]);ia.length&&c();return e.length?e.join(""):null}var s=ma,a=I,d=Pb,t=Ya,c=t.key,l=0.7;g.x=function(b){if(!arguments.length)return s;s=b;return g};g.y=function(b){if(!arguments.length)return a;a=b;return g};g.defined=function(b){if(!arguments.length)return d;d=b;return g};g.interpolate=function(b){if(!arguments.length)return c;c="function"===typeof b?t=b:(t=Md.get(b)||Ya).key;return g};g.tension=function(b){if(!arguments.length)return l;l=b;return g};return g}function ma(b){return b[0]}function I(b){return b[1]}
function Ya(b){return b.join("L")}function O(b){for(var g=0,s=b.length,a=b[0],d=[a[0],",",a[1]];++g<s;)d.push("V",(a=b[g])[1],"H",a[0]);return d.join("")}function Nd(b){for(var g=0,s=b.length,a=b[0],d=[a[0],",",a[1]];++g<s;)d.push("H",(a=b[g])[0],"V",a[1]);return d.join("")}function ad(b,g){if(1>g.length||b.length!=g.length&&b.length!=g.length+2)return Ya(b);var s=b.length!=g.length,a="",d=b[0],t=b[1],c=g[0],l=c,e=1;s&&(a+="Q"+(t[0]-2*c[0]/3)+","+(t[1]-2*c[1]/3)+","+t[0]+","+t[1],d=b[1],e=2);if(1<
g.length){l=g[1];t=b[e];e++;a+="C"+(d[0]+c[0])+","+(d[1]+c[1])+","+(t[0]-l[0])+","+(t[1]-l[1])+","+t[0]+","+t[1];for(d=2;d<g.length;d++,e++)t=b[e],l=g[d],a+="S"+(t[0]-l[0])+","+(t[1]-l[1])+","+t[0]+","+t[1]}s&&(s=b[e],a+="Q"+(t[0]+2*l[0]/3)+","+(t[1]+2*l[1]/3)+","+s[0]+","+s[1]);return a}function Od(b,g){for(var s=[],a=(1-g)/2,d,t=b[0],c=b[1],l=1,e=b.length;++l<e;)d=t,t=c,c=b[l],s.push([a*(c[0]-d[0]),a*(c[1]-d[1])]);return s}function E(b){if(3>b.length)return Ya(b);var g=1,s=b.length,a=b[0],d=a[0],
c=a[1],l=[d,d,d,(a=b[1])[0]],F=[c,c,c,a[1]],d=[d,",",c];for(Fb(d,l,F);++g<s;)a=b[g],l.shift(),l.push(a[0]),F.shift(),F.push(a[1]),Fb(d,l,F);for(g=-1;2>++g;)l.shift(),l.push(a[0]),F.shift(),F.push(a[1]),Fb(d,l,F);return d.join("")}function Ja(b,g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]+b[3]*g[3]}function Fb(b,g,s){b.push("C",Ja(Be,g),",",Ja(Be,s),",",Ja(Ce,g),",",Ja(Ce,s),",",Ja(jc,g),",",Ja(jc,s))}function B(b,g){return(g[1]-b[1])/(g[0]-b[0])}function H(b,g,s,a){var d,c,l;b=a[b];d=b[0];c=b[1];b=a[g];
g=b[0];l=b[1];b=a[s];return 0<(b[1]-c)*(g-d)-(l-c)*(b[0]-d)}function N(b,g,s){return(s[0]-g[0])*(b[1]-g[1])<(s[1]-g[1])*(b[0]-g[0])}function Q(b,g,s,a){var d=b[0],c=s[0],l=g[0]-d,F=a[0]-c;b=b[1];s=s[1];g=g[1]-b;a=a[1]-s;c=(F*(b-s)-a*(d-c))/(a*l-F*g);return[d+c*l,b+c*g]}function da(b,g){var s=b.map(function(b,g){return{index:g,x:b[0],y:b[1]}}).sort(function(b,g){return b.y<g.y?-1:b.y>g.y?1:b.x<g.x?-1:b.x>g.x?1:0}),a=null,d={list:[],leftEnd:null,rightEnd:null,init:function(){d.leftEnd=d.createHalfEdge(null,
"l");d.rightEnd=d.createHalfEdge(null,"l");d.leftEnd.r=d.rightEnd;d.rightEnd.l=d.leftEnd;d.list.unshift(d.leftEnd,d.rightEnd)},createHalfEdge:function(b,g){return{edge:b,side:g,vertex:null,l:null,r:null}},insert:function(b,g){g.l=b;g.r=b.r;b.r.l=g;b.r=g},leftBound:function(b){var g=d.leftEnd;do g=g.r;while(g!=d.rightEnd&&c.rightOf(g,b));return g=g.l},del:function(b){b.l.r=b.r;b.r.l=b.l;b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return null==b.edge?
a:b.edge.region[b.side]},rightRegion:function(b){return null==b.edge?a:b.edge.region[Pd[b.side]]}},c={bisect:function(b,g){var a={region:{l:b,r:g},ep:{l:null,r:null}},s=g.x-b.x,d=g.y-b.y;a.c=b.x*s+b.y*d+0.5*(s*s+d*d);(0<s?s:-s)>(0<d?d:-d)?(a.a=1,a.b=d/s,a.c/=s):(a.b=1,a.a=s/d,a.c/=d);return a},intersect:function(b,g){var a=b.edge,s=g.edge;if(!a||!s||a.region.r==s.region.r)return null;var d=a.a*s.b-a.b*s.a;if(1E-10>Math.abs(d))return null;var c=(a.c*s.b-s.c*a.b)/d,d=(s.c*a.a-a.c*s.a)/d,t=a.region.r,
Z=s.region.r;t.y<Z.y||t.y==Z.y&&t.x<Z.x?t=b:(t=g,a=s);return(a=c>=a.region.r.x)&&"l"===t.side||!a&&"r"===t.side?null:{x:c,y:d}},rightOf:function(b,g){var a=b.edge,s=a.region.r,d=g.x>s.x;if(d&&"l"===b.side)return 1;if(!d&&"r"===b.side)return 0;if(1===a.a){var c=g.y-s.y,t=g.x-s.x,Z=0,l=0;!d&&0>a.b||d&&0<=a.b?l=Z=c>=a.b*t:(l=g.x+g.y*a.b>a.c,0>a.b&&(l=!l),l||(Z=1));Z||(s=s.x-a.region.l.x,l=a.b*(t*t-c*c)<s*c*(1+2*t/s+a.b*a.b),0>a.b&&(l=!l))}else t=a.c-a.a*g.x,a=g.y-t,c=g.x-s.x,s=t-s.y,l=a*a>c*c+s*s;return"l"===
b.side?l:!l},endPoint:function(b,a,s){b.ep[a]=s;b.ep[Pd[a]]&&g(b)},distance:function(b,g){var a=b.x-g.x,s=b.y-g.y;return Math.sqrt(a*a+s*s)}},l={list:[],insert:function(b,g,a){b.vertex=g;b.ystar=g.y+a;a=0;for(var s=l.list,d=s.length;a<d;a++){var c=s[a];if(!(b.ystar>c.ystar||b.ystar==c.ystar&&g.x>c.vertex.x))break}s.splice(a,0,b)},del:function(b){for(var g=0,a=l.list,s=a.length;g<s&&a[g]!=b;++g);a.splice(g,1)},empty:function(){return 0===l.list.length},nextEvent:function(b){for(var g=0,a=l.list,s=
a.length;g<s;++g)if(a[g]==b)return a[g+1];return null},min:function(){var b=l.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return l.list.shift()}};d.init();for(var a=s.shift(),F=s.shift(),e,h,f,q,r,y,B,m,E;;)if(l.empty()||(e=l.min()),F&&(l.empty()||F.y<e.y||F.y==e.y&&F.x<e.x)){h=d.leftBound(F);f=d.right(h);B=d.rightRegion(h);E=c.bisect(B,F);y=d.createHalfEdge(E,"l");d.insert(h,y);if(m=c.intersect(h,y))l.del(h),l.insert(h,m,c.distance(m,F));h=y;y=d.createHalfEdge(E,"r");d.insert(h,
y);(m=c.intersect(y,f))&&l.insert(y,m,c.distance(m,F));F=s.shift()}else if(l.empty())break;else{h=l.extractMin();q=d.left(h);f=d.right(h);r=d.right(f);B=d.leftRegion(h);y=d.rightRegion(f);m=h.vertex;c.endPoint(h.edge,h.side,m);c.endPoint(f.edge,f.side,m);d.del(h);l.del(f);d.del(f);h="l";B.y>y.y&&(h=B,B=y,y=h,h="r");E=c.bisect(B,y);y=d.createHalfEdge(E,h);d.insert(q,y);c.endPoint(E,Pd[h],m);if(m=c.intersect(q,y))l.del(q),l.insert(q,m,c.distance(m,B));(m=c.intersect(y,r))&&l.insert(y,m,c.distance(m,
B))}for(h=d.right(d.leftEnd);h!=d.rightEnd;h=d.right(h))g(h.edge)}function kc(b){return b.x}function lc(b){return b.y}function ya(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ec(b,g,a,d,c,t){if(!b(g,a,d,c,t)){var l=0.5*(a+c),F=0.5*(d+t);g=g.nodes;g[0]&&Ec(b,g[0],a,d,l,F);g[1]&&Ec(b,g[1],l,d,c,F);g[2]&&Ec(b,g[2],a,F,l,t);g[3]&&Ec(b,g[3],l,F,c,t)}}function Qd(b,g){b=q.rgb(b);g=q.rgb(g);var a=b.r,d=b.g,c=b.b,t=g.r-a,l=g.g-d,F=g.b-c;return function(b){return"#"+yb(Math.round(a+t*b))+yb(Math.round(d+
l*b))+yb(Math.round(c+F*b))}}function De(b){var g=[b.a,b.b],a=[b.c,b.d],d=Ee(g),c=g[0]*a[0]+g[1]*a[1],t=-c;a[0]+=t*g[0];a[1]+=t*g[1];t=Ee(a)||0;g[0]*a[1]<a[0]*g[1]&&(g[0]*=-1,g[1]*=-1,d*=-1,c*=-1);this.rotate=(d?Math.atan2(g[1],g[0]):Math.atan2(-a[0],a[1]))*ua;this.translate=[b.e,b.f];this.scale=[d,t];this.skew=t?Math.atan2(c,t)*ua:0}function Ee(b){var g=Math.sqrt(b[0]*b[0]+b[1]*b[1]);g&&(b[0]/=g,b[1]/=g);return g}function tb(b,g){g-=b=+b;return function(a){return b+g*a}}function bd(b,g){var a=[],
d=[],c,t=q.transform(b),l=q.transform(g),F=t.translate,e=l.translate,h=t.rotate,f=l.rotate,y=t.skew,r=l.skew,t=t.scale,l=l.scale;F[0]!=e[0]||F[1]!=e[1]?(a.push("translate(",null,",",null,")"),d.push({i:1,x:tb(F[0],e[0])},{i:3,x:tb(F[1],e[1])})):e[0]||e[1]?a.push("translate("+e+")"):a.push("");h!=f?(180<h-f?f+=360:180<f-h&&(h+=360),d.push({i:a.push(a.pop()+"rotate(",null,")")-2,x:tb(h,f)})):f&&a.push(a.pop()+"rotate("+f+")");y!=r?d.push({i:a.push(a.pop()+"skewX(",null,")")-2,x:tb(y,r)}):r&&a.push(a.pop()+
"skewX("+r+")");t[0]!=l[0]||t[1]!=l[1]?(c=a.push(a.pop()+"scale(",null,",",null,")"),d.push({i:c-4,x:tb(t[0],l[0])},{i:c-2,x:tb(t[1],l[1])})):(1!=l[0]||1!=l[1])&&a.push(a.pop()+"scale("+l+")");c=d.length;return function(b){for(var g=-1,t;++g<c;)a[(t=d[g]).i]=t.x(b);return a.join("")}}function Fe(b,g){var a={},d={},c;for(c in b)c in g?a[c]=("transform"==c?bd:Sb)(b[c],g[c]):d[c]=b[c];for(c in g)c in b||(d[c]=g[c]);return function(b){for(c in a)d[c]=a[c](b);return d}}function Ge(b,g){var a,d,c=0,t=[],
l=[],F,e;b+="";g+="";for(d=cd.lastIndex=0;a=cd.exec(g);++d)a.index&&t.push(g.substring(c,a.index)),l.push({i:t.length,x:a[0]}),t.push(null),c=cd.lastIndex;c<g.length&&t.push(g.substring(c));d=0;for(F=l.length;(a=cd.exec(b))&&d<F;++d)if(e=l[d],e.x==a[0]){if(e.i)if(null==t[e.i+1]){t[e.i-1]+=e.x;t.splice(e.i,1);for(a=d+1;a<F;++a)l[a].i--}else{t[e.i-1]+=e.x+t[e.i+1];t.splice(e.i,2);for(a=d+1;a<F;++a)l[a].i-=2}else if(null==t[e.i+1])t[e.i]=e.x;else{t[e.i]=e.x+t[e.i+1];t.splice(e.i+1,1);for(a=d+1;a<F;++a)l[a].i--}l.splice(d,
1);F--;d--}else e.x=tb(parseFloat(a[0]),parseFloat(e.x));for(;d<F;)e=l.pop(),null==t[e.i+1]?t[e.i]=e.x:(t[e.i]=e.x+t[e.i+1],t.splice(e.i+1,1)),F--;return 1===t.length?null==t[0]?(e=l[0].x,function(b){return e(b)+""}):function(){return g}:function(b){for(d=0;d<F;++d)t[(e=l[d]).i]=e.x(b);return t.join("")}}function Sb(b,g){for(var a=q.interpolators.length,d;0<=--a&&!(d=q.interpolators[a](b,g)););return d}function He(b,g){var a=[],d=[],c=b.length,t=g.length,l=Math.min(b.length,g.length),e;for(e=0;e<
l;++e)a.push(Sb(b[e],g[e]));for(;e<c;++e)d[e]=b[e];for(;e<t;++e)d[e]=g[e];return function(b){for(e=0;e<l;++e)d[e]=a[e](b);return d}}function Vf(b){return function(g){return 0>=g?0:1<=g?1:b(g)}}function Ie(b){return function(g){return 1-b(1-g)}}function Je(b){return function(g){return 0.5*(0.5>g?b(2*g):2-b(2-2*g))}}function Wf(b){return b*b}function Xf(b){return b*b*b}function Yf(b){return 1-Math.cos(b*W/2)}function Zf(b){return Math.pow(2,10*(b-1))}function $f(b){return 1-Math.sqrt(1-b*b)}function ag(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function Ke(b,g){g-=b;return function(a){return Math.round(b+g*a)}}function bg(b,g){g=g-(b=+b)?1/(g-b):0;return function(a){return(a-b)*g}}function cg(b,g){g=g-(b=+b)?1/(g-b):0;return function(a){return Math.max(0,Math.min(1,(a-b)*g))}}function dg(b){var g=b.source;b=b.target;var a;var d=b;if(g===d)a=g;else{a=Le(g);for(var d=Le(d),c=a.pop(),t=d.pop(),l=null;c===t;)l=c,
c=a.pop(),t=d.pop();a=l}for(d=[g];g!==a;)g=g.parent,d.push(g);for(g=d.length;b!==a;)d.splice(g,0,b),b=b.parent;return d}function Le(b){for(var g=[],a=b.parent;null!=a;)g.push(b),b=a,a=a.parent;g.push(b);return g}function eg(b){b.fixed|=2}function fg(b){b.fixed&=-7}function gg(b){b.fixed|=4;b.px=b.x;b.py=b.y}function hg(b){b.fixed&=-5}function Me(b,g,a){var d=0,c=0;b.charge=0;if(!b.leaf)for(var t=b.nodes,l=t.length,e=-1,h;++e<l;)h=t[e],null!=h&&(Me(h,g,a),b.charge+=h.charge,d+=h.charge*h.cx,c+=h.charge*
h.cy);b.point&&(b.leaf||(b.point.x+=Math.random()-0.5,b.point.y+=Math.random()-0.5),g*=a[b.point.index],b.charge+=b.pointCharge=g,d+=g*b.point.x,c+=g*b.point.y);b.cx=d/b.charge;b.cy=c/b.charge}function Fc(b,g){q.rebind(b,g,"sort","children","value");b.nodes=b;b.links=ig;return b}function jg(b){return b.children}function kg(b){return b.value}function lg(b,g){return g.value-b.value}function ig(b){return q.merge(b.map(function(b){return(b.children||[]).map(function(a){return{source:b,target:a}})}))}
function mg(b){return b.x}function ng(b){return b.y}function og(b,g,a){b.y0=g;b.y=a}function Rd(b){return q.range(b.length)}function Sd(b){var g=-1;b=b[0].length;for(var a=[];++g<b;)a[g]=0;return a}function pg(b){for(var g=1,a=0,d=b[0][1],c,t=b.length;g<t;++g)if((c=b[g][1])>d)a=g,d=c;return a}function qg(b){return b.reduce(rg,0)}function rg(b,g){return b+g[1]}function sg(b,g){return Ne(b,Math.ceil(Math.log(g.length)/Math.LN2+1))}function Ne(b,g){for(var a=-1,d=+b[0],c=(b[1]-d)/g,t=[];++a<=g;)t[a]=
c*a+d;return t}function tg(b){return[q.min(b),q.max(b)]}function Oe(b,g){return b.parent==g.parent?1:2}function Td(b){var g=b.children;return g&&g.length?g[0]:b._tree.thread}function Ud(b){var g=b.children,a;return g&&(a=g.length)?g[a-1]:b._tree.thread}function dd(b,g){var a=b.children;if(a&&(c=a.length))for(var d,c,t=-1;++t<c;)if(0<g(d=dd(a[t],g),b))b=d;return b}function ug(b,g){return b.x-g.x}function vg(b,g){return g.x-b.x}function wg(b,g){return b.depth-g.depth}function ub(b,g){function a(b,d){var c=
b.children;if(c&&(f=c.length))for(var l,e=null,h=-1,f;++h<f;)l=c[h],a(l,e),e=l;g(b,d)}a(b,null)}function xg(b,g){return b.value-g.value}function Vd(b,g){var a=b._pack_next;b._pack_next=g;g._pack_prev=b;g._pack_next=a;a._pack_prev=g}function Pe(b,g){b._pack_next=g;g._pack_prev=b}function Qe(b,g){var a=g.x-b.x,d=g.y-b.y,c=b.r+g.r;return 0.999*c*c>a*a+d*d}function Re(b){function g(b){d=Math.min(b.x-b.r,d);c=Math.max(b.x+b.r,c);t=Math.min(b.y-b.r,t);l=Math.max(b.y+b.r,l)}if((a=b.children)&&(B=a.length)){var a,
d=Infinity,c=-Infinity,t=Infinity,l=-Infinity,e,h,f,q,y,r,B;a.forEach(yg);e=a[0];e.x=-e.r;e.y=0;g(e);if(1<B&&(h=a[1],h.x=h.r,h.y=0,g(h),2<B)){f=a[2];Se(e,h,f);g(f);Vd(e,f);e._pack_prev=f;Vd(f,h);h=e._pack_next;for(q=3;q<B;q++){Se(e,h,f=a[q]);var m=0,E=1,H=1;for(y=h._pack_next;y!==h;y=y._pack_next,E++)if(Qe(y,f)){m=1;break}if(1==m)for(r=e._pack_prev;r!==y._pack_prev&&!Qe(r,f);r=r._pack_prev,H++);m?(E<H||E==H&&h.r<e.r?Pe(e,h=y):Pe(e=r,h),q--):(Vd(e,f),h=f,g(f))}}e=(d+c)/2;h=(t+l)/2;for(q=y=0;q<B;q++)f=
a[q],f.x-=e,f.y-=h,y=Math.max(y,f.r+Math.sqrt(f.x*f.x+f.y*f.y));b.r=y;a.forEach(zg)}}function yg(b){b._pack_next=b._pack_prev=b}function zg(b){delete b._pack_next;delete b._pack_prev}function Te(b,g,a,d){var c=b.children;b.x=g+=d*b.x;b.y=a+=d*b.y;b.r*=d;if(c){b=-1;for(var t=c.length;++b<t;)Te(c[b],g,a,d)}}function Se(b,g,a){var d=b.r+a.r,c=g.x-b.x,t=g.y-b.y;if(d&&(c||t)){var l=g.r+a.r,e=c*c+t*t,l=l*l,d=d*d;g=0.5+(d-l)/(2*e);l=Math.sqrt(Math.max(0,2*l*(d+e)-(d-=e)*d-l*l))/(2*e);a.x=b.x+g*c+l*t;a.y=
b.y+g*t-l*c}else a.x=b.x+d,a.y=b.y}function Ag(b){return 1+q.max(b,function(b){return b.y})}function Bg(b){return b.reduce(function(b,a){return b+a.x},0)/b.length}function Ue(b){var g=b.children;return g&&g.length?Ue(g[0]):b}function Ve(b){var g=b.children,a;return g&&(a=g.length)?Ve(g[a-1]):b}function Wd(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function We(b,g){var a=b.x+g[3],d=b.y+g[0],c=b.dx-g[1]-g[3],t=b.dy-g[0]-g[2];0>c&&(a+=c/2,c=0);0>t&&(d+=t/2,t=0);return{x:a,y:d,dx:c,dy:t}}function Tb(b){var g=
b[0];b=b[b.length-1];return g<b?[g,b]:[b,g]}function ed(b){return b.rangeExtent?b.rangeExtent():Tb(b.range())}function Cg(b,g,a,d){var c=a(b[0],b[1]),t=d(g[0],g[1]);return function(b){return t(c(b))}}function fd(b,g){var a=0,d=b.length-1,c=b[a],t=b[d],l;t<c&&(l=a,a=d,d=l,l=c,c=t,t=l);b[a]=g.floor(c);b[d]=g.ceil(t);return b}function Xe(b){return b?{floor:function(g){return Math.floor(g/b)*b},ceil:function(g){return Math.ceil(g/b)*b}}:Dg}function Eg(b,g,a,d){var c=[],t=[],l=0,e=Math.min(b.length,g.length)-
1;b[e]<b[0]&&(b=b.slice().reverse(),g=g.slice().reverse());for(;++l<=e;)c.push(a(b[l-1],b[l])),t.push(d(g[l-1],g[l]));return function(g){var a=q.bisect(b,g,1,e)-1;return t[a](c[a](g))}}function Ye(b,g,a,d){function c(){var h=2<Math.min(b.length,g.length)?Eg:Cg,V=d?cg:bg;l=h(b,g,V,a);e=h(g,b,V,Sb);return t}function t(b){return l(b)}var l,e;t.invert=function(b){return e(b)};t.domain=function(g){if(!arguments.length)return b;b=g.map(Number);return c()};t.range=function(b){if(!arguments.length)return g;
g=b;return c()};t.rangeRound=function(b){return t.range(b).interpolate(Ke)};t.clamp=function(b){if(!arguments.length)return d;d=b;return c()};t.interpolate=function(b){if(!arguments.length)return a;a=b;return c()};t.ticks=function(g){return q.range.apply(q,mc(b,g))};t.tickFormat=function(g,a){return Xd(b,g,a)};t.nice=function(g){fd(b,Xe(g?mc(b,g)[2]:Ze(b)));return c()};t.copy=function(){return Ye(b,g,a,d)};return c()}function Yd(b,g){return q.rebind(b,g,"range","rangeRound","interpolate","clamp")}
function Ze(b){b=Tb(b);return Math.pow(10,Math.round(Math.log(b[1]-b[0])/Math.LN10)-1)}function mc(b,g){var a=Tb(b),d=a[1]-a[0],c=Math.pow(10,Math.floor(Math.log(d/g)/Math.LN10)),d=g/d*c;0.15>=d?c*=10:0.35>=d?c*=5:0.75>=d&&(c*=2);a[0]=Math.ceil(a[0]/c)*c;a[1]=Math.floor(a[1]/c)*c+0.5*c;a[2]=c;return a}function Xd(b,g,a){var d=-Math.floor(Math.log(mc(b,g)[2])/Math.LN10+0.01);return q.format(a?a.replace($e,function(b,g,a,s,c,l,e,h,f,q){return[g,a,s,c,l,e,h,f||"."+(d-2*("%"===q)),q].join("")}):",."+
d+"f")}function af(b,g,a,d,c){function t(g){return b(a(g))}t.invert=function(g){return d(b.invert(g))};t.domain=function(g){if(!arguments.length)return c;0>g[0]?(a=Zd,d=Fg):(a=$d,d=bf);b.domain((c=g.map(Number)).map(a));return t};t.base=function(b){if(!arguments.length)return g;g=+b;return t};t.nice=function(){function d(b){return Math.pow(g,Math.floor(Math.log(b)/Math.log(g)))}function l(b){return Math.pow(g,Math.ceil(Math.log(b)/Math.log(g)))}b.domain(fd(c,a===$d?{floor:d,ceil:l}:{floor:function(b){return-l(-b)},
ceil:function(b){return-d(-b)}}).map(a));return t};t.ticks=function(){var c=Tb(b.domain()),t=[];if(c.every(isFinite)){var l=Math.log(g),e=Math.floor(c[0]/l),l=Math.ceil(c[1]/l),h=d(c[0]),c=d(c[1]),V=g%1?2:g;if(a===Zd)for(t.push(-Math.pow(g,-e));e++<l;)for(var f=V-1;0<f;f--)t.push(-Math.pow(g,-e)*f);else{for(;e<l;e++)for(f=1;f<V;f++)t.push(Math.pow(g,e)*f);t.push(Math.pow(g,e))}for(e=0;t[e]<h;e++);for(l=t.length;t[l-1]>c;l--);t=t.slice(e,l)}return t};t.tickFormat=function(b,c){if(!arguments.length)return cf;
2>arguments.length?c=cf:"function"!==typeof c&&(c=q.format(c));var l=Math.log(g),e=Math.max(0.1,b/t.ticks().length),h=a===Zd?(V=-1E-12,Math.floor):(V=1E-12,Math.ceil),V;return function(b){return b/d(l*h(a(b)/l+V))<=e?c(b):""}};t.copy=function(){return af(b.copy(),g,a,d,c)};return Yd(t,b)}function $d(b){return Math.log(0>b?0:b)}function bf(b){return Math.exp(b)}function Zd(b){return-Math.log(0<b?0:-b)}function Fg(b){return-Math.exp(-b)}function df(b,g,a){function d(g){return b(c(g))}var c=gd(g),t=
gd(1/g);d.invert=function(g){return t(b.invert(g))};d.domain=function(g){if(!arguments.length)return a;b.domain((a=g.map(Number)).map(c));return d};d.ticks=function(b){return q.range.apply(q,mc(a,b))};d.tickFormat=function(b,g){return Xd(a,b,g)};d.nice=function(b){return d.domain(fd(a,Xe(b?mc(a,b)[2]:Ze(a))))};d.exponent=function(l){if(!arguments.length)return g;c=gd(g=l);t=gd(1/g);b.domain(a.map(c));return d};d.copy=function(){return df(b.copy(),g,a)};return Yd(d,b)}function gd(b){return function(g){return 0>
g?-Math.pow(-g,b):Math.pow(g,b)}}function ef(b,g){function a(g){return t[((c.get(g)||c.set(g,b.push(g)))-1)%t.length]}function d(g,a){return q.range(b.length).map(function(b){return g+a*b})}var c,t,l;a.domain=function(d){if(!arguments.length)return b;b=[];c=new m;for(var t=-1,l=d.length,e;++t<l;)c.has(e=d[t])||c.set(e,b.push(e));return a[g.t].apply(a,g.a)};a.range=function(b){if(!arguments.length)return t;t=b;l=0;g={t:"range",a:arguments};return a};a.rangePoints=function(c,e){2>arguments.length&&
(e=0);var h=c[0],V=c[1],f=(V-h)/(Math.max(1,b.length-1)+e);t=d(2>b.length?(h+V)/2:h+f*e/2,f);l=0;g={t:"rangePoints",a:arguments};return a};a.rangeBands=function(c,e,h){2>arguments.length&&(e=0);3>arguments.length&&(h=e);var V=c[1]<c[0],f=c[V-0],q=(c[1-V]-f)/(b.length-e+2*h);t=d(f+q*h,q);V&&t.reverse();l=q*(1-e);g={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(c,e,h){2>arguments.length&&(e=0);3>arguments.length&&(h=e);var V=c[1]<c[0],f=c[V-0],q=c[1-V],y=Math.floor((q-f)/(b.length-
e+2*h));t=d(f+Math.round((q-f-(b.length-e)*y)/2),y);V&&t.reverse();l=Math.round(y*(1-e));g={t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return l};a.rangeExtent=function(){return Tb(g.a[0])};a.copy=function(){return ef(b,g)};return a.domain(b)}function ff(b,g){function a(){var s=0,l=g.length;for(c=[];++s<l;)c[s-1]=q.quantile(b,s/l);return d}function d(b){if(!isNaN(b=+b))return g[q.bisect(c,b)]}var c;d.domain=function(g){if(!arguments.length)return b;b=g.filter(function(b){return!isNaN(b)}).sort(q.ascending);
return a()};d.range=function(b){if(!arguments.length)return g;g=b;return a()};d.quantiles=function(){return c};d.copy=function(){return ff(b,g)};return a()}function gf(b,g,a){function d(g){return a[Math.max(0,Math.min(l,Math.floor(t*(g-b))))]}function c(){t=a.length/(g-b);l=a.length-1;return d}var t,l;d.domain=function(a){if(!arguments.length)return[b,g];b=+a[0];g=+a[a.length-1];return c()};d.range=function(b){if(!arguments.length)return a;a=b;return c()};d.copy=function(){return gf(b,g,a)};d.invertExtent=
function(g){g=a.indexOf(g);g=0>g?NaN:g/t+b;return[g,g+1/t]};return c()}function hf(b,g){function a(d){if(d<=d)return g[q.bisect(b,d)]}a.domain=function(g){if(!arguments.length)return b;b=g;return a};a.range=function(b){if(!arguments.length)return g;g=b;return a};a.invertExtent=function(a){a=g.indexOf(a);return[b[a-1],b[a]]};a.copy=function(){return hf(b,g)};return a}function jf(b){function g(b){return+b}g.invert=g;g.domain=g.range=function(a){if(!arguments.length)return b;b=a.map(g);return g};g.ticks=
function(g){return q.range.apply(q,mc(b,g))};g.tickFormat=function(g,a){return Xd(b,g,a)};g.copy=function(){return jf(b)};return g}function Gg(b){return b.innerRadius}function Hg(b){return b.outerRadius}function kf(b){return b.startAngle}function lf(b){return b.endAngle}function mf(b){for(var g,a=-1,d=b.length,c,t;++a<d;)g=b[a],c=g[0],t=g[1]+Ub,g[0]=c*Math.cos(t),g[1]=c*Math.sin(t);return b}function nf(b){function g(g){function h(){r.push("M",e(b(B),y),q,f(b(X.reverse()),y),"Z")}for(var r=[],X=[],
B=[],m=-1,E=g.length,H,J=ha(a),N=ha(c),L=a===d?function(){return U}:ha(d),Q=c===t?function(){return u}:ha(t),U,u;++m<E;)l.call(this,H=g[m],m)?(X.push([U=+J.call(this,H,m),u=+N.call(this,H,m)]),B.push([+L.call(this,H,m),+Q.call(this,H,m)])):X.length&&(h(),X=[],B=[]);X.length&&h();return r.length?r.join(""):null}var a=ma,d=ma,c=0,t=I,l=Pb,e=Ya,h=e.key,f=e,q="L",y=0.7;g.x=function(b){if(!arguments.length)return d;a=d=b;return g};g.x0=function(b){if(!arguments.length)return a;a=b;return g};g.x1=function(b){if(!arguments.length)return d;
d=b;return g};g.y=function(b){if(!arguments.length)return t;c=t=b;return g};g.y0=function(b){if(!arguments.length)return c;c=b;return g};g.y1=function(b){if(!arguments.length)return t;t=b;return g};g.defined=function(b){if(!arguments.length)return l;l=b;return g};g.interpolate=function(b){if(!arguments.length)return h;h="function"===typeof b?e=b:(e=Md.get(b)||Ya).key;f=e.reverse||e;q=e.closed?"M":"L";return g};g.tension=function(b){if(!arguments.length)return y;y=b;return g};return g}function Ig(b){return b.radius}
function of(b){return[b.x,b.y]}function Jg(b){return function(){var g=b.apply(this,arguments),a=g[0],g=g[1]+Ub;return[a*Math.cos(g),a*Math.sin(g)]}}function Kg(){return 64}function Lg(){return"circle"}function pf(b){b=Math.sqrt(b/W);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Gc(b,g){Cd(b,Ca);b.id=g;return b}function ae(b,g,a,d){var c=b.id;return $(b,"function"===typeof a?function(b,l,e){b.__transition__[c].tween.set(g,d(a.call(b,b.__data__,l,e)))}:(a=d(a),function(b){b.__transition__[c].tween.set(g,
a)}))}function Mg(b){null==b&&(b="");return function(){this.textContent=b}}function hd(b,g,a,d){var c=b.__transition__||(b.__transition__={active:0,count:0}),t=c[a];if(!t){var l=d.time,t=c[a]={tween:new m,event:q.dispatch("start","end"),time:l,ease:d.ease,delay:d.delay,duration:d.duration};++c.count;q.timer(function(d){function e(d){if(c.active>a)return Z();c.active=a;r.start.call(b,f,g);t.tween.forEach(function(a,d){(d=d.call(b,f,g))&&E.push(d)});h(d)||q.timer(h,0,l);return 1}function h(d){if(c.active!==
a)return Z();d=(d-B)/m;for(var t=y(d),l=E.length;0<l;)E[--l].call(b,t);if(1<=d)return Z(),r.end.call(b,f,g),1}function Z(){--c.count?delete c[a]:delete b.__transition__;return 1}var f=b.__data__,y=t.ease,r=t.event,B=t.delay,m=t.duration,E=[];return B<=d?e(d):q.timer(e,B,l),1},0,l);return t}}function qf(b,g){b.attr("transform",function(b){return"translate("+g(b)+",0)"})}function rf(b,g){b.attr("transform",function(b){return"translate(0,"+g(b)+")"})}function Ng(b,g,a){d=[];if(a&&1<g.length){b=Tb(b.domain());
for(var d,c=-1,t=g.length,l=(g[1]-g[0])/++a,e,h;++c<t;)for(e=a;0<--e;)(h=+g[c]-e*l)>=b[0]&&d.push(h);--c;for(e=0;++e<a&&(h=+g[c]+e*l)<b[1];)d.push(h)}return d}function Vb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Wb(b,g,a){function d(g){var a=b(g),s=t(a,1);return g-a<s-g?a:s}function c(a){g(a=b(new Oa(a-1)),1);return a}function t(b,a){g(b=new Oa(+b),a);return b}function l(b,d,t){b=c(b);var e=[];if(1<t)for(;b<d;)a(b)%t||e.push(new Date(+b)),g(b,1);else for(;b<
d;)e.push(new Date(+b)),g(b,1);return e}b.floor=b;b.round=d;b.ceil=c;b.offset=t;b.range=l;var e=b.utc=jd(b);e.floor=e;e.round=jd(d);e.ceil=jd(c);e.offset=jd(t);e.range=function(b,g,a){try{Oa=Vb;var d=new Vb;d._=b;return l(d,g,a)}finally{Oa=Date}};return b}function jd(b){return function(g,a){try{Oa=Vb;var d=new Vb;d._=g;return b(d,a)._}finally{Oa=Date}}}function kd(b,g,a,d){for(var c,t=0,l=g.length,e=a.length;t<l;){if(d>=e)return-1;c=g.charCodeAt(t++);if(37===c){if(c=Og[g.charAt(t++)],!c||0>(d=c(b,
a,d)))return-1}else if(c!=a.charCodeAt(d++))return-1}return d}function ld(b){return RegExp("^(?:"+b.map(q.requote).join("|")+")","i")}function md(b){for(var g=new m,a=-1,d=b.length;++a<d;)g.set(b[a].toLowerCase(),a);return g}function Ra(b,g,a){var d=0>b?"-":"";b=(d?-b:b)+"";var c=b.length;return d+(c<a?Array(a-c+1).join(g)+b:b)}function sf(b,g,a){xa.lastIndex=0;return(g=xa.exec(g.substring(a,a+2)))?(b.d=+g[0],a+g[0].length):-1}function tf(b,g,a){xa.lastIndex=0;return(g=xa.exec(g.substring(a,a+2)))?
(b.H=+g[0],a+g[0].length):-1}function be(b){return b.toISOString()}function ce(b,g,a){function d(g){return b(g)}d.invert=function(g){return de(b.invert(g))};d.domain=function(g){if(!arguments.length)return b.domain().map(de);b.domain(g);return d};d.nice=function(b){return d.domain(fd(d.domain(),b))};d.ticks=function(a,s){var c=Tb(d.domain());if("function"!==typeof a){var l=(c[1]-c[0])/a,e=q.bisect(nd,l);if(e==nd.length)return g.year(c,a);if(!e)return b.ticks(a).map(de);Math.log(l/nd[e-1])<Math.log(nd[e]/
l)&&--e;a=g[e];s=a[1];a=a[0].range}return a(c[0],new Date(+c[1]+1),s)};d.tickFormat=function(){return a};d.copy=function(){return ce(b.copy(),g,a)};return Yd(d,b)}function de(b){return new Date(b)}function uf(b){return function(g){for(var a=b.length-1,d=b[a];!d[1](g);)d=b[--a];return d[0](g)}}function ee(b){var g=new Date(b,0,1);g.setFullYear(b);return g}function Pg(b){var g=b.getFullYear(),a=ee(g),d=ee(g+1);return g+(b-a)/(d-a)}function fe(b){var g=new Date(Date.UTC(b,0,1));g.setUTCFullYear(b);return g}
function Qg(b){var g=b.getUTCFullYear(),a=fe(g),d=fe(g+1);return g+(b-a)/(d-a)}function Rg(b){return JSON.parse(b.responseText)}function Sg(b){var g=Wa.createRange();g.selectNode(Wa.body);return g.createContextualFragment(b.responseText)}var q={version:"3.2.2"};Date.now||(Date.now=function(){return+new Date});var Wa=document,xb=Wa.documentElement,Ta=window;try{Wa.createElement("div").style.setProperty("opacity",0,"")}catch(zh){var vf=Ta.CSSStyleDeclaration.prototype,Tg=vf.setProperty;vf.setProperty=
function(b,g,a){Tg.call(this,b,g+"",a)}}q.ascending=function(b,g){return b<g?-1:b>g?1:b>=g?0:NaN};q.descending=function(b,g){return g<b?-1:g>b?1:g>=b?0:NaN};q.min=function(b,g){var a=-1,d=b.length,c,t;if(1===arguments.length){for(;++a<d&&!(null!=(c=b[a])&&c<=c);)c=void 0;for(;++a<d;)if(null!=(t=b[a])&&c>t)c=t}else{for(;++a<d&&!(null!=(c=g.call(b,b[a],a))&&c<=c);)c=void 0;for(;++a<d;)if(null!=(t=g.call(b,b[a],a))&&c>t)c=t}return c};q.max=function(b,g){var a=-1,d=b.length,c,t;if(1===arguments.length){for(;++a<
d&&!(null!=(c=b[a])&&c<=c);)c=void 0;for(;++a<d;)if(null!=(t=b[a])&&t>c)c=t}else{for(;++a<d&&!(null!=(c=g.call(b,b[a],a))&&c<=c);)c=void 0;for(;++a<d;)if(null!=(t=g.call(b,b[a],a))&&t>c)c=t}return c};q.extent=function(b,g){var a=-1,d=b.length,c,t,l;if(1===arguments.length){for(;++a<d&&!(null!=(c=l=b[a])&&c<=c);)c=l=void 0;for(;++a<d;)if(null!=(t=b[a]))c>t&&(c=t),l<t&&(l=t)}else{for(;++a<d&&!(null!=(c=l=g.call(b,b[a],a))&&c<=c);)c=void 0;for(;++a<d;)if(null!=(t=g.call(b,b[a],a)))c>t&&(c=t),l<t&&(l=
t)}return[c,l]};q.sum=function(b,g){var a=0,d=b.length,c,l=-1;if(1===arguments.length)for(;++l<d;){if(!isNaN(c=+b[l]))a+=c}else for(;++l<d;)if(!isNaN(c=+g.call(b,b[l],l)))a+=c;return a};q.mean=function(b,a){var d=b.length,l,e=0,t=-1,h=0;if(1===arguments.length)for(;++t<d;){if(c(l=b[t]))e+=(l-e)/++h}else for(;++t<d;)if(c(l=a.call(b,b[t],t)))e+=(l-e)/++h;return h?e:void 0};q.quantile=function(b,a){var d=(b.length-1)*a+1,c=Math.floor(d),l=+b[c-1];return(d-=c)?l+d*(b[c]-l):l};q.median=function(b,a){1<
arguments.length&&(b=b.map(a));b=b.filter(c);return b.length?q.quantile(b.sort(q.ascending),0.5):void 0};q.bisector=function(b){return{left:function(a,d,c,l){3>arguments.length&&(c=0);4>arguments.length&&(l=a.length);for(;c<l;){var t=c+l>>>1;b.call(a,a[t],t)<d?c=t+1:l=t}return c},right:function(a,d,c,l){3>arguments.length&&(c=0);4>arguments.length&&(l=a.length);for(;c<l;){var t=c+l>>>1;d<b.call(a,a[t],t)?l=t:c=t+1}return c}}};var wf=q.bisector(function(b){return b});q.bisectLeft=wf.left;q.bisect=
q.bisectRight=wf.right;q.shuffle=function(b){for(var a=b.length,d,c;a;)c=Math.random()*a--|0,d=b[a],b[a]=b[c],b[c]=d;return b};q.permute=function(b,a){for(var d=[],c=-1,l=a.length;++c<l;)d[c]=b[a[c]];return d};q.zip=function(){if(!(l=arguments.length))return[];for(var b=-1,a=q.min(arguments,f),d=Array(a);++b<a;)for(var c=-1,l,t=d[b]=Array(l);++c<l;)t[c]=arguments[c][b];return d};q.transpose=function(b){return q.zip.apply(q,b)};q.keys=function(b){var a=[],d;for(d in b)a.push(d);return a};q.values=
function(b){var a=[],d;for(d in b)a.push(b[d]);return a};q.entries=function(b){var a=[],d;for(d in b)a.push({key:d,value:b[d]});return a};q.merge=function(b){return Array.prototype.concat.apply([],b)};q.range=function(b,a,d){3>arguments.length&&(d=1,2>arguments.length&&(a=b,b=0));if(Infinity===(a-b)/d)throw Error("infinite range");var c=[],l;l=Math.abs(d);for(var t=1;l*t%1;)t*=10;l=t;var t=-1,e;b*=l;a*=l;d*=l;if(0>d)for(;(e=b+d*++t)>a;)c.push(e/l);else for(;(e=b+d*++t)<a;)c.push(e/l);return c};q.map=
function(b){var a=new m,d;for(d in b)a.set(d,b[d]);return a};a(m,{has:function(b){return Gb+b in this},get:function(b){return this[Gb+b]},set:function(b,a){return this[Gb+b]=a},remove:function(b){b=Gb+b;return b in this&&delete this[b]},keys:function(){var b=[];this.forEach(function(a){b.push(a)});return b},values:function(){var b=[];this.forEach(function(a,d){b.push(d)});return b},entries:function(){var b=[];this.forEach(function(a,d){b.push({key:a,value:d})});return b},forEach:function(b){for(var a in this)a.charCodeAt(0)===
xf&&b.call(this,a.substring(1),this[a])}});var Gb="\x00",xf=Gb.charCodeAt(0);q.nest=function(){function b(a,g,l){if(l>=c.length)return e?e.call(d,g):t?g.sort(t):g;for(var h=-1,f=g.length,q=c[l++],V,y,r=new m,B;++h<f;)(B=r.get(V=q(y=g[h])))?B.push(y):r.set(V,[y]);a?(y=a(),g=function(g,d){y.set(g,b(a,d,l))}):(y={},g=function(g,d){y[g]=b(a,d,l)});r.forEach(g);return y}function a(b,d){if(d>=c.length)return b;var s=[],t=l[d++];b.forEach(function(b,c){s.push({key:b,values:a(c,d)})});return t?s.sort(function(b,
a){return t(b.key,a.key)}):s}var d={},c=[],l=[],t,e;d.map=function(a,g){return b(g,a,0)};d.entries=function(d){return a(b(q.map,d,0),0)};d.key=function(b){c.push(b);return d};d.sortKeys=function(b){l[c.length-1]=b;return d};d.sortValues=function(b){t=b;return d};d.rollup=function(b){e=b;return d};return d};q.set=function(b){var a=new u;if(b)for(var d=0;d<b.length;d++)a.add(b[d]);return a};a(u,{has:function(b){return Gb+b in this},add:function(b){this[Gb+b]=!0;return b},remove:function(b){b=Gb+b;return b in
this&&delete this[b]},values:function(){var b=[];this.forEach(function(a){b.push(a)});return b},forEach:function(b){for(var a in this)a.charCodeAt(0)===xf&&b.call(this,a.substring(1))}});q.behavior={};q.rebind=function(b,a){for(var d=1,c=arguments.length,l;++d<c;)b[l=arguments[d]]=n(b,a,a[l]);return b};var re="webkit ms moz Moz o O".split(" "),wb=function(b){return Array.prototype.slice.call(b)};try{wb(xb.childNodes)[0].nodeType}catch(Ah){wb=z}var Cd=[].__proto__?function(b,a){b.__proto__=a}:function(b,
a){for(var d in a)b[d]=a[d]};q.dispatch=function(){for(var b=new G,a=-1,d=arguments.length;++a<d;)b[arguments[a]]=A(b);return b};G.prototype.on=function(b,a){var d=b.indexOf("."),c="";0<=d&&(c=b.substring(d+1),b=b.substring(0,d));if(b)return 2>arguments.length?this[b].on(c):this[b].on(c,a);if(2===arguments.length){if(null==a)for(b in this)if(this.hasOwnProperty(b))this[b].on(c,null);return this}};q.event=null;q.requote=function(b){return b.replace(Ug,"\\$&")};var Ug=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,
Dd=function(b,a){return a.querySelector(b)},Ed=function(b,a){return a.querySelectorAll(b)},Vg=xb[v(xb,"matchesSelector")],se=function(b,a){return Vg.call(b,a)};"function"===typeof Sizzle&&(Dd=function(b,a){return Sizzle(b,a)[0]||null},Ed=function(b,a){return Sizzle.uniqueSort(Sizzle(b,a))},se=Sizzle.matchesSelector);q.selection=function(){return yf};var ja=q.selection.prototype=[];ja.select=function(b){var a=[],d,c,l,t;"function"!==typeof b&&(b=R(b));for(var e=-1,h=this.length;++e<h;){a.push(d=[]);
d.parentNode=(l=this[e]).parentNode;for(var f=-1,q=l.length;++f<q;)(t=l[f])?(d.push(c=b.call(t,t.__data__,f)),c&&"__data__"in t&&(c.__data__=t.__data__)):d.push(null)}return T(a)};ja.selectAll=function(b){var a=[],d,c;"function"!==typeof b&&(b=K(b));for(var l=-1,t=this.length;++l<t;)for(var e=this[l],h=-1,f=e.length;++h<f;)if(c=e[h])a.push(d=wb(b.call(c,c.__data__,h))),d.parentNode=c;return T(a)};var ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};q.ns={prefix:ge,qualify:function(b){var a=b.indexOf(":"),d=b;0<=a&&(d=b.substring(0,a),b=b.substring(a+1));return ge.hasOwnProperty(d)?{space:ge[d],local:b}:b}};ja.attr=function(b,a){if(2>arguments.length){if("string"===typeof b){var d=this.node();b=q.ns.qualify(b);return b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}for(a in b)this.each(D(a,b[a]));return this}return this.each(D(b,a))};ja.classed=function(b,
a){if(2>arguments.length){if("string"===typeof b){var d=this.node(),c=(b=b.trim().split(/^|\s+/g)).length,l=-1;if(a=d.classList)for(;++l<c;){if(!a.contains(b[l]))return!1}else for(a=d.getAttribute("class");++l<c;)if(!oa(b[l]).test(a))return!1;return!0}for(a in b)this.each(Ba(a,b[a]));return this}return this.each(Ba(b,a))};ja.style=function(b,a,d){var c=arguments.length;if(3>c){if("string"!==typeof b){2>c&&(a="");for(d in b)this.each(S(d,b[d],a));return this}if(2>c)return Ta.getComputedStyle(this.node(),
null).getPropertyValue(b);d=""}return this.each(S(b,a,d))};ja.property=function(b,a){if(2>arguments.length){if("string"===typeof b)return this.node()[b];for(a in b)this.each(Ka(a,b[a]));return this}return this.each(Ka(b,a))};ja.text=function(b){return arguments.length?this.each("function"===typeof b?function(){var a=b.apply(this,arguments);this.textContent=null==a?"":a}:null==b?function(){this.textContent=""}:function(){this.textContent=b}):this.node().textContent};ja.html=function(b){return arguments.length?
this.each("function"===typeof b?function(){var a=b.apply(this,arguments);this.innerHTML=null==a?"":a}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};ja.append=function(b){function a(){return this.appendChild(Wa.createElementNS(this.namespaceURI,b))}function d(){return this.appendChild(Wa.createElementNS(b.space,b.local))}b=q.ns.qualify(b);return this.select(b.local?d:a)};ja.insert=function(b,a){function d(c,s){return this.insertBefore(Wa.createElementNS(this.namespaceURI,
b),a.call(this,c,s))}function c(d,s){return this.insertBefore(Wa.createElementNS(b.space,b.local),a.call(this,d,s))}b=q.ns.qualify(b);"function"!==typeof a&&(a=R(a));return this.select(b.local?c:d)};ja.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})};ja.data=function(b,a){function d(b,c){var s,l=b.length,t=c.length,e=Math.min(l,t),y=Array(t),Z=Array(t),V=Array(l),r,B;if(a){var e=new m,ia=new m,E=[],H;for(s=-1;++s<l;)H=a.call(r=b[s],r.__data__,s),e.has(H)?
V[s]=r:e.set(H,r),E.push(H);for(s=-1;++s<t;)H=a.call(c,B=c[s],s),(r=e.get(H))?(y[s]=r,r.__data__=B):ia.has(H)||(Z[s]={__data__:B}),ia.set(H,B),e.remove(H);for(s=-1;++s<l;)e.has(E[s])&&(V[s]=b[s])}else{for(s=-1;++s<e;)r=b[s],B=c[s],r?(r.__data__=B,y[s]=r):Z[s]={__data__:B};for(;s<t;++s)Z[s]={__data__:c[s]};for(;s<l;++s)V[s]=b[s]}Z.update=y;Z.parentNode=y.parentNode=V.parentNode=b.parentNode;h.push(Z);f.push(y);q.push(V)}var c=-1,l=this.length,t,e;if(!arguments.length){for(b=Array(l=(t=this[0]).length);++c<
l;)if(e=t[c])b[c]=e.__data__;return b}var h=ea([]),f=T([]),q=T([]);if("function"===typeof b)for(;++c<l;)d(t=this[c],b.call(t,t.parentNode.__data__,c));else for(;++c<l;)d(t=this[c],b);f.enter=function(){return h};f.exit=function(){return q};return f};ja.datum=function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};ja.filter=function(b){var a=[],d,c,l;"function"!==typeof b&&(b=Qa(b));for(var t=0,e=this.length;t<e;t++){a.push(d=[]);d.parentNode=(c=this[t]).parentNode;
for(var h=0,f=c.length;h<f;h++)(l=c[h])&&b.call(l,l.__data__,h)&&d.push(l)}return T(a)};ja.order=function(){for(var b=-1,a=this.length;++b<a;)for(var d=this[b],c=d.length-1,l=d[c],t;0<=--c;)if(t=d[c])l&&l!==t.nextSibling&&l.parentNode.insertBefore(t,l),l=t;return this};ja.sort=function(b){b=ta.apply(this,arguments);for(var a=-1,d=this.length;++a<d;)this[a].sort(b);return this.order()};ja.each=function(b){return $(this,function(a,d,c){b.call(a,a.__data__,d,c)})};ja.call=function(b){var a=wb(arguments);
b.apply(a[0]=this,a);return this};ja.empty=function(){return!this.node()};ja.node=function(){for(var b=0,a=this.length;b<a;b++)for(var d=this[b],c=0,l=d.length;c<l;c++){var t=d[c];if(t)return t}return null};ja.size=function(){var b=0;this.each(function(){++b});return b};var nb=[];q.selection.enter=ea;q.selection.enter.prototype=nb;nb.append=ja.append;nb.insert=ja.insert;nb.empty=ja.empty;nb.node=ja.node;nb.call=ja.call;nb.size=ja.size;nb.select=function(b){for(var a=[],d,c,l,t,e,h=-1,f=this.length;++h<
f;){l=(t=this[h]).update;a.push(d=[]);d.parentNode=t.parentNode;for(var q=-1,y=t.length;++q<y;)(e=t[q])?(d.push(l[q]=c=b.call(t.parentNode,e.__data__,q)),c.__data__=e.__data__):d.push(null)}return T(a)};ja.transition=function(){var b=Hc||++zf,a=[],d,c,l=Object.create(od);l.time=Date.now();for(var t=-1,e=this.length;++t<e;){a.push(d=[]);for(var h=this[t],f=-1,q=h.length;++f<q;)(c=h[f])&&hd(c,f,b,l),d.push(c)}return Gc(a,b)};q.select=function(b){b=["string"===typeof b?Dd(b,Wa):b];b.parentNode=xb;return T([b])};
q.selectAll=function(b){b=wb("string"===typeof b?Ed(b,Wa):b);b.parentNode=xb;return T([b])};var yf=q.select(xb);ja.on=function(b,a,d){var c=arguments.length;if(3>c){if("string"!==typeof b){2>c&&(a=!1);for(d in b)this.each(Pa(d,b[d],a));return this}if(2>c)return(c=this.node()["__on"+b])&&c._;d=!1}return this.each(Pa(b,a,d))};var Fd=q.map({mouseenter:"mouseover",mouseleave:"mouseout"});Fd.forEach(function(b){"on"+b in Wa&&Fd.remove(b)});var Gd=v(xb.style,"userSelect");q.mouse=function(b){return Sa(b,
M())};var Hd=/WebKit/.test(Ta.navigator.userAgent)?-1:0;q.touches=function(b,a){2>arguments.length&&(a=M().touches);return a?wb(a).map(function(a){var d=Sa(b,a);d.identifier=a.identifier;return d}):[]};q.behavior.drag=function(){function b(){this.on("mousedown.drag",a).on("touchstart.drag",a)}function a(){function b(){var a=l.parentNode;return null!=f?q.touches(a).filter(function(b){return b.identifier===f})[0]:q.mouse(a)}function g(){E.on(null!=f?"touchmove.drag-"+f:"mousemove.drag",null).on(null!=
f?"touchend.drag-"+f:"mouseup.drag",null);m(B&&q.event.target===h);e({type:"dragend"})}var l=this,e=d.of(l,arguments),h=q.event.target,f=q.event.touches?q.event.changedTouches[0].identifier:null,y,r=b(),B=0,m=pa(null!=f?"drag-"+f:"drag"),E=q.select(Ta).on(null!=f?"touchmove.drag-"+f:"mousemove.drag",function(){if(!l.parentNode)return g();var a=b(),d=a[0]-r[0],c=a[1]-r[1];B|=d|c;r=a;e({type:"drag",x:a[0]+y[0],y:a[1]+y[1],dx:d,dy:c})}).on(null!=f?"touchend.drag-"+f:"mouseup.drag",g,!0);c?(y=c.apply(l,
arguments),y=[y.x-r[0],y.y-r[1]]):y=[0,0];e({type:"dragstart"})}var d=w(b,"drag","dragstart","dragend"),c=null;b.origin=function(a){if(!arguments.length)return c;c=a;return b};return q.rebind(b,d,"on")};q.behavior.zoom=function(){function b(){this.on("mousedown.zoom",e).on("mousemove.zoom",f).on(Wg+".zoom",h).on("dblclick.zoom",y).on("touchstart.zoom",r).on("touchmove.zoom",B).on("touchend.zoom",r)}function a(b){return[(b[0]-m[0])/H,(b[1]-m[1])/H]}function d(b){H=Math.max(L[0],Math.min(L[1],b))}function c(b,
a){a=[a[0]*H+m[0],a[1]*H+m[1]];m[0]+=b[0]-a[0];m[1]+=b[1]-a[1]}function l(){u&&u.domain(U.range().map(function(b){return(b-m[0])/H}).map(U.invert));da&&da.domain(n.range().map(function(b){return(b-m[1])/H}).map(n.invert))}function t(b){l();q.event.preventDefault();b({type:"zoom",scale:H,translate:m})}function e(){var b=this,d=Q.of(b,arguments),s=q.event.target,l=0,h=q.select(Ta).on("mousemove.zoom",function(){l=1;c(q.mouse(b),f);t(d)}).on("mouseup.zoom",function(){h.on("mousemove.zoom",null).on("mouseup.zoom",
null);F(l&&q.event.target===s)}),f=a(q.mouse(b)),F=pa("zoom")}function h(){E||(E=a(q.mouse(this)));d(Math.pow(2,0.0020*pd())*H);c(q.mouse(this),E);t(Q.of(this,arguments))}function f(){E=null}function y(){var b=q.mouse(this),l=a(b),e=Math.log(H)/Math.LN2;d(Math.pow(2,q.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1));c(b,l);t(Q.of(this,arguments))}function r(){var b=q.touches(this),l=Date.now();N=H;E={};J=0;b.forEach(function(b){E[b.identifier]=a(b)});if(1===b.length){if(500>l-I){var e=b[0],b=a(b[0]);
d(2*H);c(e,b);t(Q.of(this,arguments))}I=l}else 1<b.length&&(e=b[0],b=b[1],l=e[0]-b[0],e=e[1]-b[1],J=l*l+e*e)}function B(){var b=q.touches(this),a=b[0],g=E[a.identifier];if(b=b[1]){var l=E[b.identifier],e=q.event.scale;if(null==e)var h=(h=b[0]-a[0])*h+(h=b[1]-a[1])*h,e=J&&Math.sqrt(h/J);a=[(a[0]+b[0])/2,(a[1]+b[1])/2];g=[(g[0]+l[0])/2,(g[1]+l[1])/2];d(e*N)}c(a,g);I=null;t(Q.of(this,arguments))}var m=[0,0],E,H=1,J,N,L=Af,Q=w(b,"zoom"),U,u,n,da,I;b.translate=function(a){if(!arguments.length)return m;
m=a.map(Number);l();return b};b.scale=function(a){if(!arguments.length)return H;H=+a;l();return b};b.scaleExtent=function(a){if(!arguments.length)return L;L=null==a?Af:a.map(Number);return b};b.x=function(a){if(!arguments.length)return u;u=a;U=a.copy();m=[0,0];H=1;return b};b.y=function(a){if(!arguments.length)return da;da=a;n=a.copy();m=[0,0];H=1;return b};return q.rebind(b,Q,"on")};var Af=[0,Infinity],pd,Wg="onwheel"in Wa?(pd=function(){return-q.event.deltaY*(q.event.deltaMode?120:1)},"wheel"):
"onmousewheel"in Wa?(pd=function(){return q.event.wheelDelta},"mousewheel"):(pd=function(){return-q.event.detail},"MozMousePixelScroll");ab.prototype.toString=function(){return this.rgb()+""};q.hsl=function(b,a,d){return 1===arguments.length?b instanceof Y?bb(b.h,b.s,b.l):Ib(""+b,Zb,bb):bb(+b,+a,+d)};var he=Y.prototype=new ab;he.brighter=function(b){b=Math.pow(0.7,arguments.length?b:1);return bb(this.h,this.s,this.l/b)};he.darker=function(b){b=Math.pow(0.7,arguments.length?b:1);return bb(this.h,this.s,
b*this.l)};he.rgb=function(){return na(this.h,this.s,this.l)};var W=Math.PI,ba=1E-6,Bf=ba*ba,aa=W/180,ua=180/W;q.hcl=function(b,a,d){return 1===arguments.length?b instanceof Ea?Da(b.h,b.c,b.l):b instanceof Yb?Jc(b.l,b.a,b.b):Jc((b=Lc((b=q.rgb(b)).r,b.g,b.b)).l,b.a,b.b):Da(+b,+a,+d)};var ie=Ea.prototype=new ab;ie.brighter=function(b){return Da(this.h,this.c,Math.min(100,this.l+qd*(arguments.length?b:1)))};ie.darker=function(b){return Da(this.h,this.c,Math.max(0,this.l-qd*(arguments.length?b:1)))};
ie.rgb=function(){return Aa(this.h,this.c,this.l).rgb()};q.lab=function(b,a,d){return 1===arguments.length?b instanceof Yb?Fa(b.l,b.a,b.b):b instanceof Ea?Aa(b.l,b.c,b.h):Lc((b=q.rgb(b)).r,b.g,b.b):Fa(+b,+a,+d)};var qd=18,ue=0.95047,ve=1,we=1.08883,je=Yb.prototype=new ab;je.brighter=function(b){return Fa(Math.min(100,this.l+qd*(arguments.length?b:1)),this.a,this.b)};je.darker=function(b){return Fa(Math.max(0,this.l-qd*(arguments.length?b:1)),this.a,this.b)};je.rgb=function(){return Ic(this.l,this.a,
this.b)};q.rgb=function(b,a,d){return 1===arguments.length?b instanceof Xb?Ia(b.r,b.g,b.b):Ib(""+b,Ia,na):Ia(~~b,~~a,~~d)};var rd=Xb.prototype=new ab;rd.brighter=function(b){b=Math.pow(0.7,arguments.length?b:1);var a=this.r,d=this.g,c=this.b;if(!a&&!d&&!c)return Ia(30,30,30);a&&30>a&&(a=30);d&&30>d&&(d=30);c&&30>c&&(c=30);return Ia(Math.min(255,Math.floor(a/b)),Math.min(255,Math.floor(d/b)),Math.min(255,Math.floor(c/b)))};rd.darker=function(b){b=Math.pow(0.7,arguments.length?b:1);return Ia(Math.floor(b*
this.r),Math.floor(b*this.g),Math.floor(b*this.b))};rd.hsl=function(){return Zb(this.r,this.g,this.b)};rd.toString=function(){return"#"+yb(this.r)+yb(this.g)+yb(this.b)};var Kc=q.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",
cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",
deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",
lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",
mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",
powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",
yellow:"#ffff00",yellowgreen:"#9acd32"});Kc.forEach(function(b,a){Kc.set(b,Ib(a,Ia,na))});q.functor=ha;q.xhr=ib(Ha);q.dsv=function(b,a){function d(b,s,t){3>arguments.length&&(t=s,s=null);var e=q.xhr(b,a,t);e.row=function(b){return arguments.length?e.response(null==(s=b)?c:l(b)):s};return e.row(s)}function c(b){return d.parse(b.responseText)}function l(b){return function(a){return d.parse(a.responseText,b)}}function t(a){return a.map(e).join(b)}function e(b){return h.test(b)?'"'+b.replace(/\"/g,'""')+
'"':b}var h=RegExp('["'+b+"\n]"),f=b.charCodeAt(0);d.parse=function(b,a){var g;return d.parseRows(b,function(b,d){if(g)return g(b,d-1);var c=new Function("d","return {"+b.map(function(b,a){return JSON.stringify(b)+": d["+a+"]"}).join(",")+"}");g=a?function(b,d){return a(c(b),d)}:c})};d.parseRows=function(b,a){function d(){if(t>=l)return c;if(q)return q=!1,g;var a=t;if(34===b.charCodeAt(a)){for(var s=a;s++<l;)if(34===b.charCodeAt(s)){if(34!==b.charCodeAt(s+1))break;++s}t=s+2;var e=b.charCodeAt(s+1);
13===e?(q=!0,10===b.charCodeAt(s+2)&&++t):10===e&&(q=!0);return b.substring(a+1,s).replace(/""/g,'"')}for(;t<l;){e=b.charCodeAt(t++);s=1;if(10===e)q=!0;else if(13===e)q=!0,10===b.charCodeAt(t)&&(++t,++s);else if(e!==f)continue;return b.substring(a,t-s)}return b.substring(a)}for(var g={},c={},s=[],l=b.length,t=0,e=0,h,q;(h=d())!==c;){for(var F=[];h!==g&&h!==c;)F.push(h),h=d();(!a||(F=a(F,e++)))&&s.push(F)}return s};d.format=function(a){if(Array.isArray(a[0]))return d.formatRows(a);var g=new u,c=[];
a.forEach(function(b){for(var a in b)g.has(a)||c.push(g.add(a))});return[c.map(e).join(b)].concat(a.map(function(a){return c.map(function(b){return e(a[b])}).join(b)})).join("\n")};d.formatRows=function(b){return b.map(t).join("\n")};return d};q.csv=q.dsv(",","text/csv");q.tsv=q.dsv("\t","text/tab-separated-values");var Oc,Pc,Nc,Mc;q.timer=function(b,a,d){if(3>arguments.length){if(2>arguments.length)a=0;else if(!isFinite(a))return;d=Date.now()}var c={callback:b,time:d+a,next:null};Pc?Pc.next=c:Oc=
c;Pc=c;Nc||(Mc=clearTimeout(Mc),Nc=1,xe(tc))};q.timer.flush=function(){Jb();uc()};var xe=Ta[v(Ta,"requestAnimationFrame")]||function(b){setTimeout(b,17)},sd=[3,3],Xg="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,a){var d=Math.pow(10,3*Math.abs(8-a));return{scale:8<a?function(b){return b/d}:function(b){return b*d},symbol:b}});q.formatPrefix=function(b,a){var d=0;b&&(0>b&&(b*=-1),a&&(b=q.round(b,zb(b,a))),d=1+Math.floor(1E-12+Math.log(b)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((0>=
d?d+1:d-1)/3))));return Xg[8+d/3]};q.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)};q.format=function(b){b=$e.exec(b);var a=b[1]||" ",d=b[2]||">",c=b[3]||"",l=b[4]||"",t=b[5],e=+b[6],h=b[7],f=b[8],y=b[9],r=1,B="",m=!1;f&&(f=+f.substring(1));if(t||"0"===a&&"="===d)t=a="0",d="=",h&&(e-=Math.floor((e-1)/4));switch(y){case "n":h=!0;y="g";break;case "%":r=100;B="%";y="f";break;case "p":r=100;B="%";y="r";break;case "b":case "o":case "x":case "X":l&&(l="0"+y.toLowerCase());
case "c":case "d":m=!0;f=0;break;case "s":r=-1,y="r"}"#"===l&&(l="");"r"==y&&!f&&(y="g");if(null!=f)if("g"==y)f=Math.max(1,Math.min(21,f));else if("e"==y||"f"==y)f=Math.max(0,Math.min(20,f));var y=Yg.get(y)||vc,E=t&&h;return function(b){if(m&&b%1)return"";var H=0>b||0===b&&0>1/b?(b=-b,"-"):c;if(0>r){var J=q.formatPrefix(b,f);b=J.scale(b);B=J.symbol}else b*=r;b=y(b,f);!t&&h&&(b=ke(b));var J=l.length+b.length+(E?0:H.length),N=J<e?Array(J=e-J+1).join(a):"";E&&(b=ke(N+b));b.replace(".",".");H+=l;return("<"===
d?H+b+N:">"===d?N+H+b:"^"===d?N.substring(0,J>>=1)+H+b+N.substring(J):H+(E?b:N+b))+B}};var $e=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Yg=q.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,
a){return(b=q.round(b,zb(b,a))).toFixed(Math.max(0,Math.min(20,zb(b*(1+1E-15),a))))}}),ke=Ha;if(sd)var Zg=sd.length,ke=function(b){for(var a=b.lastIndexOf("."),d=0<=a?"."+b.substring(a+1):(a=b.length,""),c=[],l=0,t=sd[0];0<a&&0<t;)c.push(b.substring(a-=t,a+t)),t=sd[l=(l+1)%Zg];return c.reverse().join(",")+d};q.geo={};Ab.prototype={s:0,t:0,add:function(b){$b(b,this.t,td);$b(td.s,this.s,this);this.s?this.t+=td.t:this.s=td.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var td=
new Ab;q.geo.stream=function(b,a){if(b&&Cf.hasOwnProperty(b.type))Cf[b.type](b,a);else ob(b,a)};var Cf={Feature:function(b,a){ob(b.geometry,a)},FeatureCollection:function(b,a){for(var d=b.features,c=-1,l=d.length;++c<l;)ob(d[c].geometry,a)}},ye={Sphere:function(b,a){a.sphere()},Point:function(b,a){var d=b.coordinates;a.point(d[0],d[1])},MultiPoint:function(b,a){for(var d=b.coordinates,c=-1,l=d.length,t;++c<l;)t=d[c],a.point(t[0],t[1])},LineString:function(b,a){wc(b.coordinates,a,0)},MultiLineString:function(b,
a){for(var d=b.coordinates,c=-1,l=d.length;++c<l;)wc(d[c],a,0)},Polygon:function(b,a){Qc(b.coordinates,a)},MultiPolygon:function(b,a){for(var d=b.coordinates,c=-1,l=d.length;++c<l;)Qc(d[c],a)},GeometryCollection:function(b,a){for(var d=b.geometries,c=-1,l=d.length;++c<l;)ob(d[c],a)}};q.geo.area=function(b){nc=0;q.geo.stream(b,Xa);return nc};var nc,Kb=new Ab,Xa={sphere:function(){nc+=4*W},point:C,lineStart:C,lineEnd:C,polygonStart:function(){Kb.reset();Xa.lineStart=Rc},polygonEnd:function(){var b=
2*Kb;nc+=0>b?4*W+b:b;Xa.lineStart=Xa.lineEnd=Xa.point=C}};q.geo.bounds=function(){function b(b,a){U.push(u=[r=b,m=b]);a<B&&(B=a);a>H&&(H=a)}function a(d,g){var c=jb([d*aa,g*aa]);if(L){var l=Ua(L,c),l=Ua([l[1],-l[0],0],l);ac(l);var l=Nb(l),s=d-E,t=0<s?1:-1,e=l[0]*ua*t,s=180<Math.abs(s);s^(t*E<e&&e<t*d)?(l=l[1]*ua,l>H&&(H=l)):(e=(e+360)%360-180,s^(t*E<e&&e<t*d))?(l=-l[1]*ua,l<B&&(B=l)):(g<B&&(B=g),g>H&&(H=g));s?d<E?h(r,d)>h(r,m)&&(m=d):h(d,m)>h(r,m)&&(r=d):m>=r?(d<r&&(r=d),d>m&&(m=d)):d>E?h(r,d)>h(r,
m)&&(m=d):h(d,m)>h(r,m)&&(r=d)}else b(d,g);L=c;E=d}function d(){n.point=a}function c(){u[0]=r;u[1]=m;n.point=b;L=null}function l(b,d){if(L){var c=b-E;Q+=180<Math.abs(c)?c+(0<c?360:-360):c}else J=b,N=d;Xa.point(b,d);a(b,d)}function t(){Xa.lineStart()}function e(){l(J,N);Xa.lineEnd();Math.abs(Q)>ba&&(r=-(m=180));u[0]=r;u[1]=m;L=null}function h(b,a){return 0>(a-=b)?a+360:a}function f(b,a){return b[0]-a[0]}function y(b,a){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}var r,B,m,H,E,J,N,L,Q,U,u,n={point:b,
lineStart:d,lineEnd:c,polygonStart:function(){n.point=l;n.lineStart=t;n.lineEnd=e;Q=0;Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd();n.point=b;n.lineStart=d;n.lineEnd=c;0>Kb?(r=-(m=180),B=-(H=90)):Q>ba?H=90:Q<-ba&&(B=-90);u[0]=r;u[1]=m}};return function(b){H=m=-(r=B=Infinity);U=[];q.geo.stream(b,n);if(b=U.length){U.sort(f);for(var a=1,d=U[0],g,c=[d];a<b;++a)g=U[a],y(g[0],d)||y(g[1],d)?(h(d[0],g[1])>h(d[0],d[1])&&(d[1]=g[1]),h(g[0],d[1])>h(d[0],d[1])&&(d[0]=g[0])):c.push(d=g);var l=-Infinity,
s;b=c.length-1;a=0;for(d=c[b];a<=b;d=g,++a)if(g=c[a],(s=h(d[1],g[0]))>l)l=s,r=g[0],m=d[1]}U=u=null;return Infinity===r||Infinity===B?[[NaN,NaN],[NaN,NaN]]:[[r,B],[m,H]]}}();q.geo.centroid=function(b){xc=cc=pb=qb=lb=Za=$a=Va=Cb=Db=mb=0;q.geo.stream(b,cb);b=Cb;var a=Db,d=mb,c=b*b+a*a+d*d;return c<Bf&&(b=Za,a=$a,d=Va,cc<ba&&(b=pb,a=qb,d=lb),c=b*b+a*a+d*d,c<Bf)?[NaN,NaN]:[Math.atan2(a,b)*ua,qa(d/Math.sqrt(c))*ua]};var xc,cc,pb,qb,lb,Za,$a,Va,Cb,Db,mb,cb={sphere:C,point:bc,lineStart:yc,lineEnd:Bb,polygonStart:function(){cb.lineStart=
dc},polygonEnd:function(){cb.lineStart=yc}},Ae=Sc(Pb,function(b){var a=NaN,d=NaN,c=NaN,l;return{lineStart:function(){b.lineStart();l=1},point:function(t,e){var h=0<t?W:-W,f=Math.abs(t-a);if(Math.abs(f-W)<ba)b.point(a,d=0<(d+e)/2?W/2:-W/2),b.point(c,d),b.lineEnd(),b.lineStart(),b.point(h,d),b.point(t,d),l=0;else if(c!==h&&f>=W){Math.abs(a-c)<ba&&(a-=c*ba);Math.abs(t-h)<ba&&(t-=h*ba);var f=a,q=d,y=t,r,B,m=Math.sin(f-y);d=Math.abs(m)>ba?Math.atan((Math.sin(q)*(B=Math.cos(e))*Math.sin(y)-Math.sin(e)*
(r=Math.cos(q))*Math.sin(f))/(r*B*m)):(q+e)/2;b.point(c,d);b.lineEnd();b.lineStart();b.point(h,d);l=0}b.point(a=t,d=e);c=h},lineEnd:function(){b.lineEnd();a=d=NaN},clean:function(){return 2-l}}},function(b,a,d,c){null==b?(d=d*W/2,c.point(-W,d),c.point(0,d),c.point(W,d),c.point(W,0),c.point(W,-d),c.point(0,-d),c.point(-W,-d),c.point(-W,0),c.point(-W,d)):Math.abs(b[0]-a[0])>ba?(b=(b[0]<a[0]?1:-1)*W,d=d*b/2,c.point(-b,d),c.point(0,d),c.point(b,d)):c.point(a[0],a[1])},function(b){return Uc($g,b)}),$g=
[-W,0],Wc=1E9;(q.geo.conicEqualArea=function(){return Qb(gc)}).raw=gc;q.geo.albers=function(){return q.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};q.geo.albersUsa=function(){function b(b){var a=b[0];b=b[1];l=null;(e(a,b),l)||(h(a,b),l)||f(a,b);return l}var a=q.geo.albers(),d=q.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=q.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,t={point:function(b,a){l=
[b,a]}},e,h,f;b.invert=function(b){var l=a.scale(),t=a.translate(),e=(b[0]-t[0])/l,l=(b[1]-t[1])/l;return(0.12<=l&&0.234>l&&-0.425<=e&&-0.214>e?d:0.166<=l&&0.234>l&&-0.214<=e&&-0.115>e?c:a).invert(b)};b.stream=function(b){var l=a.stream(b),e=d.stream(b),t=c.stream(b);return{point:function(b,a){l.point(b,a);e.point(b,a);t.point(b,a)},sphere:function(){l.sphere();e.sphere();t.sphere()},lineStart:function(){l.lineStart();e.lineStart();t.lineStart()},lineEnd:function(){l.lineEnd();e.lineEnd();t.lineEnd()},
polygonStart:function(){l.polygonStart();e.polygonStart();t.polygonStart()},polygonEnd:function(){l.polygonEnd();e.polygonEnd();t.polygonEnd()}}};b.precision=function(l){if(!arguments.length)return a.precision();a.precision(l);d.precision(l);c.precision(l);return b};b.scale=function(l){if(!arguments.length)return a.scale();a.scale(l);d.scale(0.35*l);c.scale(l);return b.translate(a.translate())};b.translate=function(l){if(!arguments.length)return a.translate();var q=a.scale(),y=+l[0],r=+l[1];e=a.translate(l).clipExtent([[y-
0.455*q,r-0.238*q],[y+0.455*q,r+0.238*q]]).stream(t).point;h=d.translate([y-0.307*q,r+0.201*q]).clipExtent([[y-0.425*q+ba,r+0.12*q+ba],[y-0.214*q-ba,r+0.234*q-ba]]).stream(t).point;f=c.translate([y-0.205*q,r+0.212*q]).clipExtent([[y-0.214*q+ba,r+0.166*q+ba],[y-0.115*q-ba,r+0.234*q-ba]]).stream(t).point;return b};return b.scale(1070)};var ud,Xc,Eb={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Xc=0;Eb.lineStart=la},polygonEnd:function(){Eb.lineStart=Eb.lineEnd=Eb.point=C;ud+=Math.abs(Xc/2)}},
vd,wd,xd,yd,ah={point:function(b,a){b<vd&&(vd=b);b>xd&&(xd=b);a<wd&&(wd=a);a>yd&&(yd=a)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},fb={point:eb,lineStart:hc,lineEnd:Bc,polygonStart:function(){fb.lineStart=Zc},polygonEnd:function(){fb.point=eb;fb.lineStart=hc;fb.lineEnd=Bc}};q.geo.path=function(){function b(b){if(b){"function"===typeof d&&h.pointRadius(+d.apply(this,arguments));if(!f||!f.valid)f=e(h);q.geo.stream(b,f)}return h.result()}function a(){f=null;return b}var d=4.5,c,l,e,h,f;b.area=
function(b){ud=0;q.geo.stream(b,e(Eb));return ud};b.centroid=function(b){pb=qb=lb=Za=$a=Va=Cb=Db=mb=0;q.geo.stream(b,e(fb));return mb?[Cb/mb,Db/mb]:Va?[Za/Va,$a/Va]:lb?[pb/lb,qb/lb]:[NaN,NaN]};b.bounds=function(b){xd=yd=-(vd=wd=Infinity);q.geo.stream(b,e(ah));return[[vd,wd],[xd,yd]]};b.projection=function(b){if(!arguments.length)return c;e=(c=b)?b.stream||ca(b):Ha;return a()};b.context=function(b){if(!arguments.length)return l;h=null==(l=b)?new Yc:new Cc(b);"function"!==typeof d&&h.pointRadius(d);
return a()};b.pointRadius=function(a){if(!arguments.length)return d;d="function"===typeof a?a:(h.pointRadius(+a),+a);return b};return b.projection(q.geo.albersUsa()).context(null)};q.geo.projection=gb;q.geo.projectionMutator=Rb;(q.geo.equirectangular=function(){return gb(hb)}).raw=hb.invert=hb;q.geo.rotation=function(b){function a(d){d=b(d[0]*aa,d[1]*aa);return d[0]*=ua,d[1]*=ua,d}b=Ga(b[0]%360*aa,b[1]*aa,2<b.length?b[2]*aa:0);a.invert=function(a){a=b.invert(a[0]*aa,a[1]*aa);return a[0]*=ua,a[1]*=
ua,a};return a};q.geo.circle=function(){function b(){var b="function"===typeof a?a.apply(this,arguments):a,d=Ga(-b[0]*aa,-b[1]*aa,0).invert,c=[];l(null,null,1,{point:function(b,a){c.push(b=d(b,a));b[0]*=ua;b[1]*=ua}});return{type:"Polygon",coordinates:[c]}}var a=[0,0],d,c=6,l;b.origin=function(d){if(!arguments.length)return a;a=d;return b};b.angle=function(a){if(!arguments.length)return d;l=e((d=+a)*aa,c*aa);return b};b.precision=function(a){if(!arguments.length)return c;l=e(d*aa,(c=+a)*aa);return b};
return b.angle(90)};q.geo.distance=function(b,a){var d=(a[0]-b[0])*aa,c=b[1]*aa,l=a[1]*aa,e=Math.sin(d),d=Math.cos(d),h=Math.sin(c),c=Math.cos(c),f=Math.sin(l),l=Math.cos(l),q;return Math.atan2(Math.sqrt((q=l*e)*q+(q=c*f-h*l*d)*q),h*f+c*l*d)};q.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:a()}}function a(){return q.range(Math.ceil(e/J)*J,l,J).map(U).concat(q.range(Math.ceil(m/N)*N,B,N).map(u)).concat(q.range(Math.ceil(c/H)*H,d,H).filter(function(b){return Math.abs(b%
J)>ba}).map(L)).concat(q.range(Math.ceil(f/E)*E,h,E).filter(function(b){return Math.abs(b%N)>ba}).map(Q))}var d,c,l,e,h,f,B,m,H=10,E=H,J=90,N=360,L,Q,U,u,n=2.5;b.lines=function(){return a().map(function(b){return{type:"LineString",coordinates:b}})};b.outline=function(){return{type:"Polygon",coordinates:[U(e).concat(u(B).slice(1),U(l).reverse().slice(1),u(m).reverse().slice(1))]}};b.extent=function(a){return!arguments.length?b.minorExtent():b.majorExtent(a).minorExtent(a)};b.majorExtent=function(a){if(!arguments.length)return[[e,
m],[l,B]];e=+a[0][0];l=+a[1][0];m=+a[0][1];B=+a[1][1];e>l&&(a=e,e=l,l=a);m>B&&(a=m,m=B,B=a);return b.precision(n)};b.minorExtent=function(a){if(!arguments.length)return[[c,f],[d,h]];c=+a[0][0];d=+a[1][0];f=+a[0][1];h=+a[1][1];c>d&&(a=c,c=d,d=a);f>h&&(a=f,f=h,h=a);return b.precision(n)};b.step=function(a){return!arguments.length?b.minorStep():b.majorStep(a).minorStep(a)};b.majorStep=function(a){if(!arguments.length)return[J,N];J=+a[0];N=+a[1];return b};b.minorStep=function(a){if(!arguments.length)return[H,
E];H=+a[0];E=+a[1];return b};b.precision=function(a){if(!arguments.length)return n;n=+a;L=y(f,h,90);Q=r(c,d,n);U=y(m,B,90);u=r(e,l,n);return b};return b.majorExtent([[-180,-90+ba],[180,90-ba]]).minorExtent([[-180,-80-ba],[180,80+ba]])};q.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[d||a.apply(this,arguments),l||c.apply(this,arguments)]}}var a=J,d,c=L,l;b.distance=function(){return q.geo.distance(d||a.apply(this,arguments),l||c.apply(this,arguments))};b.source=function(c){if(!arguments.length)return a;
a=c;d="function"===typeof c?null:c;return b};b.target=function(a){if(!arguments.length)return c;c=a;l="function"===typeof a?null:a;return b};b.precision=function(){return arguments.length?b:0};return b};q.geo.interpolate=function(b,a){return U(b[0]*aa,b[1]*aa,a[0]*aa,a[1]*aa)};q.geo.length=function(b){zd=0;q.geo.stream(b,oc);return zd};var zd,oc={sphere:C,point:C,lineStart:function(){function b(b,l){var e=Math.sin(l*=aa),h=Math.cos(l),f=Math.abs((b*=aa)-a),q=Math.cos(f);zd+=Math.atan2(Math.sqrt((f=
h*Math.sin(f))*f+(f=c*e-d*h*q)*f),d*e+c*h*q);a=b;d=e;c=h}var a,d,c;oc.point=function(l,e){a=l*aa;d=Math.sin(e*=aa);c=Math.cos(e);oc.point=b};oc.lineEnd=function(){oc.point=oc.lineEnd=C}},lineEnd:C,polygonStart:C,polygonEnd:C},Df=ka(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(q.geo.azimuthalEqualArea=function(){return gb(Df)}).raw=Df;var Ef=ka(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},Ha);(q.geo.azimuthalEquidistant=function(){return gb(Ef)}).raw=Ef;(q.geo.conicConformal=
function(){return Qb(wa)}).raw=wa;(q.geo.conicEquidistant=function(){return Qb(sb)}).raw=sb;var Ff=ka(function(b){return 1/b},Math.atan);(q.geo.gnomonic=function(){return gb(Ff)}).raw=Ff;$c.invert=function(b,a){return[b,2*Math.atan(Math.exp(a))-W/2]};(q.geo.mercator=function(){return Na($c)}).raw=$c;var Gf=ka(function(){return 1},Math.asin);(q.geo.orthographic=function(){return gb(Gf)}).raw=Gf;var Hf=ka(function(b){return 1/(1+b)},function(b){return 2*Math.atan(b)});(q.geo.stereographic=function(){return gb(Hf)}).raw=
Hf;Ld.invert=function(b,a){return[Math.atan2((Math.exp(b)-Math.exp(-b))/2,Math.cos(a)),qa(Math.sin(a)/((Math.exp(b)+Math.exp(-b))/2))]};(q.geo.transverseMercator=function(){return Na(Ld)}).raw=Ld;q.geom={};q.svg={};q.svg.line=function(){return P(Ha)};var Md=q.map({linear:Ya,"linear-closed":function(b){return Ya(b)+"Z"},step:function(b){for(var a=0,d=b.length,c=b[0],l=[c[0],",",c[1]];++a<d;)l.push("H",(c[0]+(c=b[a])[0])/2,"V",c[1]);1<d&&l.push("H",c[0]);return l.join("")},"step-before":O,"step-after":Nd,
basis:E,"basis-open":function(b){if(4>b.length)return Ya(b);for(var a=[],d=-1,c=b.length,l,e=[0],h=[0];3>++d;)l=b[d],e.push(l[0]),h.push(l[1]);a.push(Ja(jc,e)+","+Ja(jc,h));for(--d;++d<c;)l=b[d],e.shift(),e.push(l[0]),h.shift(),h.push(l[1]),Fb(a,e,h);return a.join("")},"basis-closed":function(b){for(var a,d=-1,c=b.length,l=c+4,e,h=[],f=[];4>++d;)e=b[d%c],h.push(e[0]),f.push(e[1]);a=[Ja(jc,h),",",Ja(jc,f)];for(--d;++d<l;)e=b[d%c],h.shift(),h.push(e[0]),f.shift(),f.push(e[1]),Fb(a,h,f);return a.join("")},
bundle:function(b,a){var d=b.length-1;if(d)for(var c=b[0][0],l=b[0][1],e=b[d][0]-c,h=b[d][1]-l,f=-1,q,y;++f<=d;)q=b[f],y=f/d,q[0]=a*q[0]+(1-a)*(c+y*e),q[1]=a*q[1]+(1-a)*(l+y*h);return E(b)},cardinal:function(b,a){return 3>b.length?Ya(b):b[0]+ad(b,Od(b,a))},"cardinal-open":function(b,a){return 4>b.length?Ya(b):b[1]+ad(b.slice(1,b.length-1),Od(b,a))},"cardinal-closed":function(b,a){return 3>b.length?Ya(b):b[0]+ad((b.push(b[0]),b),Od([b[b.length-2]].concat(b,[b[1]]),a))},monotone:function(b){if(3>b.length)b=
Ya(b);else{var a=b[0],d=[],c,l,e,h;c=0;l=b.length-1;var f=[];e=b[1];for(h=f[0]=B(b[0],e);++c<l;)f[c]=(h+(h=B(e,e=b[c+1])))/2;f[c]=h;for(var q=-1,y=b.length-1;++q<y;)c=B(b[q],b[q+1]),1E-6>Math.abs(c)?f[q]=f[q+1]=0:(l=f[q]/c,e=f[q+1]/c,h=l*l+e*e,9<h&&(h=3*c/Math.sqrt(h),f[q]=h*l,f[q+1]=h*e));for(q=-1;++q<=y;)h=(b[Math.min(y,q+1)][0]-b[Math.max(0,q-1)][0])/(6*(1+f[q]*f[q])),d.push([h||0,f[q]*h||0]);b=a+ad(b,d)}return b}});Md.forEach(function(b,a){a.key=b;a.closed=/-closed$/.test(b)});var Be=[0,2/3,1/
3,0],Ce=[0,1/3,2/3,0],jc=[0,1/6,2/3,1/6];q.geom.hull=function(b){function a(b){if(3>b.length)return[];var g=ha(d),l=ha(c),e=b.length,h,f=e-1,q=[],y=[],r,B,m=0,E,J,N,L;if(g===ma&&c===I)h=b;else{B=0;for(h=[];B<e;++B)h.push([+g.call(this,r=b[B],B),+l.call(this,r,B)])}for(B=1;B<e;++B)if(h[B][1]<h[m][1]||h[B][1]==h[m][1]&&h[B][0]<h[m][0])m=B;for(B=0;B<e;++B)B!==m&&(l=h[B][1]-h[m][1],g=h[B][0]-h[m][0],q.push({angle:Math.atan2(l,g),index:B}));q.sort(function(b,a){return b.angle-a.angle});L=q[0].angle;N=
q[0].index;J=0;for(B=1;B<f;++B){e=q[B].index;if(L==q[B].angle)if(g=h[N][0]-h[m][0],l=h[N][1]-h[m][1],r=h[e][0]-h[m][0],E=h[e][1]-h[m][1],g*g+l*l>=r*r+E*E){q[B].index=-1;continue}else q[J].index=-1;L=q[B].angle;J=B;N=e}y.push(m);for(e=B=0;2>B;++e)-1<q[e].index&&(y.push(q[e].index),B++);for(B=y.length;e<f;++e)if(!(0>q[e].index)){for(;!H(y[B-2],y[B-1],q[e].index,h);)--B;y[B++]=q[e].index}h=[];for(B-=1;0<=B;--B)h.push(b[y[B]]);return h}var d=ma,c=I;if(arguments.length)return a(b);a.x=function(b){return arguments.length?
(d=b,a):d};a.y=function(b){return arguments.length?(c=b,a):c};return a};q.geom.polygon=function(b){b.area=function(){for(var a=0,d=b.length,c=b[d-1][1]*b[0][0]-b[d-1][0]*b[0][1];++a<d;)c+=b[a-1][1]*b[a][0]-b[a-1][0]*b[a][1];return 0.5*c};b.centroid=function(a){var d=-1,c=b.length,l=0,e=0,h,f=b[c-1],q;for(arguments.length||(a=-1/(6*b.area()));++d<c;)h=f,f=b[d],q=h[0]*f[1]-f[0]*h[1],l+=(h[0]+f[0])*q,e+=(h[1]+f[1])*q;return[l*a,e*a]};b.clip=function(a){for(var d,c=-1,l=b.length,e,h,f=b[l-1],q,y,r;++c<
l;){d=a.slice();a.length=0;q=b[c];y=d[(h=d.length)-1];for(e=-1;++e<h;)r=d[e],N(r,f,q)?(N(y,f,q)||a.push(Q(y,r,f,q)),a.push(r)):N(y,f,q)&&a.push(Q(y,r,f,q)),y=r;f=q}return a};return b};q.geom.delaunay=function(b){var a=b.map(function(){return[]}),d=[];da(b,function(d){a[d.region.l.index].push(b[d.region.r.index])});a.forEach(function(a,g){var c=b[g],l=c[0],e=c[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-l,b[1]-e)});a.sort(function(b,a){return b.angle-a.angle});for(var h=0,f=a.length-1;h<f;h++)d.push([c,
a[h],a[h+1]])});return d};q.geom.voronoi=function(b){function a(b){var g,e=b.map(function(){return[]}),h=ha(d),f=ha(c),y,r,B=b.length;if(h===ma&&f===I)g=b;else{g=Array(B);for(r=0;r<B;++r)g[r]=[+h.call(this,y=b[r],r),+f.call(this,y,r)]}da(g,function(b){var a,d,g,c;1===b.a&&0<=b.b?(a=b.ep.r,d=b.ep.l):(a=b.ep.l,d=b.ep.r);1===b.a?(g=a?a.y:-1E6,a=b.c-b.b*g,c=d?d.y:1E6,d=b.c-b.b*c):(a=a?a.x:-1E6,g=b.c-b.a*a,d=d?d.x:1E6,c=b.c-b.a*d);a=[a,g];d=[d,c];e[b.region.l.index].push(a,d);e[b.region.r.index].push(a,
d)});e=e.map(function(b,a){var d=g[a][0],c=g[a][1],l=b.map(function(b){return Math.atan2(b[0]-d,b[1]-c)}),e=q.range(b.length).sort(function(b,a){return l[b]-l[a]});return e.filter(function(b,a){return!a||l[b]-l[e[a-1]]>ba}).map(function(a){return b[a]})});e.forEach(function(b,a){var d=b.length;if(!d)return b.push([-1E6,-1E6],[-1E6,1E6],[1E6,1E6],[1E6,-1E6]);if(!(2<d)){var c=g[a],l=b[0],e=b[1],d=c[0],c=c[1],s=l[0],l=l[1],t=e[0],h=e[1],f=Math.abs(t-s),e=h-l;Math.abs(e)<ba?(d=c<l?-1E6:1E6,b.push([-1E6,
d],[1E6,d])):f<ba?(d=d<s?-1E6:1E6,b.push([d,-1E6],[d,1E6])):(d=(t-s)*(l-c)<(s-d)*(h-l)?1E6:-1E6,c=Math.abs(e)-f,Math.abs(c)<ba?b.push([0>e?d:-d,d]):(0<c&&(d*=-1),b.push([-1E6,d],[1E6,d])))}});if(l)for(r=0;r<B;++r)l.clip(e[r]);for(r=0;r<B;++r)e[r].point=b[r];return e}var d=ma,c=I,l=null;if(arguments.length)return a(b);a.x=function(b){return arguments.length?(d=b,a):d};a.y=function(b){return arguments.length?(c=b,a):c};a.clipExtent=function(b){if(!arguments.length)return l&&[l[0],l[2]];if(null==b)l=
null;else{var d=+b[0][0],c=+b[0][1],e=+b[1][0],s=+b[1][1];l=q.geom.polygon([[d,c],[d,s],[e,s],[e,c]])}return a};a.size=function(b){return!arguments.length?l&&l[2]:a.clipExtent(b&&[[0,0],b])};a.links=function(b){var a,g=b.map(function(){return[]}),l=[],e=ha(d),h=ha(c),f,q,r=b.length;if(e===ma&&h===I)a=b;else{a=Array(r);for(q=0;q<r;++q)a[q]=[+e.call(this,f=b[q],q),+h.call(this,f,q)]}da(a,function(a){var d=a.region.l.index;a=a.region.r.index;g[d][a]||(g[d][a]=g[a][d]=!0,l.push({source:b[d],target:b[a]}))});
return l};a.triangles=function(b){if(d===ma&&c===I)return q.geom.delaunay(b);for(var a=Array(f),g=ha(d),l=ha(c),e,h=-1,f=b.length;++h<f;)(a[h]=[+g.call(this,e=b[h],h),+l.call(this,e,h)]).data=e;return q.geom.delaunay(a).map(function(b){return b.map(function(b){return b.data})})};return a};var Pd={l:"r",r:"l"};q.geom.quadtree=function(b,a,d,c,l){function e(b){function t(b,a,d,g,c,l,e,s){if(!isNaN(d)&&!isNaN(g))if(b.leaf){var h=b.x,f=b.y;if(null!=h){if(!(0.01>Math.abs(h-d)+Math.abs(f-g))){var q=b.point;
b.x=b.y=b.point=null;r(b,q,h,f,c,l,e,s)}r(b,a,d,g,c,l,e,s)}else b.x=d,b.y=g,b.point=a}else r(b,a,d,g,c,l,e,s)}function r(b,a,d,g,c,l,e,s){var h=0.5*(c+e),f=0.5*(l+s),q=d>=h,y=g>=f,B=(y<<1)+q;b.leaf=!1;b=b.nodes[B]||(b.nodes[B]=ya());q?c=h:e=h;y?l=f:s=f;t(b,a,d,g,c,l,e,s)}var y,B=ha(h),m=ha(f),H,E,J,N,L,Q,U,u;if(null!=a)L=a,Q=d,U=c,u=l;else if(U=u=-(L=Q=Infinity),H=[],E=[],N=b.length,q)for(J=0;J<N;++J)y=b[J],y.x<L&&(L=y.x),y.y<Q&&(Q=y.y),y.x>U&&(U=y.x),y.y>u&&(u=y.y),H.push(y.x),E.push(y.y);else for(J=
0;J<N;++J){var n=+B(y=b[J],J);y=+m(y,J);n<L&&(L=n);y<Q&&(Q=y);n>U&&(U=n);y>u&&(u=y);H.push(n);E.push(y)}n=U-L;y=u-Q;n>y?u=Q+n:U=L+y;var da=ya();da.add=function(b){t(da,b,+B(b,++J),+m(b,J),L,Q,U,u)};da.visit=function(b){Ec(b,da,L,Q,U,u)};J=-1;if(null==a){for(;++J<N;)t(da,b[J],H[J],E[J],L,Q,U,u);--J}else b.forEach(da.add);H=E=b=y=null;return da}var h=ma,f=I,q;if(q=arguments.length)return h=kc,f=lc,3===q&&(l=d,c=a,d=a=0),e(b);e.x=function(b){return arguments.length?(h=b,e):h};e.y=function(b){return arguments.length?
(f=b,e):f};e.extent=function(b){if(!arguments.length)return null==a?null:[[a,d],[c,l]];null==b?a=d=c=l=null:(a=+b[0][0],d=+b[0][1],c=+b[1][0],l=+b[1][1]);return e};e.size=function(b){if(!arguments.length)return null==a?null:[c-a,l-d];null==b?a=d=c=l=null:(a=d=0,c=+b[0],l=+b[1]);return e};return e};q.interpolateRgb=Qd;q.transform=function(b){var a=Wa.createElementNS(q.ns.prefix.svg,"g");return(q.transform=function(b){if(null!=b){a.setAttribute("transform",b);var d=a.transform.baseVal.consolidate()}return new De(d?
d.matrix:bh)})(b)};De.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bh={a:1,b:0,c:0,d:1,e:0,f:0};q.interpolateNumber=tb;q.interpolateTransform=bd;q.interpolateObject=Fe;q.interpolateString=Ge;var cd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;q.interpolate=Sb;q.interpolators=[function(b,a){var d=typeof a;return("string"===d?Kc.has(a)||/^(#|rgb\(|hsl\()/.test(a)?Qd:Ge:a instanceof ab?Qd:"object"===d?Array.isArray(a)?
He:Fe:tb)(b,a)}];q.interpolateArray=He;var If=function(){return Ha},ch=q.map({linear:If,poly:function(b){return function(a){return Math.pow(a,b)}},quad:function(){return Wf},cubic:function(){return Xf},sin:function(){return Yf},exp:function(){return Zf},circle:function(){return $f},elastic:function(b,a){var d;2>arguments.length&&(a=0.45);arguments.length?d=a/(2*W)*Math.asin(1/b):(b=1,d=a/4);return function(c){return 1+b*Math.pow(2,10*-c)*Math.sin(2*(c-d)*W/a)}},back:function(b){b||(b=1.70158);return function(a){return a*
a*((b+1)*a-b)}},bounce:function(){return ag}}),dh=q.map({"in":Ha,out:Ie,"in-out":Je,"out-in":function(b){return Je(Ie(b))}});q.ease=function(b){var a=b.indexOf("-"),d=0<=a?b.substring(0,a):b,a=0<=a?b.substring(a+1):"in",d=ch.get(d)||If,a=dh.get(a)||Ha;return Vf(a(d.apply(null,Array.prototype.slice.call(arguments,1))))};q.interpolateHcl=function(b,a){b=q.hcl(b);a=q.hcl(a);var d=b.h,c=b.c,l=b.l,e=a.h-d,h=a.c-c,f=a.l-l;isNaN(h)&&(h=0,c=isNaN(c)?a.c:c);isNaN(e)?(e=0,d=isNaN(d)?a.h:d):180<e?e-=360:-180>
e&&(e+=360);return function(b){return Aa(d+e*b,c+h*b,l+f*b)+""}};q.interpolateHsl=function(b,a){b=q.hsl(b);a=q.hsl(a);var d=b.h,c=b.s,l=b.l,e=a.h-d,h=a.s-c,f=a.l-l;isNaN(h)&&(h=0,c=isNaN(c)?a.s:c);isNaN(e)?(e=0,d=isNaN(d)?a.h:d):180<e?e-=360:-180>e&&(e+=360);return function(b){return na(d+e*b,c+h*b,l+f*b)+""}};q.interpolateLab=function(b,a){b=q.lab(b);a=q.lab(a);var d=b.l,c=b.a,l=b.b,e=a.l-d,h=a.a-c,f=a.b-l;return function(b){return Ic(d+e*b,c+h*b,l+f*b)+""}};q.interpolateRound=Ke;q.layout={};q.layout.bundle=
function(){return function(b){for(var a=[],d=-1,c=b.length;++d<c;)a.push(dg(b[d]));return a}};q.layout.chord=function(){function b(){var b={},d=[],s=q.range(h),m=[],H,E,J,N,L;c=[];l=[];H=0;for(N=-1;++N<h;){E=0;for(L=-1;++L<h;)E+=e[N][L];d.push(E);m.push(q.range(h));H+=E}y&&s.sort(function(b,a){return y(d[b],d[a])});r&&m.forEach(function(b,a){b.sort(function(b,d){return r(e[a][b],e[a][d])})});H=(2*W-f*h)/H;E=0;for(N=-1;++N<h;){J=E;for(L=-1;++L<h;){var Q=s[N],U=m[Q][L],u=e[Q][U],n=E,da=E+=u*H;b[Q+"-"+
U]={index:Q,subindex:U,startAngle:n,endAngle:da,value:u}}l[Q]={index:Q,startAngle:J,endAngle:E,value:(E-J)/H};E+=f}for(N=-1;++N<h;)for(L=N-1;++L<h;)if(s=b[N+"-"+L],m=b[L+"-"+N],s.value||m.value)c.push(s.value<m.value?{source:m,target:s}:{source:s,target:m});B&&a()}function a(){c.sort(function(b,a){return B((b.source.value+b.target.value)/2,(a.source.value+a.target.value)/2)})}var d={},c,l,e,h,f=0,y,r,B;d.matrix=function(b){if(!arguments.length)return e;h=(e=b)&&e.length;c=l=null;return d};d.padding=
function(b){if(!arguments.length)return f;f=b;c=l=null;return d};d.sortGroups=function(b){if(!arguments.length)return y;y=b;c=l=null;return d};d.sortSubgroups=function(b){if(!arguments.length)return r;r=b;c=null;return d};d.sortChords=function(b){if(!arguments.length)return B;B=b;c&&a();return d};d.chords=function(){c||b();return c};d.groups=function(){l||b();return l};return d};q.layout.force=function(){function b(b){return function(a,d,c,g){if(a.point!==b){c=a.cx-b.x;var l=a.cy-b.y,e=1/Math.sqrt(c*
c+l*l);if((g-d)*e<E)return d=a.charge*e*e,b.px-=c*d,b.py-=l*d,!0;a.point&&isFinite(e)&&(d=a.pointCharge*e*e,b.px-=c*d,b.py-=l*d)}return!a.charge}}function a(b){b.px=q.event.x;b.py=q.event.y;d.resume()}var d={},c=q.dispatch("start","tick","end"),l=[1,1],e,h,f=0.9,y=eh,r=fh,B=-30,m=0.1,E=0.8,H=[],J=[],N,L,Q;d.tick=function(){if(0.0050>(h*=0.99))return c.end({type:"end",alpha:h=0}),!0;var a=H.length,d=J.length,g,e,s,t,y,r,E;for(g=0;g<d;++g)if(e=J[g],s=e.source,t=e.target,r=t.x-s.x,E=t.y-s.y,y=r*r+E*
E)y=h*L[g]*((y=Math.sqrt(y))-N[g])/y,r*=y,E*=y,t.x-=r*(y=s.weight/(t.weight+s.weight)),t.y-=E*y,s.x+=r*(y=1-y),s.y+=E*y;if(y=h*m)if(r=l[0]/2,E=l[1]/2,g=-1,y)for(;++g<a;)e=H[g],e.x+=(r-e.x)*y,e.y+=(E-e.y)*y;if(B){Me(d=q.geom.quadtree(H),h,Q);for(g=-1;++g<a;)(e=H[g]).fixed||d.visit(b(e))}for(g=-1;++g<a;)e=H[g],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*f,e.y-=(e.py-(e.py=e.y))*f);c.tick({type:"tick",alpha:h})};d.nodes=function(b){if(!arguments.length)return H;H=b;return d};d.links=function(b){if(!arguments.length)return J;
J=b;return d};d.size=function(b){if(!arguments.length)return l;l=b;return d};d.linkDistance=function(b){if(!arguments.length)return y;y="function"===typeof b?b:+b;return d};d.distance=d.linkDistance;d.linkStrength=function(b){if(!arguments.length)return r;r="function"===typeof b?b:+b;return d};d.friction=function(b){if(!arguments.length)return f;f=+b;return d};d.charge=function(b){if(!arguments.length)return B;B="function"===typeof b?b:+b;return d};d.gravity=function(b){if(!arguments.length)return m;
m=+b;return d};d.theta=function(b){if(!arguments.length)return E;E=+b;return d};d.alpha=function(b){if(!arguments.length)return h;b=+b;h?h=0<b?b:0:0<b&&(c.start({type:"start",alpha:h=b}),q.timer(d.tick));return d};d.start=function(){function b(d,l){var h;if(!f){f=[];for(c=0;c<g;++c)f[c]=[];for(c=0;c<e;++c)h=J[c],f[h.source.index].push(h.target),f[h.target.index].push(h.source)}h=f[a];for(var s=-1,t=h.length,q;++s<t;)if(!isNaN(q=h[s][d]))return q;return Math.random()*l}var a,c,g=H.length,e=J.length,
h=l[0],t=l[1],f,q;for(a=0;a<g;++a)(q=H[a]).index=a,q.weight=0;for(a=0;a<e;++a)q=J[a],"number"==typeof q.source&&(q.source=H[q.source]),"number"==typeof q.target&&(q.target=H[q.target]),++q.source.weight,++q.target.weight;for(a=0;a<g;++a)q=H[a],isNaN(q.x)&&(q.x=b("x",h)),isNaN(q.y)&&(q.y=b("y",t)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);N=[];if("function"===typeof y)for(a=0;a<e;++a)N[a]=+y.call(this,J[a],a);else for(a=0;a<e;++a)N[a]=y;L=[];if("function"===typeof r)for(a=0;a<e;++a)L[a]=+r.call(this,
J[a],a);else for(a=0;a<e;++a)L[a]=r;Q=[];if("function"===typeof B)for(a=0;a<g;++a)Q[a]=+B.call(this,H[a],a);else for(a=0;a<g;++a)Q[a]=B;return d.resume()};d.resume=function(){return d.alpha(0.1)};d.stop=function(){return d.alpha(0)};d.drag=function(){e||(e=q.behavior.drag().origin(Ha).on("dragstart.force",eg).on("drag.force",a).on("dragend.force",fg));if(!arguments.length)return e;this.on("mouseover.force",gg).on("mouseout.force",hg).call(e)};return q.rebind(d,c,"on")};var eh=20,fh=1;q.layout.hierarchy=
function(){function b(a,g,h){var f=l.call(d,a,g);a.depth=g;h.push(a);if(f&&(y=f.length)){var q=-1,y,r=a.children=[],B=0;g+=1;for(var m;++q<y;)m=b(f[q],g,h),m.parent=a,r.push(m),B+=m.value;c&&r.sort(c);e&&(a.value=B)}else e&&(a.value=+e.call(d,a,g)||0);return a}function a(b,c){var l=b.children,h=0;if(l&&(q=l.length))for(var f=-1,q,y=c+1;++f<q;)h+=a(l[f],y);else e&&(h=+e.call(d,b,c)||0);e&&(b.value=h);return h}function d(a){var c=[];b(a,0,c);return c}var c=lg,l=jg,e=kg;d.sort=function(b){if(!arguments.length)return c;
c=b;return d};d.children=function(b){if(!arguments.length)return l;l=b;return d};d.value=function(b){if(!arguments.length)return e;e=b;return d};d.revalue=function(b){a(b,0);return b};return d};q.layout.partition=function(){function b(a,d,c,g){var l=a.children;a.x=d;a.y=a.depth*g;a.dx=c;a.dy=g;if(l&&(h=l.length)){var e=-1,h,s;for(c=a.value?c/a.value:0;++e<h;)b(s=l[e],d,a=s.value*c,g),d+=a}}function a(b){b=b.children;var d=0;if(b&&(l=b.length))for(var c=-1,l;++c<l;)d=Math.max(d,a(b[c]));return 1+d}
function d(e,h){var s=c.call(this,e,h);b(s[0],0,l[0],l[1]/a(s[0]));return s}var c=q.layout.hierarchy(),l=[1,1];d.size=function(b){if(!arguments.length)return l;l=b;return d};return Fc(d,c)};q.layout.pie=function(){function b(e){var h=e.map(function(d,c){return+a.call(b,d,c)}),f=+("function"===typeof c?c.apply(this,arguments):c),y=(("function"===typeof l?l.apply(this,arguments):l)-f)/q.sum(h),r=q.range(e.length);null!=d&&r.sort(d===Jf?function(b,a){return h[a]-h[b]}:function(b,a){return d(e[b],e[a])});
var B=[];r.forEach(function(b){var a;B[b]={data:e[b],value:a=h[b],startAngle:f,endAngle:f+=a*y}});return B}var a=Number,d=Jf,c=0,l=2*W;b.value=function(d){if(!arguments.length)return a;a=d;return b};b.sort=function(a){if(!arguments.length)return d;d=a;return b};b.startAngle=function(a){if(!arguments.length)return c;c=a;return b};b.endAngle=function(a){if(!arguments.length)return l;l=a;return b};return b};var Jf={};q.layout.stack=function(){function b(f,y){var r=f.map(function(d,c){return a.call(b,
d,c)}),B=r.map(function(a){return a.map(function(a,d){return[e.call(b,a,d),h.call(b,a,d)]})}),m=d.call(b,B,y),r=q.permute(r,m),B=q.permute(B,m),m=c.call(b,B,y),E=r.length,H=r[0].length,J,N,L;for(N=0;N<H;++N){l.call(b,r[0][N],L=m[N],B[0][N][1]);for(J=1;J<E;++J)l.call(b,r[J][N],L+=B[J-1][N][1],B[J][N][1])}return f}var a=Ha,d=Rd,c=Sd,l=og,e=mg,h=ng;b.values=function(d){if(!arguments.length)return a;a=d;return b};b.order=function(a){if(!arguments.length)return d;d="function"===typeof a?a:gh.get(a)||Rd;
return b};b.offset=function(a){if(!arguments.length)return c;c="function"===typeof a?a:hh.get(a)||Sd;return b};b.x=function(a){if(!arguments.length)return e;e=a;return b};b.y=function(a){if(!arguments.length)return h;h=a;return b};b.out=function(a){if(!arguments.length)return l;l=a;return b};return b};var gh=q.map({"inside-out":function(b){var a=b.length,d,c=b.map(pg),l=b.map(qg),e=q.range(a).sort(function(b,a){return c[b]-c[a]}),h=0,f=0,y=[],r=[];for(b=0;b<a;++b)d=e[b],h<f?(h+=l[d],y.push(d)):(f+=
l[d],r.push(d));return r.reverse().concat(y)},reverse:function(b){return q.range(b.length).reverse()},"default":Rd}),hh=q.map({silhouette:function(b){var a=b.length,d=b[0].length,c=[],l=0,e,h,f,q=[];for(h=0;h<d;++h){for(f=e=0;e<a;e++)f+=b[e][h][1];f>l&&(l=f);c.push(f)}for(h=0;h<d;++h)q[h]=(l-c[h])/2;return q},wiggle:function(b){var a=b.length,d=b[0],c=d.length,l,e,h,f,q,y,r,B,m,E=[];E[0]=B=m=0;for(e=1;e<c;++e){for(f=l=0;l<a;++l)f+=b[l][e][1];q=l=0;for(r=d[e][0]-d[e-1][0];l<a;++l){h=0;for(y=(b[l][e][1]-
b[l][e-1][1])/(2*r);h<l;++h)y+=(b[h][e][1]-b[h][e-1][1])/r;q+=y*b[l][e][1]}E[e]=B-=f?q/f*r:0;B<m&&(m=B)}for(e=0;e<c;++e)E[e]-=m;return E},expand:function(b){var a=b.length,d=b[0].length,c=1/a,l,e,h,f=[];for(e=0;e<d;++e){for(h=l=0;l<a;l++)h+=b[l][e][1];if(h)for(l=0;l<a;l++)b[l][e][1]/=h;else for(l=0;l<a;l++)b[l][e][1]=c}for(e=0;e<d;++e)f[e]=0;return f},zero:Sd});q.layout.histogram=function(){function b(b,e){var h=[],f=b.map(d,this),y=c.call(this,f,e),r=l.call(this,y,f,e),B;e=-1;for(var m=f.length,
E=r.length-1,H=a?1:1/m;++e<E;)B=h[e]=[],B.dx=r[e+1]-(B.x=r[e]),B.y=0;if(0<E)for(e=-1;++e<m;)B=f[e],B>=y[0]&&B<=y[1]&&(B=h[q.bisect(r,B,1,E)-1],B.y+=H,B.push(b[e]));return h}var a=!0,d=Number,c=tg,l=sg;b.value=function(a){if(!arguments.length)return d;d=a;return b};b.range=function(a){if(!arguments.length)return c;c=ha(a);return b};b.bins=function(a){if(!arguments.length)return l;l="number"===typeof a?function(b){return Ne(b,a)}:ha(a);return b};b.frequency=function(d){if(!arguments.length)return a;
a=!!d;return b};return b};q.layout.tree=function(){function b(b,e){function h(b,a){var c=b.children,g=b._tree;if(c&&(l=c.length)){for(var l,e=c[0],f,t=e,q,y=-1;++y<l;){q=c[y];h(q,f);var r=q;if(f){for(var B=r,m=r,E=r.parent.children[0],H=B._tree.mod,J=m._tree.mod,N=f._tree.mod,L=E._tree.mod,Q=void 0;f=Ud(f),B=Td(B),f&&B;){E=Td(E);m=Ud(m);m._tree.ancestor=r;Q=f._tree.prelim+N-B._tree.prelim-H+d(f,B);if(0<Q){var U=f._tree.ancestor.parent==r.parent?f._tree.ancestor:t,u=r,n=Q,U=U._tree,u=u._tree,da=n/
(u.number-U.number);U.change+=da;u.change-=da;u.shift+=n;u.prelim+=n;u.mod+=n;H+=Q;J+=Q}N+=f._tree.mod;H+=B._tree.mod;L+=E._tree.mod;J+=m._tree.mod}f&&!Ud(m)&&(m._tree.thread=f,m._tree.mod+=N-J);B&&!Td(E)&&(E._tree.thread=B,E._tree.mod+=H-L,t=r)}f=q}l=c=0;y=b.children;for(r=y.length;0<=--r;)t=y[r]._tree,t.prelim+=c,t.mod+=c,c+=t.shift+(l+=t.change);e=0.5*(e._tree.prelim+q._tree.prelim);a?(g.prelim=a._tree.prelim+d(b,a),g.mod=g.prelim-e):g.prelim=e}else a&&(g.prelim=a._tree.prelim+d(b,a))}function f(b,
a){b.x=b._tree.prelim+a;var d=b.children;if(d&&(g=d.length)){var c=-1,g;for(a+=b._tree.mod;++c<g;)f(d[c],a)}}var q=a.call(this,b,e),y=q[0];ub(y,function(b,a){b._tree={ancestor:b,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}});h(y);f(y,-y._tree.prelim);var r=dd(y,vg),B=dd(y,ug),m=dd(y,wg),E=r.x-d(r,B)/2,H=B.x+d(B,r)/2,J=m.depth||1;ub(y,l?function(b){b.x*=c[0];b.y=b.depth*c[1];delete b._tree}:function(b){b.x=(b.x-E)/(H-E)*c[0];b.y=b.depth/J*c[1];delete b._tree});return q}var a=q.layout.hierarchy().sort(null).value(null),
d=Oe,c=[1,1],l=!1;b.separation=function(a){if(!arguments.length)return d;d=a;return b};b.size=function(a){if(!arguments.length)return l?null:c;l=null==(c=a);return b};b.nodeSize=function(a){if(!arguments.length)return l?c:null;l=null!=(c=a);return b};return Fc(b,a)};q.layout.pack=function(){function b(b,e){var h=a.call(this,b,e),f=h[0],q=c[0],y=c[1],r=l||Math.sqrt;f.x=f.y=0;ub(f,function(b){b.r=r(b.value)});ub(f,Re);if(d){var B=d*(l?1:Math.max(2*f.r/q,2*f.r/y))/2;ub(f,function(b){b.r+=B});ub(f,Re);
ub(f,function(b){b.r-=B})}Te(f,q/2,y/2,l?1:1/Math.max(2*f.r/q,2*f.r/y));return h}var a=q.layout.hierarchy().sort(xg),d=0,c=[1,1],l;b.size=function(a){if(!arguments.length)return c;c=a;return b};b.radius=function(a){if(!arguments.length)return l;l=a;return b};b.padding=function(a){if(!arguments.length)return d;d=+a;return b};return Fc(b,a)};q.layout.cluster=function(){function b(b,e){var h=a.call(this,b,e),f=h[0],q,y=0;ub(f,function(b){var a=b.children;a&&a.length?(b.x=Bg(a),b.y=Ag(a)):(b.x=q?y+=d(b,
q):0,b.y=0,q=b)});var r=Ue(f),B=Ve(f),m=r.x-d(r,B)/2,E=B.x+d(B,r)/2;ub(f,l?function(b){b.x=(b.x-f.x)*c[0];b.y=(f.y-b.y)*c[1]}:function(b){b.x=(b.x-m)/(E-m)*c[0];b.y=(1-(f.y?b.y/f.y:1))*c[1]});return h}var a=q.layout.hierarchy().sort(null).value(null),d=Oe,c=[1,1],l=!1;b.separation=function(a){if(!arguments.length)return d;d=a;return b};b.size=function(a){if(!arguments.length)return l?null:c;l=null==(c=a);return b};b.nodeSize=function(a){if(!arguments.length)return l?c:null;l=null!=(c=a);return b};
return Fc(b,a)};q.layout.treemap=function(){function b(b,a){for(var d=-1,c=b.length,g,l;++d<c;)l=(g=b[d]).value*(0>a?0:a),g.area=isNaN(l)||0>=l?0:l}function a(d){var l=d.children;if(l&&l.length){var e=r(d),h=[],f=l.slice(),s=Infinity,t,q="slice"===E?e.dx:"dice"===E?e.dy:"slice-dice"===E?d.depth&1?e.dy:e.dx:Math.min(e.dx,e.dy);b(f,e.dx*e.dy/d.value);for(h.area=0;0<(d=f.length);){h.push(d=f[d-1]);h.area+=d.area;if(!(d="squarify"!==E)){t=q;d=h.area;for(var y=void 0,B=0,m=Infinity,J=-1,N=h.length;++J<
N;)if(y=h[J].area)y<m&&(m=y),y>B&&(B=y);d*=d;t*=t;d=(t=d?Math.max(t*B*H/d,d/(t*m*H)):Infinity)<=s}d?(f.pop(),s=t):(h.area-=h.pop().area,c(h,q,e,!1),q=Math.min(e.dx,e.dy),h.length=h.area=0,s=Infinity)}h.length&&(c(h,q,e,!0),h.length=h.area=0);l.forEach(a)}}function d(a){var g=a.children;if(g&&g.length){var l=r(a),e=g.slice(),h=[];b(e,l.dx*l.dy/a.value);for(h.area=0;a=e.pop();)h.push(a),h.area+=a.area,null!=a.z&&(c(h,a.z?l.dx:l.dy,l,!e.length),h.length=h.area=0);g.forEach(d)}}function c(b,a,d,g){var l=
-1,e=b.length,f=d.x,s=d.y,t=a?h(b.area/a):0,q;if(a==d.dx){if(g||t>d.dy)t=d.dy;for(;++l<e;)q=b[l],q.x=f,q.y=s,q.dy=t,f+=q.dx=Math.min(d.x+d.dx-f,t?h(q.area/t):0);q.z=!0;q.dx+=d.x+d.dx-f;d.y+=t;d.dy-=t}else{if(g||t>d.dx)t=d.dx;for(;++l<e;)q=b[l],q.x=f,q.y=s,q.dx=t,s+=q.dy=Math.min(d.y+d.dy-s,t?h(q.area/t):0);q.z=!1;q.dy+=d.y+d.dy-s;d.x+=t;d.dx-=t}}function l(c){c=m||e(c);var h=c[0];h.x=0;h.y=0;h.dx=f[0];h.dy=f[1];m&&e.revalue(h);b([h],h.dx*h.dy/h.value);(m?d:a)(h);B&&(m=c);return c}var e=q.layout.hierarchy(),
h=Math.round,f=[1,1],y=null,r=Wd,B=!1,m,E="squarify",H=0.5*(1+Math.sqrt(5));l.size=function(b){if(!arguments.length)return f;f=b;return l};l.padding=function(b){function a(d){var c=b.call(l,d,d.depth);return null==c?Wd(d):We(d,"number"===typeof c?[c,c,c,c]:c)}function d(a){return We(a,b)}if(!arguments.length)return y;var c;r=null==(y=b)?Wd:"function"===(c=typeof b)?a:"number"===c?(b=[b,b,b,b],d):d;return l};l.round=function(b){if(!arguments.length)return h!=Number;h=b?Math.round:Number;return l};
l.sticky=function(b){if(!arguments.length)return B;B=b;m=null;return l};l.ratio=function(b){if(!arguments.length)return H;H=b;return l};l.mode=function(b){if(!arguments.length)return E;E=b+"";return l};return Fc(l,e)};q.random={normal:function(b,a){var d=arguments.length;2>d&&(a=1);1>d&&(b=0);return function(){var d,c;do d=2*Math.random()-1,c=2*Math.random()-1,c=d*d+c*c;while(!c||1<c);return b+a*d*Math.sqrt(-2*Math.log(c)/c)}},logNormal:function(){var b=q.random.normal.apply(q,arguments);return function(){return Math.exp(b())}},
irwinHall:function(b){return function(){for(var a=0,d=0;d<b;d++)a+=Math.random();return a/b}}};q.scale={};var Dg={floor:Ha,ceil:Ha};q.scale.linear=function(){return Ye([0,1],[0,1],Sb,!1)};q.scale.log=function(){return af(q.scale.linear().domain([0,Math.LN10]),10,$d,bf,[1,10])};var cf=q.format(".0e");q.scale.pow=function(){return df(q.scale.linear(),1,[0,1])};q.scale.sqrt=function(){return q.scale.pow().exponent(0.5)};q.scale.ordinal=function(){return ef([],{t:"range",a:[[]]})};q.scale.category10=
function(){return q.scale.ordinal().range(ih)};q.scale.category20=function(){return q.scale.ordinal().range(jh)};q.scale.category20b=function(){return q.scale.ordinal().range(kh)};q.scale.category20c=function(){return q.scale.ordinal().range(lh)};var ih="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),jh="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),
kh="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),lh="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");q.scale.quantile=function(){return ff([],[])};q.scale.quantize=function(){return gf(0,1,[0,1])};q.scale.threshold=function(){return hf([0.5],[0,1])};
q.scale.identity=function(){return jf([0,1])};q.svg.arc=function(){function b(){var b=a.apply(this,arguments),e=d.apply(this,arguments),h=c.apply(this,arguments)+Ub,f=l.apply(this,arguments)+Ub,q=(f<h&&(q=h,h=f,f=q),f-h),y=q<W?"0":"1",r=Math.cos(h),h=Math.sin(h),B=Math.cos(f),f=Math.sin(f);return q>=mh?b?"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"M0,"+b+"A"+b+","+b+" 0 1,0 0,"+-b+"A"+b+","+b+" 0 1,0 0,"+b+"Z":"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z":b?"M"+
e*r+","+e*h+"A"+e+","+e+" 0 "+y+",1 "+e*B+","+e*f+"L"+b*B+","+b*f+"A"+b+","+b+" 0 "+y+",0 "+b*r+","+b*h+"Z":"M"+e*r+","+e*h+"A"+e+","+e+" 0 "+y+",1 "+e*B+","+e*f+"L0,0Z"}var a=Gg,d=Hg,c=kf,l=lf;b.innerRadius=function(d){if(!arguments.length)return a;a=ha(d);return b};b.outerRadius=function(a){if(!arguments.length)return d;d=ha(a);return b};b.startAngle=function(a){if(!arguments.length)return c;c=ha(a);return b};b.endAngle=function(a){if(!arguments.length)return l;l=ha(a);return b};b.centroid=function(){var b=
(a.apply(this,arguments)+d.apply(this,arguments))/2,e=(c.apply(this,arguments)+l.apply(this,arguments))/2+Ub;return[Math.cos(e)*b,Math.sin(e)*b]};return b};var Ub=-W/2,mh=2*W-1E-6;q.svg.line.radial=function(){var b=P(mf);b.radius=b.x;delete b.x;b.angle=b.y;delete b.y;return b};O.reverse=Nd;Nd.reverse=O;q.svg.area=function(){return nf(Ha)};q.svg.area.radial=function(){var b=nf(mf);b.radius=b.x;delete b.x;b.innerRadius=b.x0;delete b.x0;b.outerRadius=b.x1;delete b.x1;b.angle=b.y;delete b.y;b.startAngle=
b.y0;delete b.y0;b.endAngle=b.y1;delete b.y1;return b};q.svg.chord=function(){function b(b,l){var e=a(this,d,b,l),h=a(this,c,b,l);return"M"+e.p0+("A"+e.r+","+e.r+" 0 "+ +(e.a1-e.a0>W)+",1 "+e.p1)+(e.a0==h.a0&&e.a1==h.a1?"Q 0,0 "+e.p0:"Q 0,0 "+h.p0+("A"+h.r+","+h.r+" 0 "+ +(h.a1-h.a0>W)+",1 "+h.p1)+("Q 0,0 "+e.p0))+"Z"}function a(b,d,c,g){var f=d.call(b,c,g);d=l.call(b,f,g);c=e.call(b,f,g)+Ub;b=h.call(b,f,g)+Ub;return{r:d,a0:c,a1:b,p0:[d*Math.cos(c),d*Math.sin(c)],p1:[d*Math.cos(b),d*Math.sin(b)]}}
var d=J,c=L,l=Ig,e=kf,h=lf;b.radius=function(a){if(!arguments.length)return l;l=ha(a);return b};b.source=function(a){if(!arguments.length)return d;d=ha(a);return b};b.target=function(a){if(!arguments.length)return c;c=ha(a);return b};b.startAngle=function(a){if(!arguments.length)return e;e=ha(a);return b};b.endAngle=function(a){if(!arguments.length)return h;h=ha(a);return b};return b};q.svg.diagonal=function(){function b(b,l){var e=a.call(this,b,l),h=d.call(this,b,l),f=(e.y+h.y)/2,e=[e,{x:e.x,y:f},
{x:h.x,y:f},h],e=e.map(c);return"M"+e[0]+"C"+e[1]+" "+e[2]+" "+e[3]}var a=J,d=L,c=of;b.source=function(d){if(!arguments.length)return a;a=ha(d);return b};b.target=function(a){if(!arguments.length)return d;d=ha(a);return b};b.projection=function(a){if(!arguments.length)return c;c=a;return b};return b};q.svg.diagonal.radial=function(){var b=q.svg.diagonal(),a=of,d=b.projection;b.projection=function(b){return arguments.length?d(Jg(a=b)):a};return b};q.svg.symbol=function(){function b(b,c){return(Kf.get(a.call(this,
b,c))||pf)(d.call(this,b,c))}var a=Lg,d=Kg;b.type=function(d){if(!arguments.length)return a;a=ha(d);return b};b.size=function(a){if(!arguments.length)return d;d=ha(a);return b};return b};var Kf=q.map({circle:pf,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*Lf));var a=b*Lf;return"M0,"+-b+"L"+a+",0 0,"+b+" "+-a+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+
","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/Ad);var a=b*Ad/2;return"M0,"+a+"L"+b+","+-a+" "+-b+","+-a+"Z"},"triangle-up":function(b){b=Math.sqrt(b/Ad);var a=b*Ad/2;return"M0,"+-a+"L"+b+","+a+" "+-b+","+a+"Z"}});q.svg.symbolTypes=Kf.keys();var Ad=Math.sqrt(3),Lf=Math.tan(30*aa),Ca=[],zf=0,Hc,od={ease:function(b){if(0>=b)return 0;if(1<=b)return 1;var a=b*b,d=a*b;return 4*(0.5>b?d:3*(b-a)+d-0.75)},delay:0,duration:250};Ca.call=ja.call;Ca.empty=ja.empty;
Ca.node=ja.node;Ca.size=ja.size;q.transition=function(b){return arguments.length?Hc?b.transition():b:yf.transition()};q.transition.prototype=Ca;Ca.select=function(b){var a=this.id,d=[],c,l,e;"function"!==typeof b&&(b=R(b));for(var h=-1,f=this.length;++h<f;){d.push(c=[]);for(var q=this[h],y=-1,r=q.length;++y<r;)(e=q[y])&&(l=b.call(e,e.__data__,y))?("__data__"in e&&(l.__data__=e.__data__),hd(l,y,a,e.__transition__[a]),c.push(l)):c.push(null)}return Gc(d,a)};Ca.selectAll=function(b){var a=this.id,d=
[],c,l,e,h;"function"!==typeof b&&(b=K(b));for(var f=-1,q=this.length;++f<q;)for(var y=this[f],r=-1,B=y.length;++r<B;)if(c=y[r]){h=c.__transition__[a];l=b.call(c,c.__data__,r);d.push(c=[]);for(var m=-1,E=l.length;++m<E;)(e=l[m])&&hd(e,m,a,h),c.push(e)}return Gc(d,a)};Ca.filter=function(b){var a=[],d,c,l;"function"!==typeof b&&(b=Qa(b));for(var e=0,h=this.length;e<h;e++){a.push(d=[]);c=this[e];for(var f=0,q=c.length;f<q;f++)(l=c[f])&&b.call(l,l.__data__,f)&&d.push(l)}return Gc(a,this.id,this.time).ease(this.ease())};
Ca.tween=function(b,a){var d=this.id;return 2>arguments.length?this.node().__transition__[d].tween.get(b):$(this,null==a?function(a){a.__transition__[d].tween.remove(b)}:function(c){c.__transition__[d].tween.set(b,a)})};Ca.attr=function(b,a){function d(){this.removeAttribute(f)}function c(){this.removeAttributeNS(f.space,f.local)}function l(b){return null==b?d:(b+="",function(){var a=this.getAttribute(f),d;return a!==b&&(d=h(a,b),function(b){this.setAttribute(f,d(b))})})}function e(b){return null==
b?c:(b+="",function(){var a=this.getAttributeNS(f.space,f.local),d;return a!==b&&(d=h(a,b),function(b){this.setAttributeNS(f.space,f.local,d(b))})})}if(2>arguments.length){for(a in b)this.attr(a,b[a]);return this}var h="transform"==b?bd:Sb,f=q.ns.qualify(b);return ae(this,"attr."+b,a,f.local?e:l)};Ca.attrTween=function(b,a){function d(b,c){var e=a.call(this,b,c,this.getAttribute(l));return e&&function(b){this.setAttribute(l,e(b))}}function c(b,d){var e=a.call(this,b,d,this.getAttributeNS(l.space,
l.local));return e&&function(b){this.setAttributeNS(l.space,l.local,e(b))}}var l=q.ns.qualify(b);return this.tween("attr."+b,l.local?c:d)};Ca.style=function(b,a,d){function c(){this.style.removeProperty(b)}var l=arguments.length;if(3>l){if("string"!==typeof b){2>l&&(a="");for(d in b)this.style(d,b[d],a);return this}d=""}var e="transform"==b?bd:Sb;return ae(this,"style."+b,a,function(a){return null==a?c:(a+="",function(){var c=Ta.getComputedStyle(this,null).getPropertyValue(b),g;return c!==a&&(g=e(c,
a),function(a){this.style.setProperty(b,g(a),d)})})})};Ca.styleTween=function(b,a,d){3>arguments.length&&(d="");return this.tween("style."+b,function(c,l){var e=a.call(this,c,l,Ta.getComputedStyle(this,null).getPropertyValue(b));return e&&function(a){this.style.setProperty(b,e(a),d)}})};Ca.text=function(b){return ae(this,"text",b,Mg)};Ca.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})};Ca.ease=function(b){var a=
this.id;if(1>arguments.length)return this.node().__transition__[a].ease;"function"!==typeof b&&(b=q.ease.apply(q,arguments));return $(this,function(d){d.__transition__[a].ease=b})};Ca.delay=function(b){var a=this.id;return $(this,"function"===typeof b?function(d,c,l){d.__transition__[a].delay=b.call(d,d.__data__,c,l)|0}:(b|=0,function(d){d.__transition__[a].delay=b}))};Ca.duration=function(b){var a=this.id;return $(this,"function"===typeof b?function(d,c,l){d.__transition__[a].duration=Math.max(1,
b.call(d,d.__data__,c,l)|0)}:(b=Math.max(1,b|0),function(d){d.__transition__[a].duration=b}))};Ca.each=function(b,a){var d=this.id;if(2>arguments.length){var c=od,l=Hc;Hc=d;$(this,function(a,c,g){od=a.__transition__[d];b.call(a,a.__data__,c,g)});od=c;Hc=l}else $(this,function(c){c.__transition__[d].event.on(b,a)});return this};Ca.transition=function(){for(var b=this.id,a=++zf,d=[],c,l,e,h,f=0,q=this.length;f<q;f++){d.push(c=[]);l=this[f];for(var y=0,r=l.length;y<r;y++){if(e=l[y])h=Object.create(e.__transition__[b]),
h.delay+=h.duration,hd(e,y,a,h);c.push(e)}}return Gc(d,a)};q.svg.axis=function(){function b(b){b.each(function(){var b=q.select(this),m=null==y?a.ticks?a.ticks.apply(a,f):a.domain():y,E=null==r?a.tickFormat?a.tickFormat.apply(a,f):String:r,H=Ng(a,m,B),J=b.selectAll(".tick.minor").data(H,String),H=J.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1E-6),N=q.transition(J.exit()).style("opacity",1E-6).remove(),J=q.transition(J).style("opacity",1),L=b.selectAll(".tick.major").data(m,
String),m=L.enter().insert("g",".domain").attr("class","tick major").style("opacity",1E-6),Q=q.transition(L.exit()).style("opacity",1E-6).remove(),u=q.transition(L).style("opacity",1),U,n=ed(a),b=b.selectAll(".domain").data([0]),b=(b.enter().append("path").attr("class","domain"),q.transition(b)),da=a.copy(),I=this.__chart__||da;this.__chart__=da;m.append("line");m.append("text");var v=m.select("line"),wa=u.select("line"),E=L.select("text").text(E),L=m.select("text"),ka=u.select("text");switch(d){case "bottom":U=
qf;H.attr("y2",l);J.attr("x2",0).attr("y2",l);v.attr("y2",c);L.attr("y",Math.max(c,0)+h);wa.attr("x2",0).attr("y2",c);ka.attr("x",0).attr("y",Math.max(c,0)+h);E.attr("dy",".71em").style("text-anchor","middle");b.attr("d","M"+n[0]+","+e+"V0H"+n[1]+"V"+e);break;case "top":U=qf;H.attr("y2",-l);J.attr("x2",0).attr("y2",-l);v.attr("y2",-c);L.attr("y",-(Math.max(c,0)+h));wa.attr("x2",0).attr("y2",-c);ka.attr("x",0).attr("y",-(Math.max(c,0)+h));E.attr("dy","0em").style("text-anchor","middle");b.attr("d",
"M"+n[0]+","+-e+"V0H"+n[1]+"V"+-e);break;case "left":U=rf;H.attr("x2",-l);J.attr("x2",-l).attr("y2",0);v.attr("x2",-c);L.attr("x",-(Math.max(c,0)+h));wa.attr("x2",-c).attr("y2",0);ka.attr("x",-(Math.max(c,0)+h)).attr("y",0);E.attr("dy",".32em").style("text-anchor","end");b.attr("d","M"+-e+","+n[0]+"H0V"+n[1]+"H"+-e);break;case "right":U=rf,H.attr("x2",l),J.attr("x2",l).attr("y2",0),v.attr("x2",c),L.attr("x",Math.max(c,0)+h),wa.attr("x2",c).attr("y2",0),ka.attr("x",Math.max(c,0)+h).attr("y",0),E.attr("dy",
".32em").style("text-anchor","start"),b.attr("d","M"+e+","+n[0]+"H0V"+n[1]+"H"+e)}if(a.ticks)m.call(U,I),u.call(U,da),Q.call(U,da),H.call(U,I),J.call(U,da),N.call(U,da);else{var A=da.rangeBand()/2,H=function(b){return da(b)+A};m.call(U,H);u.call(U,H)}})}var a=q.scale.linear(),d=Mf,c=6,l=6,e=6,h=3,f=[10],y=null,r,B=0;b.scale=function(d){if(!arguments.length)return a;a=d;return b};b.orient=function(a){if(!arguments.length)return d;d=a in nh?a+"":Mf;return b};b.ticks=function(){if(!arguments.length)return f;
f=arguments;return b};b.tickValues=function(a){if(!arguments.length)return y;y=a;return b};b.tickFormat=function(a){if(!arguments.length)return r;r=a;return b};b.tickSize=function(a,d){if(!arguments.length)return c;var g=arguments.length-1;c=+a;l=1<g?+d:c;e=0<g?+arguments[g]:c;return b};b.tickPadding=function(a){if(!arguments.length)return h;h=+a;return b};b.tickSubdivide=function(a){if(!arguments.length)return B;B=+a;return b};return b};var Mf="bottom",nh={top:1,right:1,bottom:1,left:1};q.svg.brush=
function(){function b(e){e.each(function(){var e=q.select(this),r=e.selectAll(".background").data([0]),t=e.selectAll(".extent").data([0]),B=e.selectAll(".resize").data(y,String);e.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l);r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.enter().append("rect").attr("class","extent").style("cursor","move");B.enter().append("g").attr("class",function(b){return"resize "+
b}).style("cursor",function(b){return oh[b]}).append("rect").attr("x",function(b){return/[ew]$/.test(b)?-3:null}).attr("y",function(b){return/^[ns]/.test(b)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");B.style("display",b.empty()?"none":null);B.exit().remove();h&&(t=ed(h),r.attr("x",t[0]).attr("width",t[1]-t[0]),d(e));f&&(t=ed(f),r.attr("y",t[0]).attr("height",t[1]-t[0]),c(e));a(e)})}function a(b){b.selectAll(".resize").attr("transform",function(b){return"translate("+r[+/e$/.test(b)][0]+
","+r[+/^s/.test(b)][1]+")"})}function d(b){b.select(".extent").attr("x",r[0][0]);b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function c(b){b.select(".extent").attr("y",r[0][1]);b.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function l(){function y(){var b=q.event.changedTouches;return b?q.touches(N,b)[0]:q.mouse(N)}function E(){var b=y(),l=!1;A&&(b[0]+=A[0],b[1]+=A[1]);I||(q.event.altKey?(wa||(wa=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),ka[0]=r[+(b[0]<
wa[0])][0],ka[1]=r[+(b[1]<wa[1])][1]):wa=null);n&&H(b,h,0)&&(d(U),l=!0);da&&H(b,f,1)&&(c(U),l=!0);l&&(a(U),Q({type:"brush",mode:I?"move":"resize"}))}function H(b,a,d){var c=ed(a);a=c[0];var g=c[1],c=ka[d],l=r[1][d]-r[0][d];I&&(a-=c,g-=l+c);b=B[d]?Math.max(a,Math.min(g,b[d])):b[d];I?a=(b+=c)+l:(wa&&(c=Math.max(a,Math.min(g,2*wa[d]-b))),c<b?(a=b,b=c):a=c);if(r[0][d]!==b||r[1][d]!==a)return m=null,r[0][d]=b,r[1][d]=a,!0}function J(){E();U.style("pointer-events","all").selectAll(".resize").style("display",
b.empty()?"none":null);q.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);v();Q({type:"brushend"})}var N=this,L=q.select(q.event.target),Q=e.of(N,arguments),U=q.select(N),u=L.datum(),n=!/^(n|s)$/.test(u)&&h,da=!/^(e|w)$/.test(u)&&f,I=L.classed("extent"),v=pa("brush"),wa,ka=y(),A,w=q.select(Ta).on("keydown.brush",function(){32==q.event.keyCode&&(I||(wa=null,
ka[0]-=r[1][0],ka[1]-=r[1][1],I=2),x())}).on("keyup.brush",function(){32==q.event.keyCode&&2==I&&(ka[0]+=r[1][0],ka[1]+=r[1][1],I=0,x())});if(q.event.changedTouches)w.on("touchmove.brush",E).on("touchend.brush",J);else w.on("mousemove.brush",E).on("mouseup.brush",J);if(I)ka[0]=r[0][0]-ka[0],ka[1]=r[0][1]-ka[1];else if(u){var Ja=+/w$/.test(u),u=+/^n/.test(u);A=[r[1-Ja][0]-ka[0],r[1-u][1]-ka[1]];ka[0]=r[Ja][0];ka[1]=r[u][1]}else q.event.altKey&&(wa=ka.slice());U.style("pointer-events","none").selectAll(".resize").style("display",
null);q.select("body").style("cursor",L.style("cursor"));Q({type:"brushstart"});E()}var e=w(b,"brushstart","brush","brushend"),h=null,f=null,y=le[0],r=[[0,0],[0,0]],B=[!0,!0],m;b.x=function(a){if(!arguments.length)return h;h=a;y=le[!h<<1|!f];return b};b.y=function(a){if(!arguments.length)return f;f=a;y=le[!h<<1|!f];return b};b.clamp=function(a){if(!arguments.length)return h&&f?B:h||f?B[+!h]:null;if(h&&f)B=[!!a[0],!!a[1]];else if(h||f)B[+!h]=!!a;return b};b.extent=function(a){var d,c,g,l,e;if(!arguments.length)return a=
m||r,h&&(d=a[0][0],c=a[1][0],m||(d=r[0][0],c=r[1][0],h.invert&&(d=h.invert(d),c=h.invert(c)),c<d&&(e=d,d=c,c=e))),f&&(g=a[0][1],l=a[1][1],m||(g=r[0][1],l=r[1][1],f.invert&&(g=f.invert(g),l=f.invert(l)),l<g&&(e=g,g=l,l=e))),h&&f?[[d,g],[c,l]]:h?[d,c]:f&&[g,l];m=[[0,0],[0,0]];h&&(d=a[0],c=a[1],f&&(d=d[0],c=c[0]),m[0][0]=d,m[1][0]=c,h.invert&&(d=h(d),c=h(c)),c<d&&(e=d,d=c,c=e),r[0][0]=d|0,r[1][0]=c|0);f&&(g=a[0],l=a[1],h&&(g=g[1],l=l[1]),m[0][1]=g,m[1][1]=l,f.invert&&(g=f(g),l=f(l)),l<g&&(e=g,g=l,l=
e),r[0][1]=g|0,r[1][1]=l|0);return b};b.clear=function(){m=null;r[0][0]=r[0][1]=r[1][0]=r[1][1]=0;return b};b.empty=function(){return h&&r[0][0]===r[1][0]||f&&r[0][1]===r[1][1]};return q.rebind(b,e,"on")};var oh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},le=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];q.time={};var Oa=Date;Vb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},
getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vb.setUTCDate.apply(this._,arguments)},
setDay:function(){vb.setUTCDay.apply(this._,arguments)},setFullYear:function(){vb.setUTCFullYear.apply(this._,arguments)},setHours:function(){vb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vb.setUTCSeconds.apply(this._,arguments)},setTime:function(){vb.setTime.apply(this._,arguments)}};var vb=
Date.prototype,me="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ne="Sun Mon Tue Wed Thu Fri Sat".split(" "),oe="January February March April May June July August September October November December".split(" "),pe="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");q.time.year=Wb(function(b){b=q.time.day(b);b.setMonth(0,1);return b},function(b,a){b.setFullYear(b.getFullYear()+a)},function(b){return b.getFullYear()});q.time.years=q.time.year.range;q.time.years.utc=q.time.year.utc.range;
q.time.day=Wb(function(b){var a=new Oa(2E3,0);a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());return a},function(b,a){b.setDate(b.getDate()+a)},function(b){return b.getDate()-1});q.time.days=q.time.day.range;q.time.days.utc=q.time.day.utc.range;q.time.dayOfYear=function(b){var a=q.time.year(b);return Math.floor((b-a-6E4*(b.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(b,a){b=b.toLowerCase();a=7-a;
var d=q.time[b]=Wb(function(b){(b=q.time.day(b)).setDate(b.getDate()-(b.getDay()+a)%7);return b},function(b,a){b.setDate(b.getDate()+7*Math.floor(a))},function(b){var d=q.time.year(b).getDay();return Math.floor((q.time.dayOfYear(b)+(d+a)%7)/7)-(d!==a)});q.time[b+"s"]=d.range;q.time[b+"s"].utc=d.utc.range;q.time[b+"OfYear"]=function(b){var d=q.time.year(b).getDay();return Math.floor((q.time.dayOfYear(b)+(d+a)%7)/7)}});q.time.week=q.time.sunday;q.time.weeks=q.time.sunday.range;q.time.weeks.utc=q.time.sunday.utc.range;
q.time.weekOfYear=q.time.sundayOfYear;q.time.format=function(b){function a(c){for(var l=[],g=-1,e=0,h,f;++g<d;)if(37===b.charCodeAt(g)){l.push(b.substring(e,g));if(null!=(h=ph[e=b.charAt(++g)]))e=b.charAt(++g);if(f=Bd[e])e=f(c,null==h?"e"===e?" ":"0":h);l.push(e);e=g+1}l.push(b.substring(e,g));return l.join("")}var d=b.length;a.parse=function(a){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(kd(d,b,a,0)!=a.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);a=new Oa;"j"in d?a.setFullYear(d.y,0,d.j):"w"in d&&
("W"in d||"U"in d)?(a.setFullYear(d.y,0,1),a.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(a.getDay()+5)%7:d.w+7*d.U-(a.getDay()+6)%7)):a.setFullYear(d.y,d.m,d.d);a.setHours(d.H,d.M,d.S,d.L);return a};a.toString=function(){return b};return a};var Nf=ld(me),qh=md(me),Of=ld(ne),rh=md(ne),Pf=ld(oe),sh=md(oe),Qf=ld(pe),th=md(pe),Rf=/^%/,ph={"-":"",_:" ",0:"0"},Bd={a:function(b){return ne[b.getDay()]},A:function(b){return me[b.getDay()]},b:function(b){return pe[b.getMonth()]},B:function(b){return oe[b.getMonth()]},
c:q.time.format("%a %b %e %X %Y"),d:function(b,a){return Ra(b.getDate(),a,2)},e:function(b,a){return Ra(b.getDate(),a,2)},H:function(b,a){return Ra(b.getHours(),a,2)},I:function(b,a){return Ra(b.getHours()%12||12,a,2)},j:function(b,a){return Ra(1+q.time.dayOfYear(b),a,3)},L:function(b,a){return Ra(b.getMilliseconds(),a,3)},m:function(b,a){return Ra(b.getMonth()+1,a,2)},M:function(b,a){return Ra(b.getMinutes(),a,2)},p:function(b){return 12<=b.getHours()?"PM":"AM"},S:function(b,a){return Ra(b.getSeconds(),
a,2)},U:function(b,a){return Ra(q.time.sundayOfYear(b),a,2)},w:function(b){return b.getDay()},W:function(b,a){return Ra(q.time.mondayOfYear(b),a,2)},x:q.time.format("%m/%d/%Y"),X:q.time.format("%H:%M:%S"),y:function(b,a){return Ra(b.getFullYear()%100,a,2)},Y:function(b,a){return Ra(b.getFullYear()%1E4,a,4)},Z:function(b){var a=b.getTimezoneOffset();b=0<a?"-":"+";var d=~~(Math.abs(a)/60),a=Math.abs(a)%60;return b+Ra(d,"0",2)+Ra(a,"0",2)},"%":function(){return"%"}},Og={a:function(b,a,d){Of.lastIndex=
0;return(a=Of.exec(a.substring(d)))?(b.w=rh.get(a[0].toLowerCase()),d+a[0].length):-1},A:function(b,a,d){Nf.lastIndex=0;return(a=Nf.exec(a.substring(d)))?(b.w=qh.get(a[0].toLowerCase()),d+a[0].length):-1},b:function(b,a,d){Qf.lastIndex=0;return(a=Qf.exec(a.substring(d)))?(b.m=th.get(a[0].toLowerCase()),d+a[0].length):-1},B:function(b,a,d){Pf.lastIndex=0;return(a=Pf.exec(a.substring(d)))?(b.m=sh.get(a[0].toLowerCase()),d+a[0].length):-1},c:function(b,a,d){return kd(b,Bd.c.toString(),a,d)},d:sf,e:sf,
H:tf,I:tf,j:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+3)))?(b.j=+a[0],d+a[0].length):-1},L:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+3)))?(b.L=+a[0],d+a[0].length):-1},m:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+2)))?(b.m=a[0]-1,d+a[0].length):-1},M:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+2)))?(b.M=+a[0],d+a[0].length):-1},p:function(b,a,d){a=uh.get(a.substring(d,d+=2).toLowerCase());return null==a?-1:(b.p=a,
d)},S:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+2)))?(b.S=+a[0],d+a[0].length):-1},U:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d)))?(b.U=+a[0],d+a[0].length):-1},w:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+1)))?(b.w=+a[0],d+a[0].length):-1},W:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d)))?(b.W=+a[0],d+a[0].length):-1},x:function(b,a,d){return kd(b,Bd.x.toString(),a,d)},X:function(b,a,d){return kd(b,Bd.X.toString(),a,d)},
y:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+2)))?(b.y=+a[0]+(68<+a[0]?1900:2E3),d+a[0].length):-1},Y:function(b,a,d){xa.lastIndex=0;return(a=xa.exec(a.substring(d,d+4)))?(b.y=+a[0],d+a[0].length):-1},"%":function(b,a,d){Rf.lastIndex=0;return(b=Rf.exec(a.substring(d,d+1)))?d+b[0].length:-1}},xa=/^\s*\d+/,uh=q.map({am:0,pm:1});q.time.format.utc=function(b){function a(b){try{Oa=Vb;var c=new Oa;c._=b;return d(c)}finally{Oa=Date}}var d=q.time.format(b);a.parse=function(b){try{Oa=
Vb;var a=d.parse(b);return a&&a._}finally{Oa=Date}};a.toString=d.toString;return a};var Sf=q.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");q.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?be:Sf;be.parse=function(b){b=new Date(b);return isNaN(b)?null:b};be.toString=Sf.toString;q.time.second=Wb(function(b){return new Oa(1E3*Math.floor(b/1E3))},function(b,a){b.setTime(b.getTime()+1E3*Math.floor(a))},function(b){return b.getSeconds()});q.time.seconds=q.time.second.range;
q.time.seconds.utc=q.time.second.utc.range;q.time.minute=Wb(function(b){return new Oa(6E4*Math.floor(b/6E4))},function(b,a){b.setTime(b.getTime()+6E4*Math.floor(a))},function(b){return b.getMinutes()});q.time.minutes=q.time.minute.range;q.time.minutes.utc=q.time.minute.utc.range;q.time.hour=Wb(function(b){var a=b.getTimezoneOffset()/60;return new Oa(36E5*(Math.floor(b/36E5-a)+a))},function(b,a){b.setTime(b.getTime()+36E5*Math.floor(a))},function(b){return b.getHours()});q.time.hours=q.time.hour.range;
q.time.hours.utc=q.time.hour.utc.range;q.time.month=Wb(function(b){b=q.time.day(b);b.setDate(1);return b},function(b,a){b.setMonth(b.getMonth()+a)},function(b){return b.getMonth()});q.time.months=q.time.month.range;q.time.months.utc=q.time.month.utc.range;var nd=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],qe=[[q.time.second,1],[q.time.second,5],[q.time.second,15],[q.time.second,30],[q.time.minute,1],[q.time.minute,5],[q.time.minute,15],[q.time.minute,
30],[q.time.hour,1],[q.time.hour,3],[q.time.hour,6],[q.time.hour,12],[q.time.day,1],[q.time.day,2],[q.time.week,1],[q.time.month,1],[q.time.month,3],[q.time.year,1]],vh=[[q.time.format("%Y"),Pb],[q.time.format("%B"),function(b){return b.getMonth()}],[q.time.format("%b %d"),function(b){return 1!=b.getDate()}],[q.time.format("%a %d"),function(b){return b.getDay()&&1!=b.getDate()}],[q.time.format("%I %p"),function(b){return b.getHours()}],[q.time.format("%I:%M"),function(b){return b.getMinutes()}],[q.time.format(":%S"),
function(b){return b.getSeconds()}],[q.time.format(".%L"),function(b){return b.getMilliseconds()}]],Tf=q.scale.linear(),wh=uf(vh);qe.year=function(b,a){return Tf.domain(b.map(Pg)).ticks(a).map(ee)};q.time.scale=function(){return ce(q.scale.linear(),qe,wh)};var Uf=qe.map(function(b){return[b[0].utc,b[1]]}),xh=[[q.time.format.utc("%Y"),Pb],[q.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[q.time.format.utc("%b %d"),function(b){return 1!=b.getUTCDate()}],[q.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&
1!=b.getUTCDate()}],[q.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[q.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[q.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[q.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],yh=uf(xh);Uf.year=function(b,a){return Tf.domain(b.map(Qg)).ticks(a).map(fe)};q.time.scale.utc=function(){return ce(q.scale.linear(),Uf,yh)};q.text=ib(function(b){return b.responseText});q.json=function(b,a){return sc(b,
"application/json",Rg,a)};q.html=function(b,a){return sc(b,"text/html",Sg,a)};q.xml=ib(function(b){return b.responseXML});return q}();(function(c){var f,a,m=/[\.\/]/,u=function(){},n=function(a,c){return a-c},v={n:{}},z=function(c,m){c+="";var u,v=a,M=Array.prototype.slice.call(arguments,2),w=z.listeners(c),T=0,R=[],K={},D=[],fa=f;f=c;for(var oa=a=0,Ba=w.length;Ba>oa;oa++)"zIndex"in w[oa]&&(R.push(w[oa].zIndex),0>w[oa].zIndex&&(K[w[oa].zIndex]=w[oa]));for(R.sort(n);0>R[T];)if(u=K[R[T++]],D.push(u.apply(m,M)),a)return a=v,D;for(oa=0;Ba>oa;oa++)if(u=w[oa],"zIndex"in u)if(u.zIndex==R[T]){if(D.push(u.apply(m,M)),a)break;do if(T++,u=
K[R[T]],u&&D.push(u.apply(m,M)),a)break;while(u)}else K[u.zIndex]=u;else if(D.push(u.apply(m,M)),a)break;return a=v,f=fa,D.length?D:null};z._events=v;z.listeners=function(a){var c,f,u,n,w,z,R,K=a.split(m);c=v;var D=[c],fa=[];a=0;for(n=K.length;n>a;a++){R=[];w=0;for(z=D.length;z>w;w++){c=D[w].n;f=[c[K[a]],c["*"]];for(u=2;u--;)(c=f[u])&&(R.push(c),fa=fa.concat(c.f||[]))}D=R}return fa};z.on=function(a,c){if(a+="","function"!=typeof c)return function(){};for(var f=a.split(m),n=v,z=0,w=f.length;w>z;z++)n=
n.n,n=n.hasOwnProperty(f[z])&&n[f[z]]||(n[f[z]]={n:{}});n.f=n.f||[];z=0;for(w=n.f.length;w>z;z++)if(n.f[z]==c)return u;return n.f.push(c),function(a){+a==+a&&(c.zIndex=+a)}};z.f=function(a){var c=[].slice.call(arguments,1);return function(){z.apply(null,[a,null].concat(c).concat([].slice.call(arguments,0)))}};z.stop=function(){a=1};z.nt=function(a){return a?RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(f):f};z.nts=function(){return f.split(m)};z.off=z.unbind=function(a,c){if(!a)return z._events=
v={n:{}},void 0;var f,u,n,w,T,R,K=a.split(m),D=[v];w=0;for(T=K.length;T>w;w++)for(R=0;D.length>R;R+=n.length-2){if(n=[R,1],f=D[R].n,"*"!=K[w])f[K[w]]&&n.push(f[K[w]]);else for(u in f)f.hasOwnProperty(u)&&n.push(f[u]);D.splice.apply(D,n)}w=0;for(T=D.length;T>w;w++)for(f=D[w];f.n;){if(c){if(f.f){R=0;for(n=f.f.length;n>R;R++)if(f.f[R]==c){f.f.splice(R,1);break}!f.f.length&&delete f.f}for(u in f.n)if(f.n.hasOwnProperty(u)&&f.n[u].f){K=f.n[u].f;R=0;for(n=K.length;n>R;R++)if(K[R]==c){K.splice(R,1);break}!K.length&&
delete f.n[u].f}}else for(u in delete f.f,f.n)f.n.hasOwnProperty(u)&&f.n[u].f&&delete f.n[u].f;f=f.n}};z.once=function(a,c){var f=function(){return z.unbind(a,f),c.apply(this,arguments)};return z.on(a,f)};z.version="0.4.2";z.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=z:"undefined"!=typeof define?define("eve",[],function(){return z}):c.eve=z})(this);
(function(c,f){"function"==typeof define&&define.amd?define(["eve"],function(a){return f(c,a)}):f(c,c.eve)})(this,function(c,f){function a(d){if(a.is(d,"function"))return K?d():f.on("raphael.DOMload",d);if(a.is(d,Fa))return a._engine.create[$](a,d.splice(0,3+a.is(d[0],Aa))).add(d);var c=Array.prototype.slice.call(arguments,0);if(a.is(c[c.length-1],"function")){var e=c.pop();return K?e.call(a._engine.create[$](a,c)):f.on("raphael.DOMload",function(){e.call(a._engine.create[$](a,c))})}return a._engine.create[$](a,
arguments)}function m(a){if(Object(a)!==a)return a;var c=new a.constructor,e;for(e in a)a[ga](e)&&(c[e]=m(a[e]));return c}function u(a,c,e){function h(){var f=Array.prototype.slice.call(arguments,0),r=f.join("\u2400"),m=h.cache=h.cache||{},L=h.count=h.count||[];if(m[ga](r)){a:for(var f=L,L=r,u=0,n=f.length;n>u;u++)if(f[u]===L){f.push(f.splice(u,1)[0]);break a}r=e?e(m[r]):m[r]}else r=(1E3<=L.length&&delete m[L.shift()],L.push(r),m[r]=a[$](c,f),e?e(m[r]):m[r]);return r}return h}function n(){return this.hex}
function v(a,c){for(var e=[],h=0,f=a.length;f-2*!c>h;h+=2){var r=[{x:+a[h-2],y:+a[h-1]},{x:+a[h],y:+a[h+1]},{x:+a[h+2],y:+a[h+3]},{x:+a[h+4],y:+a[h+5]}];c?h?f-4==h?r[3]={x:+a[0],y:+a[1]}:f-2==h&&(r[2]={x:+a[0],y:+a[1]},r[3]={x:+a[2],y:+a[3]}):r[0]={x:+a[f-2],y:+a[f-1]}:f-4==h?r[3]=r[2]:h||(r[0]={x:+a[h],y:+a[h+1]});e.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return e}function z(a,c,e,h,f,r,m,L,u){null==u&&
(u=1);u=(1<u?1:0>u?0:u)/2;for(var n=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],v=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],w=0,A=0;12>A;A++)var Na=u*n[A]+u,z=Na*(Na*(-3*a+9*e-9*f+3*m)+6*a-12*e+6*f)-3*a+3*e,Na=Na*(Na*(-3*c+9*h-9*r+3*L)+6*c-12*h+6*r)-3*c+3*h,w=w+v[A]*Y.sqrt(z*z+Na*Na);return u*w}function C(a,c,e,h,f,r,m,L,u){if(!(0>u||u>z(a,c,e,h,f,r,m,L))){var n,v=0.5,w=1-v;for(n=z(a,c,e,h,f,r,m,L,w);0.01<
za(n-u);)v/=2,w+=(u>n?1:-1)*v,n=z(a,c,e,h,f,r,m,L,w);return w}}function G(d,c,e){d=a._path2curve(d);c=a._path2curve(c);for(var h,f,r,m,u,n,v,wa,w,A,Na=e?0:[],C=0,P=d.length;P>C;C++){var ma=d[C];if("M"==ma[0])h=u=ma[1],f=n=ma[2];else{"C"==ma[0]?(w=[h,f].concat(ma.slice(1)),h=w[6],f=w[7]):(w=[h,f,h,f,u,n,u,n],h=u,f=n);for(var ma=0,I=c.length;I>ma;ma++){var x=c[ma];if("M"==x[0])r=v=x[1],m=wa=x[2];else{"C"==x[0]?(A=[r,m].concat(x.slice(1)),r=A[6],m=A[7]):(A=[r,m,r,m,v,wa,v,wa],r=v,m=wa);var O=w,D=A,x=
e,G=a.bezierBBox(O),K=a.bezierBBox(D);if(a.isBBoxIntersect(G,K)){for(var G=z.apply(0,O),K=z.apply(0,D),G=~~(G/5),K=~~(K/5),E=[],Ja=[],Fb={},B=x?0:[],H=0;G+1>H;H++){var N=a.findDotsAtSegment.apply(a,O.concat(H/G));E.push({x:N.x,y:N.y,t:H/G})}for(H=0;K+1>H;H++)N=a.findDotsAtSegment.apply(a,D.concat(H/K)),Ja.push({x:N.x,y:N.y,t:H/K});for(H=0;G>H;H++)for(O=0;K>O;O++){var Q=E[H],da=E[H+1],D=Ja[O],N=Ja[O+1],kc=0.0010>za(da.x-Q.x)?"y":"x",lc=0.0010>za(N.x-D.x)?"y":"x",ya;b:{ya=Q.x;var M=Q.y,S=da.x,R=da.y,
T=D.x,$=D.y,Y=N.x,ca=N.y;if(!(na(ya,S)<qa(T,Y)||qa(ya,S)>na(T,Y)||na(M,R)<qa($,ca)||qa(M,R)>na($,ca))){var fa=(ya*R-M*S)*(T-Y)-(ya-S)*(T*ca-$*Y),ga=(ya*R-M*S)*($-ca)-(M-R)*(T*ca-$*Y),ea=(ya-S)*($-ca)-(M-R)*(T-Y);if(ea){var fa=fa/ea,ga=ga/ea,ea=+fa.toFixed(2),ha=+ga.toFixed(2);if(!(+qa(ya,S).toFixed(2)>ea||ea>+na(ya,S).toFixed(2)||+qa(T,Y).toFixed(2)>ea||ea>+na(T,Y).toFixed(2)||+qa(M,R).toFixed(2)>ha||ha>+na(M,R).toFixed(2)||+qa($,ca).toFixed(2)>ha||ha>+na($,ca).toFixed(2))){ya={x:fa,y:ga};break b}}}ya=
void 0}ya&&Fb[ya.x.toFixed(4)]!=ya.y.toFixed(4)&&(Fb[ya.x.toFixed(4)]=ya.y.toFixed(4),Q=Q.t+za((ya[kc]-Q[kc])/(da[kc]-Q[kc]))*(da.t-Q.t),D=D.t+za((ya[lc]-D[lc])/(N[lc]-D[lc]))*(N.t-D.t),0<=Q&&1>=Q&&0<=D&&1>=D&&(x?B++:B.push({x:ya.x,y:ya.y,t1:Q,t2:D})))}x=B}else x=x?0:[];if(e)Na+=x;else{G=0;for(K=x.length;K>G;G++)x[G].segment1=C,x[G].segment2=ma,x[G].bez1=w,x[G].bez2=A;Na=Na.concat(x)}}}}}return Na}function A(a,c,e,h,f,r){null!=a?(this.a=+a,this.b=+c,this.c=+e,this.d=+h,this.e=+f,this.f=+r):(this.a=
1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function x(){return this.x+va+this.y+va+this.width+" \u00d7 "+this.height}function M(a,c,e,h,f,r){function m(a,d){var c,l,e,h,f;e=a;for(f=0;8>f;f++){if(h=((v*e+n)*e+u)*e-a,d>za(h))return e;if(l=(3*v*e+2*n)*e+u,1E-6>za(l))break;e-=h/l}if(c=0,l=1,e=a,c>e)return c;if(e>l)return l;for(;l>c&&!(h=((v*e+n)*e+u)*e,d>za(h-a));)a>h?c=e:l=e,e=(l-c)/2+c;return e}var u=3*c,n=3*(h-c)-u,v=1-u-n,w=3*e,sb=3*(f-e)-w,A=1-w-sb;return function(a,d){var c=m(a,d);return((A*
c+sb)*c+w)*c}(a,1/(200*r))}function w(a,c){var e=[],h={};if(this.ms=c,this.times=1,a){for(var f in a)a[ga](f)&&(h[ra(f)]=a[f],e.push(ra(f)));e.sort(sc)}this.anim=h;this.top=e[e.length-1];this.percents=e}function T(d,c,e,h,y,r){e=ra(e);var m,u,n,v,w,sb,z=d.ms,x={},C={},P={};if(h){I=0;for(D=ca.length;D>I;I++){var ma=ca[I];if(ma.el.id==c.id&&ma.anim==d){ma.percent!=e?(ca.splice(I,1),n=1):u=ma;c.attr(ma.totalOrigin);break}}}else h=+C;for(var I=0,D=d.percents.length;D>I;I++){if(d.percents[I]==e||d.percents[I]>
h*d.top){e=d.percents[I];w=d.percents[I-1]||0;z=z/d.top*(e-w);v=d.percents[I+1];m=d.anim[e];break}h&&c.attr(d.anim[d.percents[I]])}if(m){if(u)u.initstatus=h,u.start=new Date-u.ms*h;else{for(var O in m)if(m[ga](O)&&(Ib[ga](O)||c.paper.customAttributes[ga](O)))switch(x[O]=c.attr(O),null==x[O]&&(x[O]=yb[O]),C[O]=m[O],Ib[O]){case Aa:P[O]=(C[O]-x[O])/z;break;case "colour":x[O]=a.getRGB(x[O]);I=a.getRGB(C[O]);P[O]={r:(I.r-x[O].r)/z,g:(I.g-x[O].g)/z,b:(I.b-x[O].b)/z};break;case "path":var I=Bb(x[O],C[O]),
G=I[1];x[O]=I[0];P[O]=[];I=0;for(D=x[O].length;D>I;I++){P[O][I]=[0];for(var K=1,S=x[O][I].length;S>K;K++)P[O][I][K]=(G[I][K]-x[O][I][K])/z}break;case "transform":I=c._;if(G=Sc(I[O],C[O])){x[O]=G.from;C[O]=G.to;P[O]=[];P[O].real=!0;I=0;for(D=x[O].length;D>I;I++){P[O][I]=[x[O][I][0]];K=1;for(S=x[O][I].length;S>K;K++)P[O][I][K]=(C[O][I][K]-x[O][I][K])/z}}else G=c.matrix||new A,I={_:{transform:I.transform},getBBox:function(){return c.getBBox(1)}},x[O]=[G.a,G.b,G.c,G.d,G.e,G.f],zc(I,C[O]),C[O]=I._.transform,
P[O]=[(I.matrix.a-G.a)/z,(I.matrix.b-G.b)/z,(I.matrix.c-G.c)/z,(I.matrix.d-G.d)/z,(I.matrix.e-G.e)/z,(I.matrix.f-G.f)/z];break;case "csv":G=sa(m[O])[pa](fa);D=sa(x[O])[pa](fa);if("clip-rect"==O){x[O]=D;P[O]=[];for(I=D.length;I--;)P[O][I]=(G[I]-x[O][I])/z}C[O]=G;break;default:G=[][ea](m[O]);D=[][ea](x[O]);P[O]=[];for(I=c.paper.customAttributes[O].length;I--;)P[O][I]=((G[I]||0)-(D[I]||0))/z}O=m.easing;I=a.easing_formulas[O];if(!I)if(I=sa(O).match(pc),I&&5==I.length)var E=I,I=function(a){return M(a,
+E[1],+E[2],+E[3],+E[4],z)};else I=tc;if(sb=m.start||d.start||+new Date,ma={anim:d,percent:e,timestamp:sb,start:sb+(d.del||0),status:0,initstatus:h||0,stop:!1,ms:z,easing:I,from:x,diff:P,to:C,el:c,callback:m.callback,prev:w,next:v,repeat:r||d.times,origin:c.attr(),totalOrigin:y},ca.push(ma),h&&!u&&!n&&(ma.stop=!0,ma.start=new Date-z*h,1==ca.length))return Rb();n&&(ma.start=new Date-ma.ms*h);1==ca.length&&gb(Rb)}f("raphael.anim.start."+c.id,c,d)}}function R(a){for(var c=0;ca.length>c;c++)ca[c].el.paper==
a&&ca.splice(c--,1)}a.version="2.1.0";a.eve=f;var K,D,fa=/[, ]+/,oa={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Ba=/\{(\d+)\}/g,ga="hasOwnProperty",S={doc:document,win:c},Ka=Object.prototype[ga].call(S.win,"Raphael"),Qa=S.win.Raphael,ta=function(){this.ca=this.customAttributes={}},$="apply",ea="concat",Pa="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,va=" ",sa=String,pa="split",Sa="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[pa](va),
ab={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},bb=sa.prototype.toLowerCase,Y=Math,na=Y.max,qa=Y.min,za=Y.abs,Da=Y.pow,Ea=Y.PI,Aa="number",Fa="array",Yb=Object.prototype.toString,Ic=(a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),
Jc={NaN:1,Infinity:1,"-Infinity":1},pc=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Hb=Y.round,ra=parseFloat,Ia=parseInt,Xb=sa.prototype.toUpperCase,yb=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",
r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Ib=a._availableAnimAttrs={blur:Aa,"clip-rect":"csv",cx:Aa,cy:Aa,fill:"colour","fill-opacity":Aa,"font-size":Aa,height:Aa,opacity:Aa,path:"path",r:Aa,rx:Aa,ry:Aa,stroke:"colour","stroke-opacity":Aa,"stroke-width":Aa,transform:"transform",width:Aa,x:Aa,y:Aa},
Zb=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Lc={hs:1,rg:1},rc=/,?([achlmqrstvxz]),?/gi,qc=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
ha=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Ha=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,
ib=(a._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),sc=function(a,c){return ra(a)-ra(c)},Id=function(){},tc=function(a){return a},Jb=a._rectPath=function(a,c,e,h,f){return f?[["M",a+f,c],["l",e-2*f,0],["a",f,f,0,0,1,
f,f],["l",0,h-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-e,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-h],["a",f,f,0,0,1,f,-f],["z"]]:[["M",a,c],["l",e,0],["l",0,h],["l",-e,0],["z"]]},uc=function(a,c,e,h){return null==h&&(h=e),[["M",a,c],["m",0,-h],["a",e,h,0,1,1,0,2*h],["a",e,h,0,1,1,0,-2*h],["z"]]},zb=a._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return uc(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return uc(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Jb(a.x,a.y,
a.width,a.height,a.r)},image:function(a){a=a.attrs;return Jb(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Jb(a.x,a.y,a.width,a.height)},set:function(a){a=a._getBBox();return Jb(a.x,a.y,a.width,a.height)}},vc=a.mapPath=function(a,c){if(!c)return a;var e,h,f,r,m,u,n;a=Bb(a);f=0;for(m=a.length;m>f;f++){n=a[f];r=1;for(u=n.length;u>r;r+=2)e=c.x(n[r],n[r+1]),h=c.y(n[r],n[r+1]),n[r]=e,n[r+1]=h}return a};if(a._g=S,a.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML","VML"==a.type){var Ab,$b=S.doc.createElement("div");if($b.innerHTML='<v:shape adj="1"/>',Ab=$b.firstChild,Ab.style.behavior="url(#default#VML)",!Ab||"object"!=typeof Ab.adj)return a.type="";$b=null}a.svg=!(a.vml="VML"==a.type);a._Paper=ta;a.fn=D=ta.prototype=a.prototype;a._id=0;a._oid=0;a.is=function(a,c){return c=bb.call(c),"finite"==c?!Jc[ga](+a):"array"==c?a instanceof Array:"null"==c&&null===a||c==typeof a&&null!==a||"object"==c&&a===Object(a)||"array"==c&&Array.isArray&&Array.isArray(a)||
Yb.call(a).slice(8,-1).toLowerCase()==c};a.angle=function(d,c,e,h,f,r){return null==f?(d-=e,c-=h,d||c?(180*Y.atan2(-c,-d)/Ea+540)%360:0):a.angle(d,c,f,r)-a.angle(e,h,f,r)};a.rad=function(a){return a%360*Ea/180};a.deg=function(a){return 180*a/Ea%360};a.snapTo=function(d,c,e){if(e=a.is(e,"finite")?e:10,a.is(d,Fa))for(var h=d.length;h--;){if(e>=za(d[h]-c))return d[h]}else{d=+d;h=c%d;if(e>h)return c-h;if(h>d-e)return c-h+d}return c};a.createUUID=function(a,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,
c).toUpperCase()}}(/[xy]/g,function(a){var c=0|16*Y.random();return("x"==a?c:8|3&c).toString(16)});a.setWindow=function(d){f("raphael.setWindow",a,S.win,d);S.win=d;S.doc=S.win.document;a._engine.initWin&&a._engine.initWin(S.win)};var ob=function(d){if(a.vml){var c,e=/^\s+|\s+$/g;try{var h=new ActiveXObject("htmlfile");h.write("<body>");h.close();c=h.body}catch(f){c=createPopup().document.body}var r=c.createTextRange();ob=u(function(a){try{c.style.color=sa(a).replace(e,"");var d=r.queryCommandValue("ForeColor");
return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(h){return"none"}})}else{var m=S.doc.createElement("i");m.title="Rapha\u00ebl Colour Picker";m.style.display="none";S.doc.body.appendChild(m);ob=u(function(a){return m.style.color=a,S.doc.defaultView.getComputedStyle(m,"").getPropertyValue("color")})}return ob(d)},wc=function(){return"hsb("+[this.h,this.s,this.b]+")"},Qc=function(){return"hsl("+[this.h,this.s,this.l]+")"},Rc=function(){return this.hex},jb=
function(d,c,e){if(null==c&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d&&(e=d.b,c=d.g,d=d.r),null==c&&a.is(d,"string"))e=a.getRGB(d),d=e.r,c=e.g,e=e.b;return(1<d||1<c||1<e)&&(d/=255,c/=255,e/=255),[d,c,e]},Lb=function(d,c,e,h){d*=255;c*=255;e*=255;d={r:d,g:c,b:e,hex:a.rgb(d,c,e),toString:Rc};return a.is(h,"finite")&&(d.opacity=h),d};a.color=function(d){var c;return a.is(d,"object")&&"h"in d&&"s"in d&&"b"in d?(c=a.hsb2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):a.is(d,"object")&&"h"in d&&"s"in d&&
"l"in d?(c=a.hsl2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):(a.is(d,"string")&&(d=a.getRGB(d)),a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d?(c=a.rgb2hsl(d),d.h=c.h,d.s=c.s,d.l=c.l,c=a.rgb2hsb(d),d.v=c.b):(d={hex:"none"},d.r=d.g=d.b=d.h=d.s=d.v=d.l=-1)),d.toString=Rc,d};a.hsb2rgb=function(a,c,e,h){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(e=a.b,c=a.s,a=a.h,h=a.o);a*=360;var f,r,m,u,n;return a=a%360/60,n=e*c,u=n*(1-za(a%2-1)),f=r=m=e-n,a=~~a,f+=[n,u,0,0,u,n][a],r+=[u,n,n,u,0,0][a],m+=[0,0,u,
n,n,u][a],Lb(f,r,m,h)};a.hsl2rgb=function(a,c,e,h){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(e=a.l,c=a.s,a=a.h);(1<a||1<c||1<e)&&(a/=360,c/=100,e/=100);a*=360;var f,r,m,u,n;return a=a%360/60,n=2*c*(0.5>e?e:1-e),u=n*(1-za(a%2-1)),f=r=m=e-n/2,a=~~a,f+=[n,u,0,0,u,n][a],r+=[u,n,n,u,0,0][a],m+=[0,0,u,n,n,u][a],Lb(f,r,m,h)};a.rgb2hsb=function(a,c,e){e=jb(a,c,e);a=e[0];c=e[1];e=e[2];var h,f,r,m;return r=na(a,c,e),m=r-qa(a,c,e),h=0==m?null:r==a?(c-e)/m:r==c?(e-a)/m+2:(a-c)/m+4,h=60*((h+360)%6)/360,
f=0==m?0:m/r,{h:h,s:f,b:r,toString:wc}};a.rgb2hsl=function(a,c,e){e=jb(a,c,e);a=e[0];c=e[1];e=e[2];var h,f,r,m,u,n;return m=na(a,c,e),u=qa(a,c,e),n=m-u,h=0==n?null:m==a?(c-e)/n:m==c?(e-a)/n+2:(a-c)/n+4,h=60*((h+360)%6)/360,r=(m+u)/2,f=0==n?0:0.5>r?n/(2*r):n/(2-2*r),{h:h,s:f,l:r,toString:Qc}};a._path2string=function(){return this.join(",").replace(rc,"$1")};a._preload=function(a,c){var e=S.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top:-9999em";e.onload=function(){c.call(this);
this.onload=null;S.doc.body.removeChild(this)};e.onerror=function(){S.doc.body.removeChild(this)};S.doc.body.appendChild(e);e.src=a};a.getRGB=u(function(d){if(!d||(d=sa(d)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n};if("none"==d)return{r:-1,g:-1,b:-1,hex:"none",toString:n};!(Lc[ga](d.toLowerCase().substring(0,2))||"#"==d.charAt())&&(d=ob(d));var c,e,h,f,r,m;return(d=d.match(Ic))?(d[2]&&(h=Ia(d[2].substring(5),16),e=Ia(d[2].substring(3,5),16),c=Ia(d[2].substring(1,3),16)),
d[3]&&(h=Ia((r=d[3].charAt(3))+r,16),e=Ia((r=d[3].charAt(2))+r,16),c=Ia((r=d[3].charAt(1))+r,16)),d[4]&&(m=d[4][pa](Zb),c=ra(m[0]),"%"==m[0].slice(-1)&&(c*=2.55),e=ra(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),h=ra(m[2]),"%"==m[2].slice(-1)&&(h*=2.55),"rgba"==d[1].toLowerCase().slice(0,4)&&(f=ra(m[3])),m[3]&&"%"==m[3].slice(-1)&&(f/=100)),d[5]?(m=d[5][pa](Zb),c=ra(m[0]),"%"==m[0].slice(-1)&&(c*=2.55),e=ra(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),h=ra(m[2]),"%"==m[2].slice(-1)&&(h*=2.55),("deg"==m[0].slice(-3)||
"\u00b0"==m[0].slice(-1))&&(c/=360),"hsba"==d[1].toLowerCase().slice(0,4)&&(f=ra(m[3])),m[3]&&"%"==m[3].slice(-1)&&(f/=100),a.hsb2rgb(c,e,h,f)):d[6]?(m=d[6][pa](Zb),c=ra(m[0]),"%"==m[0].slice(-1)&&(c*=2.55),e=ra(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),h=ra(m[2]),"%"==m[2].slice(-1)&&(h*=2.55),("deg"==m[0].slice(-3)||"\u00b0"==m[0].slice(-1))&&(c/=360),"hsla"==d[1].toLowerCase().slice(0,4)&&(f=ra(m[3])),m[3]&&"%"==m[3].slice(-1)&&(f/=100),a.hsl2rgb(c,e,h,f)):(d={r:c,g:e,b:h,toString:n},d.hex="#"+(16777216|
h|e<<8|c<<16).toString(16).slice(1),a.is(f,"finite")&&(d.opacity=f),d)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n}},a);a.hsb=u(function(d,c,e){return a.hsb2rgb(d,c,e).hex});a.hsl=u(function(d,c,e){return a.hsl2rgb(d,c,e).hex});a.rgb=u(function(a,c,e){return"#"+(16777216|e|c<<8|a<<16).toString(16).slice(1)});a.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var c=this.hsb2rgb(a.h,a.s,a.b);return a.h+=0.075,1<a.h&&(a.h=0,a.s-=0.2,0>=a.s&&(this.getColor.start=
{h:0,s:1,b:a.b})),c.hex};a.getColor.reset=function(){delete this.start};a.parsePathString=function(d){if(!d)return null;var c=Ua(d);if(c.arr)return La(c.arr);var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},h=[];return a.is(d,Fa)&&a.is(d[0],Fa)&&(h=La(d)),h.length||sa(d).replace(qc,function(a,d,c){var l=[];a=d.toLowerCase();if(c.replace(Ha,function(a,d){d&&l.push(+d)}),"m"==a&&2<l.length&&(h.push([d][ea](l.splice(0,2))),a="l",d="m"==d?"l":"L"),"r"==a)h.push([d][ea](l));else for(;l.length>=e[a]&&
(h.push([d][ea](l.splice(0,e[a]))),e[a]););}),h.toString=a._path2string,c.arr=La(h),h};a.parseTransformString=u(function(d){if(!d)return null;var c=[];return a.is(d,Fa)&&a.is(d[0],Fa)&&(c=La(d)),c.length||sa(d).replace(ha,function(a,d,f){var r=[];bb.call(d);f.replace(Ha,function(a,d){d&&r.push(+d)});c.push([d][ea](r))}),c.toString=a._path2string,c});var Ua=function(a){var c=Ua.ps=Ua.ps||{};return c[a]?c[a].sleep=100:c[a]={sleep:100},setTimeout(function(){for(var e in c)c[ga](e)&&e!=a&&(c[e].sleep--,
!c[e].sleep&&delete c[e])}),c[a]};a.findDotsAtSegment=function(a,c,e,h,f,r,m,u,n){var v=1-n,w=Da(v,3),x=Da(v,2),A=n*n,z=A*n,C=w*a+3*x*n*e+3*v*n*n*f+z*m,w=w*c+3*x*n*h+3*v*n*n*r+z*u,x=a+2*n*(e-a)+A*(f-2*e+a),z=c+2*n*(h-c)+A*(r-2*h+c),P=e+2*n*(f-e)+A*(m-2*f+e),A=h+2*n*(r-h)+A*(u-2*r+h);a=v*a+n*e;c=v*c+n*h;f=v*f+n*m;r=v*r+n*u;u=90-180*Y.atan2(x-P,z-A)/Ea;return(x>P||A>z)&&(u+=180),{x:C,y:w,m:{x:x,y:z},n:{x:P,y:A},start:{x:a,y:c},end:{x:f,y:r},alpha:u}};a.bezierBBox=function(d,c,e,h,f,r,m,u){a.is(d,"array")||
(d=[d,c,e,h,f,r,m,u]);d=yc.apply(null,d);return{x:d.min.x,y:d.min.y,x2:d.max.x,y2:d.max.y,width:d.max.x-d.min.x,height:d.max.y-d.min.y}};a.isPointInsideBBox=function(a,c,e){return c>=a.x&&a.x2>=c&&e>=a.y&&a.y2>=e};a.isBBoxIntersect=function(d,c){var e=a.isPointInsideBBox;return e(c,d.x,d.y)||e(c,d.x2,d.y)||e(c,d.x,d.y2)||e(c,d.x2,d.y2)||e(d,c.x,c.y)||e(d,c.x2,c.y)||e(d,c.x,c.y2)||e(d,c.x2,c.y2)||(d.x<c.x2&&d.x>c.x||c.x<d.x2&&c.x>d.x)&&(d.y<c.y2&&d.y>c.y||c.y<d.y2&&c.y>d.y)};a.pathIntersection=function(a,
c){return G(a,c)};a.pathIntersectionNumber=function(a,c){return G(a,c,1)};a.isPointInsidePath=function(d,c,e){var h=a.pathBBox(d);return a.isPointInsideBBox(h,c,e)&&1==G(d,[["M",c,e],["H",h.x2+10]],1)%2};a._removedFactory=function(a){return function(){f("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var Mb=a.pathBBox=function(a){var c=Ua(a);if(c.bbox)return m(c.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Bb(a);for(var e,h=0,f=0,r=
[],u=[],n=0,v=a.length;v>n;n++)(e=a[n],"M"==e[0])?(h=e[1],f=e[2],r.push(h),u.push(f)):(h=yc(h,f,e[1],e[2],e[3],e[4],e[5],e[6]),r=r[ea](h.min.x,h.max.x),u=u[ea](h.min.y,h.max.y),h=e[5],f=e[6]);a=qa[$](0,r);e=qa[$](0,u);r=na[$](0,r);u=na[$](0,u);n=r-a;v=u-e;u={x:a,y:e,x2:r,y2:u,width:n,height:v,cx:a+n/2,cy:e+v/2};return c.bbox=m(u),u},La=function(d){d=m(d);return d.toString=a._path2string,d},ac=a._pathToRelative=function(d){var c=Ua(d);if(c.rel)return La(c.rel);a.is(d,Fa)&&a.is(d&&d[0],Fa)||(d=a.parsePathString(d));
var e=[],h=0,f=0,r=0,m=0,u=0;"M"==d[0][0]&&(h=d[0][1],f=d[0][2],r=h,m=f,u++,e.push(["M",h,f]));for(var n=d.length;n>u;u++){var v=e[u]=[],w=d[u];if(w[0]!=bb.call(w[0]))switch(v[0]=bb.call(w[0]),v[0]){case "a":v[1]=w[1];v[2]=w[2];v[3]=w[3];v[4]=w[4];v[5]=w[5];v[6]=+(w[6]-h).toFixed(3);v[7]=+(w[7]-f).toFixed(3);break;case "v":v[1]=+(w[1]-f).toFixed(3);break;case "m":r=w[1],m=w[2];default:for(var x=1,A=w.length;A>x;x++)v[x]=+(w[x]-(x%2?h:f)).toFixed(3)}else{e[u]=[];"m"==w[0]&&(r=w[1]+h,m=w[2]+f);v=0;
for(x=w.length;x>v;v++)e[u][v]=w[v]}w=e[u].length;switch(e[u][0]){case "z":h=r;f=m;break;case "h":h+=+e[u][w-1];break;case "v":f+=+e[u][w-1];break;default:h+=+e[u][w-2],f+=+e[u][w-1]}}return e.toString=a._path2string,c.rel=La(e),e},Nb=a._pathToAbsolute=function(d){var c=Ua(d);if(c.abs)return La(c.abs);if(a.is(d,Fa)&&a.is(d&&d[0],Fa)||(d=a.parsePathString(d)),!d||!d.length)return[["M",0,0]];var e=[],h=0,f=0,r=0,m=0,u=0;"M"==d[0][0]&&(h=+d[0][1],f=+d[0][2],r=h,m=f,u++,e[0]=["M",h,f]);for(var n,w=3==
d.length&&"M"==d[0][0]&&"R"==d[1][0].toUpperCase()&&"Z"==d[2][0].toUpperCase(),x=u,A=d.length;A>x;x++){if(e.push(u=[]),n=d[x],n[0]!=Xb.call(n[0]))switch(u[0]=Xb.call(n[0]),u[0]){case "A":u[1]=n[1];u[2]=n[2];u[3]=n[3];u[4]=n[4];u[5]=n[5];u[6]=+(n[6]+h);u[7]=+(n[7]+f);break;case "V":u[1]=+n[1]+f;break;case "H":u[1]=+n[1]+h;break;case "R":for(var z=[h,f][ea](n.slice(1)),C=2,D=z.length;D>C;C++)z[C]=+z[C]+h,z[++C]=+z[C]+f;e.pop();e=e[ea](v(z,w));break;case "M":r=+n[1]+h,m=+n[2]+f;default:C=1;for(D=n.length;D>
C;C++)u[C]=+n[C]+(C%2?h:f)}else if("R"==n[0])z=[h,f][ea](n.slice(1)),e.pop(),e=e[ea](v(z,w)),u=["R"][ea](n.slice(-2));else{z=0;for(C=n.length;C>z;z++)u[z]=n[z]}switch(u[0]){case "Z":h=r;f=m;break;case "H":h=u[1];break;case "V":f=u[1];break;case "M":r=u[u.length-2],m=u[u.length-1];default:h=u[u.length-2],f=u[u.length-1]}}return e.toString=a._path2string,c.abs=La(e),e},Ob=function(a,c,e,h,f,r){var m=1/3,u=2/3;return[m*a+u*e,m*c+u*h,m*f+u*e,m*r+u*h,f,r]},bc=function(a,c,e,h,f,r,m,n,v,w){var x,z=120*
Ea/180,A=Ea/180*(+f||0),C=[],D=u(function(a,d,c){var e=a*Y.cos(c)-d*Y.sin(c);a=a*Y.sin(c)+d*Y.cos(c);return{x:e,y:a}});if(w)I=w[0],x=w[1],r=w[2],P=w[3];else{x=D(a,c,-A);a=x.x;c=x.y;x=D(n,v,-A);n=x.x;v=x.y;x=(Y.cos(Ea/180*f),Y.sin(Ea/180*f),(a-n)/2);I=(c-v)/2;P=x*x/(e*e)+I*I/(h*h);1<P&&(P=Y.sqrt(P),e*=P,h*=P);var P=e*e,G=h*h,P=(r==m?-1:1)*Y.sqrt(za((P*G-P*I*I-G*x*x)/(P*I*I+G*x*x)));r=P*e*I/h+(a+n)/2;var P=P*-h*x/e+(c+v)/2,I=Y.asin(((c-P)/h).toFixed(9));x=Y.asin(((v-P)/h).toFixed(9));I=r>a?Ea-I:I;x=
r>n?Ea-x:x;0>I&&(I=2*Ea+I);0>x&&(x=2*Ea+x);m&&I>x&&(I-=2*Ea);!m&&x>I&&(x-=2*Ea)}if(za(x-I)>z){var C=x,G=n,K=v;x=I+z*(m&&x>I?1:-1);n=r+e*Y.cos(x);v=P+h*Y.sin(x);C=bc(n,v,e,h,f,0,m,G,K,[x,C,r,P])}r=x-I;f=Y.cos(I);z=Y.sin(I);m=Y.cos(x);x=Y.sin(x);r=Y.tan(r/4);e=4/3*e*r;r*=4/3*h;h=[a,c];a=[a+e*z,c-r*f];c=[n+e*x,v-r*m];n=[n,v];if(a[0]=2*h[0]-a[0],a[1]=2*h[1]-a[1],w)return[a,c,n][ea](C);C=[a,c,n][ea](C).join()[pa](",");w=[];n=0;for(v=C.length;v>n;n++)w[n]=n%2?D(C[n-1],C[n],A).y:D(C[n],C[n+1],A).x;return w},
kb=function(a,c,e,h,f,r,m,u,n){var v=1-n;return{x:Da(v,3)*a+3*Da(v,2)*n*e+3*v*n*n*f+Da(n,3)*m,y:Da(v,3)*c+3*Da(v,2)*n*h+3*v*n*n*r+Da(n,3)*u}},yc=u(function(a,c,e,h,f,r,m,u){var n,v=f-2*e+a-(m-2*f+e),w=2*(e-a)-2*(f-e),x=a-e,z=(-w+Y.sqrt(w*w-4*v*x))/2/v,A=(-w-Y.sqrt(w*w-4*v*x))/2/v,C=[c,u],P=[a,m];return"1e12"<za(z)&&(z=0.5),"1e12"<za(A)&&(A=0.5),0<z&&1>z&&(n=kb(a,c,e,h,f,r,m,u,z),P.push(n.x),C.push(n.y)),0<A&&1>A&&(n=kb(a,c,e,h,f,r,m,u,A),P.push(n.x),C.push(n.y)),v=r-2*h+c-(u-2*r+h),w=2*(h-c)-2*(r-
h),x=c-h,z=(-w+Y.sqrt(w*w-4*v*x))/2/v,A=(-w-Y.sqrt(w*w-4*v*x))/2/v,"1e12"<za(z)&&(z=0.5),"1e12"<za(A)&&(A=0.5),0<z&&1>z&&(n=kb(a,c,e,h,f,r,m,u,z),P.push(n.x),C.push(n.y)),0<A&&1>A&&(n=kb(a,c,e,h,f,r,m,u,A),P.push(n.x),C.push(n.y)),{min:{x:qa[$](0,P),y:qa[$](0,C)},max:{x:na[$](0,P),y:na[$](0,C)}}}),Bb=a._path2curve=u(function(a,c){var e=!c&&Ua(a);if(!c&&e.curve)return La(e.curve);var h=Nb(a),f=c&&Nb(c),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(a,
d){var c,e;if(!a)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(a[0]in{T:1,Q:1})&&(d.qx=d.qy=null),a[0]){case "M":d.X=a[1];d.Y=a[2];break;case "A":a=["C"][ea](bc[$](0,[d.x,d.y][ea](a.slice(1))));break;case "S":c=d.x+(d.x-(d.bx||d.x));e=d.y+(d.y-(d.by||d.y));a=["C",c,e][ea](a.slice(1));break;case "T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));a=["C"][ea](Ob(d.x,d.y,d.qx,d.qy,a[1],a[2]));break;case "Q":d.qx=a[1];d.qy=a[2];a=["C"][ea](Ob(d.x,d.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"][ea]([d.x,
d.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][ea]([d.x,d.y,a[1],d.y,a[1],d.y]);break;case "V":a=["C"][ea]([d.x,d.y,d.x,a[1],d.x,a[1]]);break;case "Z":a=["C"][ea]([d.x,d.y,d.X,d.Y,d.X,d.Y])}return a},n=function(a,d){if(7<a[d].length){a[d].shift();for(var c=a[d];c.length;)a.splice(d++,0,["C"][ea](c.splice(0,6)));a.splice(d,1);x=na(h.length,f&&f.length||0)}},v=function(a,d,c,e,l){a&&d&&"M"==a[l][0]&&"M"!=d[l][0]&&(d.splice(l,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[l][1],c.y=a[l][2],x=na(h.length,f&&
f.length||0))},w=0,x=na(h.length,f&&f.length||0);for(;x>w;w++){h[w]=u(h[w],r);n(h,w);f&&(f[w]=u(f[w],m));f&&n(f,w);v(h,f,r,m,w);v(f,h,m,r,w);var z=h[w],A=f&&f[w],C=z.length,P=f&&A.length;r.x=z[C-2];r.y=z[C-1];r.bx=ra(z[C-4])||r.x;r.by=ra(z[C-3])||r.y;m.bx=f&&(ra(A[P-4])||m.x);m.by=f&&(ra(A[P-3])||m.y);m.x=f&&A[P-2];m.y=f&&A[P-1]}return f||(e.curve=La(h)),f?[h,f]:h},null,La),dc=(a._parseDots=u(function(d){for(var c=[],e=0,f=d.length;f>e;e++){var m={},r=d[e].match(/^([^:]*):?([\d\.]*)/);if(m.color=
a.getRGB(r[1]),m.color.error)return null;m.color=m.color.hex;r[2]&&(m.offset=r[2]+"%");c.push(m)}e=1;for(f=c.length-1;f>e;e++)if(!c[e].offset){d=ra(c[e-1].offset||0);r=0;for(m=e+1;f>m;m++)if(c[m].offset){r=c[m].offset;break}r||(r=100,m=f);r=ra(r);for(r=(r-d)/(m-e+1);m>e;e++)d+=r,c[e].offset=d+"%"}return c}),a._tear=function(a,c){a==c.top&&(c.top=a.prev);a==c.bottom&&(c.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)}),Pb=(a._tofront=function(a,c){c.top!==a&&(dc(a,c),a.next=
null,a.prev=c.top,c.top.next=a,c.top=a)},a._toback=function(a,c){c.bottom!==a&&(dc(a,c),a.next=c.bottom,a.prev=null,c.bottom.prev=a,c.bottom=a)},a._insertafter=function(a,c,e){dc(a,e);c==e.top&&(e.top=a);c.next&&(c.next.prev=a);a.next=c.next;a.prev=c;c.next=a},a._insertbefore=function(a,c,e){dc(a,e);c==e.bottom&&(e.bottom=a);c.prev&&(c.prev.next=a);a.prev=c.prev;c.prev=a;a.next=c},a.toMatrix=function(a,c){var e=Mb(a),f={_:{transform:""},getBBox:function(){return e}};return zc(f,c),f.matrix}),zc=(a.transformPath=
function(a,c){return vc(a,Pb(a,c))},a._extractTransform=function(d,c){if(null==c)return d._.transform;c=sa(c).replace(/\.{3}|\u2026/g,d._.transform||"");var e=a.parseTransformString(c),f=0,m=0,r=0,u=1,n=1,v=d._,r=new A;if(v.transform=e||[],e)for(var m=0,w=e.length;w>m;m++){var x,z,C,D,G,P=e[m],K=P.length,I=sa(P[0]).toLowerCase(),S=P[0]!=I,O=S?r.invert():0;"t"==I&&3==K?S?(x=O.x(0,0),z=O.y(0,0),C=O.x(P[1],P[2]),D=O.y(P[1],P[2]),r.translate(C-x,D-z)):r.translate(P[1],P[2]):"r"==I?2==K?(G=G||d.getBBox(1),
r.rotate(P[1],G.x+G.width/2,G.y+G.height/2),f+=P[1]):4==K&&(S?(C=O.x(P[2],P[3]),D=O.y(P[2],P[3]),r.rotate(P[1],C,D)):r.rotate(P[1],P[2],P[3]),f+=P[1]):"s"==I?2==K||3==K?(G=G||d.getBBox(1),r.scale(P[1],P[K-1],G.x+G.width/2,G.y+G.height/2),u*=P[1],n*=P[K-1]):5==K&&(S?(C=O.x(P[3],P[4]),D=O.y(P[3],P[4]),r.scale(P[1],P[2],C,D)):r.scale(P[1],P[2],P[3],P[4]),u*=P[1],n*=P[2]):"m"==I&&7==K&&r.add(P[1],P[2],P[3],P[4],P[5],P[6]);v.dirtyT=1;d.matrix=r}d.matrix=r;v.sx=u;v.sy=n;v.deg=f;v.dx=m=r.e;v.dy=r=r.f;1==
u&&1==n&&!f&&v.bbox?(v.bbox.x+=+m,v.bbox.y+=+r):v.dirtyT=1}),Ac=function(a){var c=a[0];switch(c.toLowerCase()){case "t":return[c,0,0];case "m":return[c,1,0,0,1,0,0];case "r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case "s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1]}},Sc=a._equaliseTransform=function(d,c){c=sa(c).replace(/\.{3}|\u2026/g,d);d=a.parseTransformString(d)||[];c=a.parseTransformString(c)||[];for(var e,f,m,r,u=na(d.length,c.length),n=[],v=[],w=0;u>w;w++){if(m=d[w]||Ac(c[w]),
r=c[w]||Ac(m),m[0]!=r[0]||"r"==m[0].toLowerCase()&&(m[2]!=r[2]||m[3]!=r[3])||"s"==m[0].toLowerCase()&&(m[3]!=r[3]||m[4]!=r[4]))return;n[w]=[];v[w]=[];e=0;for(f=na(m.length,r.length);f>e;e++)e in m&&(n[w][e]=m[e]),e in r&&(v[w][e]=r[e])}return{from:n,to:v}};a._getContainer=function(d,c,e,f){var m;return m=null!=f||a.is(d,"object")?d:S.doc.getElementById(d),null!=m?m.tagName?null==c?{container:m,width:m.style.pixelWidth||m.offsetWidth,height:m.style.pixelHeight||m.offsetHeight}:{container:m,width:c,
height:e}:{container:1,x:d,y:c,width:e,height:f}:void 0};a.pathToRelative=ac;a._engine={};a.path2curve=Bb;a.matrix=function(a,c,e,f,m,r){return new A(a,c,e,f,m,r)};(function(d){function c(a){return a[0]*a[0]+a[1]*a[1]}function e(a){var d=Y.sqrt(c(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}d.add=function(a,d,c,e,l,f){var m=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];d=[[a,c,l],[d,e,f],[0,0,1]];a&&a instanceof A&&(d=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(c=0;3>
c;c++){for(e=l=0;3>e;e++)l+=u[a][e]*d[e][c];m[a][c]=l}this.a=m[0][0];this.b=m[1][0];this.c=m[0][1];this.d=m[1][1];this.e=m[0][2];this.f=m[1][2]};d.invert=function(){var a=this.a*this.d-this.b*this.c;return new A(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};d.clone=function(){return new A(this.a,this.b,this.c,this.d,this.e,this.f)};d.translate=function(a,d){this.add(1,0,0,1,a,d)};d.scale=function(a,d,c,e){null==d&&(d=a);(c||e)&&this.add(1,
0,0,1,c,e);this.add(a,0,0,d,0,0);(c||e)&&this.add(1,0,0,1,-c,-e)};d.rotate=function(d,c,e){d=a.rad(d);c=c||0;e=e||0;var l=+Y.cos(d).toFixed(9);d=+Y.sin(d).toFixed(9);this.add(l,d,-d,l,c,e);this.add(1,0,0,1,-c,-e)};d.x=function(a,d){return a*this.a+d*this.c+this.e};d.y=function(a,d){return a*this.b+d*this.d+this.f};d.get=function(a){return+this[sa.fromCharCode(97+a)].toFixed(4)};d.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+
")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};d.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};d.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};d.split=function(){var d={};d.dx=this.e;d.dy=this.f;var f=[[this.a,this.c],[this.b,this.d]];d.scalex=Y.sqrt(c(f[0]));e(f[0]);d.shear=f[0][0]*f[1][0]+
f[0][1]*f[1][1];f[1]=[f[1][0]-f[0][0]*d.shear,f[1][1]-f[0][1]*d.shear];d.scaley=Y.sqrt(c(f[1]));e(f[1]);d.shear/=d.scaley;var m=-f[0][1],f=f[1][1];return 0>f?(d.rotate=a.deg(Y.acos(f)),0>m&&(d.rotate=360-d.rotate)):d.rotate=a.deg(Y.asin(m)),d.isSimple=!(+d.shear.toFixed(9)||d.scalex.toFixed(9)!=d.scaley.toFixed(9)&&d.rotate),d.isSuperSimple=!+d.shear.toFixed(9)&&d.scalex.toFixed(9)==d.scaley.toFixed(9)&&!d.rotate,d.noRotation=!+d.shear.toFixed(9)&&!d.rotate,d};d.toTransformString=function(a){a=a||
this[pa]();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(A.prototype);var ec=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);D.safari="Apple Computer, Inc."==navigator.vendor&&(ec&&4>ec[1]||"iP"==
navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&ec&&8>ec[1]?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:Id;for(var Tc=function(){this.returnValue=!1},Jd=function(){return this.originalEvent.preventDefault()},Uc=function(){this.cancelBubble=!0},Kd=function(){return this.originalEvent.stopPropagation()},Vc=function(a){return{x:a.clientX+(S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft),y:a.clientY+
(S.doc.documentElement.scrollTop||S.doc.body.scrollTop)}},fc=function(){return S.doc.addEventListener?function(a,c,e,f){var m=function(a){var d=Vc(a);return e.call(f,a,d.x,d.y)};(a.addEventListener(c,m,!1),Pa&&ab[c])&&a.addEventListener(ab[c],function(c){for(var l=Vc(c),m=c,u=0,n=c.targetTouches&&c.targetTouches.length;n>u;u++)if(c.targetTouches[u].target==a){c=c.targetTouches[u];c.originalEvent=m;c.preventDefault=Jd;c.stopPropagation=Kd;break}return e.call(f,c,l.x,l.y)},!1);return function(){return a.removeEventListener(c,
m,!1),Pa&&ab[c]&&a.removeEventListener(ab[c],m,!1),!0}}:S.doc.attachEvent?function(a,c,e,f){var m=function(a){a=a||S.win.event;var d=a.clientX+(S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft),c=a.clientY+(S.doc.documentElement.scrollTop||S.doc.body.scrollTop);return a.preventDefault=a.preventDefault||Tc,a.stopPropagation=a.stopPropagation||Uc,e.call(f,a,d,c)};a.attachEvent("on"+c,m);return function(){return a.detachEvent("on"+c,m),!0}}:void 0}(),db=[],Qb=function(a){for(var c,e=a.clientX,
h=a.clientY,m=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,u=db.length;u--;){if(c=db[u],Pa&&a.touches)for(var n,v=a.touches.length;v--;){if(n=a.touches[v],n.identifier==c.el._drag.id){e=n.clientX;h=n.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var w=c.el.node,x=w.nextSibling,z=w.parentNode,A=w.style.display;S.win.opera&&z.removeChild(w);w.style.display="none";v=c.el.paper.getElementByPoint(e,
h);w.style.display=A;S.win.opera&&(x?z.insertBefore(w,x):z.appendChild(w));v&&f("raphael.drag.over."+c.el.id,c.el,v);e+=r;h+=m;f("raphael.drag.move."+c.el.id,c.move_scope||c.el,e-c.el._drag.x,h-c.el._drag.y,e,h,a)}},gc=function(d){a.unmousemove(Qb).unmouseup(gc);for(var c,e=db.length;e--;)c=db[e],c.el._drag={},f("raphael.drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,d);db=[]},la=a.el={},Yc=Sa.length;Yc--;)(function(d){a[d]=la[d]=function(c,e){return a.is(c,"function")&&(this.events=
this.events||[],this.events.push({name:d,f:c,unbind:fc(this.shape||this.node||S.doc,d,c,e||this)})),this};a["un"+d]=la["un"+d]=function(c){for(var e=this.events||[],f=e.length;f--;)e[f].name!=d||!a.is(c,"undefined")&&e[f].f!=c||(e[f].unbind(),e.splice(f,1),!e.length&&delete this.events);return this}})(Sa[Yc]);la.data=function(d,c){var e=ib[this.id]=ib[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(a.is(d,"object")){for(var h in d)d[ga](h)&&this.data(h,d[h]);return this}return f("raphael.data.get."+
this.id,this,e[d],d),e[d]}return e[d]=c,f("raphael.data.set."+this.id,this,c,d),this};la.removeData=function(a){return null==a?ib[this.id]={}:ib[this.id]&&delete ib[this.id][a],this};la.getData=function(){return m(ib[this.id]||{})};la.hover=function(a,c,e,f){return this.mouseover(a,e).mouseout(c,f||e)};la.unhover=function(a,c){return this.unmouseover(a).unmouseout(c)};var rb=[];la.drag=function(d,c,e,h,m,r){function u(n){(n.originalEvent||n).preventDefault();var v=S.doc.documentElement.scrollTop||
S.doc.body.scrollTop,w=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=n.clientX+w;this._drag.y=n.clientY+v;this._drag.id=n.identifier;!db.length&&a.mousemove(Qb).mouseup(gc);db.push({el:this,move_scope:h,start_scope:m,end_scope:r});c&&f.on("raphael.drag.start."+this.id,c);d&&f.on("raphael.drag.move."+this.id,d);e&&f.on("raphael.drag.end."+this.id,e);f("raphael.drag.start."+this.id,m||h||this,n.clientX+w,n.clientY+v,n)}return this._drag={},rb.push({el:this,start:u}),this.mousedown(u),
this};la.onDragOver=function(a){a?f.on("raphael.drag.over."+this.id,a):f.unbind("raphael.drag.over."+this.id)};la.undrag=function(){for(var d=rb.length;d--;)rb[d].el==this&&(this.unmousedown(rb[d].start),rb.splice(d,1),f.unbind("raphael.drag.*."+this.id));!rb.length&&a.unmousemove(Qb).unmouseup(gc);db=[]};D.circle=function(d,c,e){d=a._engine.circle(this,d||0,c||0,e||0);return this.__set__&&this.__set__.push(d),d};D.rect=function(d,c,e,f,m){d=a._engine.rect(this,d||0,c||0,e||0,f||0,m||0);return this.__set__&&
this.__set__.push(d),d};D.ellipse=function(d,c,e,f){d=a._engine.ellipse(this,d||0,c||0,e||0,f||0);return this.__set__&&this.__set__.push(d),d};D.path=function(d){d&&!a.is(d,"string")&&!a.is(d[0],Fa)&&(d+="");var c=a._engine.path(a.format[$](a,arguments),this);return this.__set__&&this.__set__.push(c),c};D.image=function(d,c,e,f,m){d=a._engine.image(this,d||"about:blank",c||0,e||0,f||0,m||0);return this.__set__&&this.__set__.push(d),d};D.text=function(d,c,e){d=a._engine.text(this,d||0,c||0,sa(e));
return this.__set__&&this.__set__.push(d),d};D.set=function(d){!a.is(d,"array")&&(d=Array.prototype.splice.call(arguments,0,arguments.length));var c=new hb(d);return this.__set__&&this.__set__.push(c),c.paper=this,c.type="set",c};D.setStart=function(a){this.__set__=a||this.set()};D.setFinish=function(){var a=this.__set__;return delete this.__set__,a};D.setSize=function(d,c){return a._engine.setSize.call(this,d,c)};D.setViewBox=function(d,c,e,f,m){return a._engine.setViewBox.call(this,d,c,e,f,m)};
D.top=D.bottom=null;D.raphael=a;D.getElementByPoint=function(a,c){var e,f,m=this.canvas,r=S.doc.elementFromPoint(a,c);if(S.win.opera&&"svg"==r.tagName){f=m.getBoundingClientRect();e=m.ownerDocument;var u=e.body,n=e.documentElement;e=f.top+(S.win.pageYOffset||n.scrollTop||u.scrollTop)-(n.clientTop||u.clientTop||0);f=f.left+(S.win.pageXOffset||n.scrollLeft||u.scrollLeft)-(n.clientLeft||u.clientLeft||0);u=m.createSVGRect();u.x=a-f;u.y=c-e;u.width=u.height=1;e=m.getIntersectionList(u,null);e.length&&
(r=e[e.length-1])}if(!r)return null;for(;r.parentNode&&r!=m.parentNode&&!r.raphael;)r=r.parentNode;return r==this.canvas.parentNode&&(r=m),r&&r.raphael?this.getById(r.raphaelid):null};D.getElementsByBBox=function(c){var f=this.set();return this.forEach(function(e){a.isBBoxIntersect(e.getBBox(),c)&&f.push(e)}),f};D.getById=function(a){for(var c=this.bottom;c;){if(c.id==a)return c;c=c.next}return null};D.forEach=function(a,c){for(var e=this.bottom;e&&!1!==a.call(c,e);)e=e.next;return this};D.getElementsByPoint=
function(a,c){var e=this.set();return this.forEach(function(f){f.isPointInside(a,c)&&e.push(f)}),e};la.isPointInside=function(c,f){var e=this.realPath=this.realPath||zb[this.type](this);return a.isPointInsidePath(e,c,f)};la.getBBox=function(a){if(this.removed)return{};var c=this._;return a?((c.dirty||!c.bboxwt)&&(this.realPath=zb[this.type](this),c.bboxwt=Mb(this.realPath),c.bboxwt.toString=x,c.dirty=0),c.bboxwt):((c.dirty||c.dirtyT||!c.bbox)&&((c.dirty||!this.realPath)&&(c.bboxwt=0,this.realPath=
zb[this.type](this)),c.bbox=Mb(vc(this.realPath,this.matrix)),c.bbox.toString=x,c.dirty=c.dirtyT=0),c.bbox)};la.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a};la.glow=function(a){if("text"==this.type)return null;a=a||{};var c=(a.width||10)+(+this.attr("stroke-width")||1),e=a.fill||!1,f=a.opacity||0.5,m=a.offsetx||0,r=a.offsety||0;a=a.color||"#000";for(var u=c/2,n=this.paper,v=n.set(),w=this.realPath||zb[this.type](this),
w=this.matrix?vc(w,this.matrix):w,x=1;u+1>x;x++)v.push(n.path(w).attr({stroke:a,fill:e?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(c/u*x).toFixed(3),opacity:+(f/u).toFixed(3)}));return v.insertBefore(this).translate(m,r)};var eb=function(c,f,e,h,m,r,u,n,v){return null==v?z(c,f,e,h,m,r,u,n):a.findDotsAtSegment(c,f,e,h,m,r,u,n,C(c,f,e,h,m,r,u,n,v))},hc=function(c,f){return function(e,h,m){e=Bb(e);for(var r,u,n,v,w,x="",z={},A=0,C=0,G=e.length;G>C;C++){if(n=e[C],"M"==
n[0])r=+n[1],u=+n[2];else{if(v=eb(r,u,n[1],n[2],n[3],n[4],n[5],n[6]),A+v>h){if(f&&!z.start){if(w=eb(r,u,n[1],n[2],n[3],n[4],n[5],n[6],h-A),x+=["C"+w.start.x,w.start.y,w.m.x,w.m.y,w.x,w.y],m)return x;z.start=x;x=["M"+w.x,w.y+"C"+w.n.x,w.n.y,w.end.x,w.end.y,n[5],n[6]].join();A+=v;r=+n[5];u=+n[6];continue}if(!c&&!f)return w=eb(r,u,n[1],n[2],n[3],n[4],n[5],n[6],h-A),{x:w.x,y:w.y,alpha:w.alpha}}A+=v;r=+n[5];u=+n[6]}x+=n.shift()+n}return z.end=x,w=c?A:f?z:a.findDotsAtSegment(r,u,n[0],n[1],n[2],n[3],n[4],
n[5],1),w.alpha&&(w={x:w.x,y:w.y,alpha:w.alpha}),w}},Bc=hc(1),Zc=hc(),Cc=hc(0,1);a.getTotalLength=Bc;a.getPointAtLength=Zc;a.getSubpath=function(a,c,e){if(1E-6>this.getTotalLength(a)-e)return Cc(a,c).end;a=Cc(a,e,1);return c?Cc(a,c).end:a};la.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():Bc(a)};la.getPointAtLength=function(a){var c=this.getPath();if(c)return Zc(c,a)};la.getPath=function(){var c,f=a._getPath[this.type];if("text"!=this.type&&
"set"!=this.type)return f&&(c=f(this)),c};la.getSubpath=function(c,f){var e=this.getPath();if(e)return a.getSubpath(e,c,f)};var Ma=a.easing_formulas={linear:function(a){return a},"<":function(a){return Da(a,1.7)},">":function(a){return Da(a,0.48)},"<>":function(a){var c=0.48-a/1.04,e=Y.sqrt(0.1734+c*c);a=e-c;a=Da(za(a),1/3)*(0>a?-1:1);c=-e-c;c=Da(za(c),1/3)*(0>c?-1:1);a=a+c+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*
a+1.70158)+1},elastic:function(a){return a==!!a?a:Da(2,-10*a)*Y.sin(2*(a-0.075)*Ea/0.3)+1},bounce:function(a){var c;return 1/2.75>a?c=7.5625*a*a:2/2.75>a?(a-=1.5/2.75,c=7.5625*a*a+0.75):2.5/2.75>a?(a-=2.25/2.75,c=7.5625*a*a+0.9375):(a-=2.625/2.75,c=7.5625*a*a+0.984375),c}};Ma.easeIn=Ma["ease-in"]=Ma["<"];Ma.easeOut=Ma["ease-out"]=Ma[">"];Ma.easeInOut=Ma["ease-in-out"]=Ma["<>"];Ma["back-in"]=Ma.backIn;Ma["back-out"]=Ma.backOut;var ca=[],gb=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||
c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(a){setTimeout(a,16)},Rb=function(){for(var c=+new Date,l=0;ca.length>l;l++){var e=ca[l];if(!e.el.removed&&!e.paused){var h,m,r=c-e.start,n=e.ms,u=e.easing,v=e.from,w=e.diff,x=e.to,z=(e.t,e.el),A={},C={};if(e.initstatus?(r=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*n,e.status=e.initstatus,delete e.initstatus,e.stop&&ca.splice(l--,1)):e.status=(e.prev+(e.percent-e.prev)*(r/n))/e.anim.top,!(0>r))if(n>r){var G=u(r/n),D;for(D in v)if(v[ga](D)){switch(Ib[D]){case Aa:h=
+v[D]+G*n*w[D];break;case "colour":h="rgb("+[Dc(Hb(v[D].r+G*n*w[D].r)),Dc(Hb(v[D].g+G*n*w[D].g)),Dc(Hb(v[D].b+G*n*w[D].b))].join()+")";break;case "path":h=[];r=0;for(u=v[D].length;u>r;r++){h[r]=[v[D][r][0]];x=1;for(C=v[D][r].length;C>x;x++)h[r][x]=+v[D][r][x]+G*n*w[D][r][x];h[r]=h[r].join(va)}h=h.join(va);break;case "transform":if(w[D].real){h=[];r=0;for(u=v[D].length;u>r;r++){h[r]=[v[D][r][0]];x=1;for(C=v[D][r].length;C>x;x++)h[r][x]=v[D][r][x]+G*n*w[D][r][x]}}else h=function(a){return+v[D][a]+G*
n*w[D][a]},h=[["m",h(0),h(1),h(2),h(3),h(4),h(5)]];break;case "csv":if("clip-rect"==D){h=[];for(r=4;r--;)h[r]=+v[D][r]+G*n*w[D][r]}break;default:u=[][ea](v[D]);h=[];for(r=z.paper.customAttributes[D].length;r--;)h[r]=+u[r]+G*n*w[D][r]}A[D]=h}z.attr(A);(function(a,c,d){setTimeout(function(){f("raphael.anim.frame."+a,c,d)})})(z.id,z,e.anim)}else{if(function(c,d,e){setTimeout(function(){f("raphael.anim.frame."+d.id,d,e);f("raphael.anim.finish."+d.id,d,e);a.is(c,"function")&&c.call(d)})}(e.callback,z,
e.anim),z.attr(x),ca.splice(l--,1),1<e.repeat&&!e.next){for(m in x)x[ga](m)&&(C[m]=e.totalOrigin[m]);e.el.attr(C);T(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&T(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}a.svg&&z&&z.paper&&z.paper.safari();ca.length&&gb(Rb)},Dc=function(a){return 255<a?255:0>a?0:a};la.animateWith=function(c,f,e,h,m,r){if(this.removed)return r&&r.call(this),this;e=e instanceof w?e:a.animation(e,h,m,r);T(e,this,e.percents[0],null,this.attr());
e=0;for(h=ca.length;h>e;e++)if(ca[e].anim==f&&ca[e].el==c){ca[h-1].start=ca[e].start;break}return this};la.onAnimation=function(a){return a?f.on("raphael.anim.frame."+this.id,a):f.unbind("raphael.anim.frame."+this.id),this};w.prototype.delay=function(a){var c=new w(this.anim,this.ms);return c.times=this.times,c.del=+a||0,c};w.prototype.repeat=function(a){var c=new w(this.anim,this.ms);return c.del=this.del,c.times=Y.floor(na(a,0))||1,c};a.animation=function(c,f,e,h){if(c instanceof w)return c;(a.is(e,
"function")||!e)&&(h=h||e||null,e=null);c=Object(c);f=+f||0;var m,r,n={};for(r in c)c[ga](r)&&ra(r)!=r&&ra(r)+"%"!=r&&(m=!0,n[r]=c[r]);return m?(e&&(n.easing=e),h&&(n.callback=h),new w({100:n},f)):new w(c,f)};la.animate=function(c,f,e,h){if(this.removed)return h&&h.call(this),this;c=c instanceof w?c:a.animation(c,f,e,h);return T(c,this,c.percents[0],null,this.attr()),this};la.setTime=function(a,c){return a&&null!=c&&this.status(a,qa(c,a.ms)/a.ms),this};la.status=function(a,c){var e,f,m=[],r=0;if(null!=
c)return T(a,this,-1,qa(c,1)),this;for(e=ca.length;e>r;r++)if(f=ca[r],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;m.push({anim:f.anim,status:f.status})}return a?0:m};la.pause=function(a){for(var c=0;ca.length>c;c++)ca[c].el.id!=this.id||a&&ca[c].anim!=a||!1!==f("raphael.anim.pause."+this.id,this,ca[c].anim)&&(ca[c].paused=!0);return this};la.resume=function(a){for(var c=0;ca.length>c;c++)if(ca[c].el.id==this.id&&(!a||ca[c].anim==a)){var e=ca[c];!1!==f("raphael.anim.resume."+this.id,this,
e.anim)&&(delete e.paused,this.status(e.anim,e.status))}return this};la.stop=function(a){for(var c=0;ca.length>c;c++)ca[c].el.id!=this.id||a&&ca[c].anim!=a||!1!==f("raphael.anim.stop."+this.id,this,ca[c].anim)&&ca.splice(c--,1);return this};f.on("raphael.remove",R);f.on("raphael.clear",R);la.toString=function(){return"Rapha\u00ebl\u2019s object"};var hb=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var c=0,e=a.length;e>c;c++)!a[c]||a[c].constructor!=la.constructor&&a[c].constructor!=
hb||(this[this.items.length]=this.items[this.items.length]=a[c],this.length++)},Ga=hb.prototype;Ga.push=function(){for(var a,c,e=0,f=arguments.length;f>e;e++)a=arguments[e],!a||a.constructor!=la.constructor&&a.constructor!=hb||(c=this.items.length,this[c]=this.items[c]=a,this.length++);return this};Ga.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};Ga.forEach=function(a,c){for(var e=0,f=this.items.length;f>e&&!1!==a.call(c,this.items[e],e);e++);return this};for(var ic in la)la[ga](ic)&&
(Ga[ic]=function(a){return function(){var c=arguments;return this.forEach(function(e){e[a][$](e,c)})}}(ic));return Ga.attr=function(c,f){if(c&&a.is(c,Fa)&&a.is(c[0],"object"))for(var e=0,h=c.length;h>e;e++)this.items[e].attr(c[e]);else{e=0;for(h=this.items.length;h>e;e++)this.items[e].attr(c,f)}return this},Ga.clear=function(){for(;this.length;)this.pop()},Ga.splice=function(a,c){a=0>a?na(this.length+a,0):a;c=na(0,qa(this.length-a,c));var e,f=[],m=[],r=[];for(e=2;arguments.length>e;e++)r.push(arguments[e]);
for(e=0;c>e;e++)m.push(this[a+e]);for(;this.length-a>e;e++)f.push(this[a+e]);var n=r.length;for(e=0;n+f.length>e;e++)this.items[a+e]=this[a+e]=n>e?r[e]:f[e-n];for(e=this.items.length=this.length-=c-n;this[e];)delete this[e++];return new hb(m)},Ga.exclude=function(a){for(var c=0,e=this.length;e>c;c++)if(this[c]==a)return this.splice(c,1),!0},Ga.animate=function(c,f,e,h){(a.is(e,"function")||!e)&&(h=e||null);var m,r=this.items.length,n=r,u=this;if(!r)return this;h&&(m=function(){!--r&&h.call(u)});e=
a.is(e,"string")?e:m;f=a.animation(c,f,e,m);for(c=this.items[--n].animate(f);n--;)this.items[n]&&!this.items[n].removed&&this.items[n].animateWith(c,f,f),this.items[n]&&!this.items[n].removed||r--;return this},Ga.insertAfter=function(a){for(var c=this.items.length;c--;)this.items[c].insertAfter(a);return this},Ga.getBBox=function(){for(var a=[],c=[],e=[],f=[],m=this.items.length;m--;)if(!this.items[m].removed){var r=this.items[m].getBBox();a.push(r.x);c.push(r.y);e.push(r.x+r.width);f.push(r.y+r.height)}return a=
qa[$](0,a),c=qa[$](0,c),e=na[$](0,e),f=na[$](0,f),{x:a,y:c,x2:e,y2:f,width:e-a,height:f-c}},Ga.clone=function(a){a=this.paper.set();for(var c=0,e=this.items.length;e>c;c++)a.push(this.items[c].clone());return a},Ga.toString=function(){return"Rapha\u00ebl\u2018s set"},Ga.glow=function(a){var c=this.paper.set();return this.forEach(function(e){e=e.glow(a);null!=e&&e.forEach(function(a){c.push(a)})}),c},Ga.isPointInside=function(a,c){var e=!1;return this.forEach(function(f){return f.isPointInside(a,c)?
(console.log("runned"),e=!0,!1):void 0}),e},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var c={w:a.w,face:{},glyphs:{}},e=a.face["font-family"],f;for(f in a.face)a.face[ga](f)&&(c.face[f]=a.face[f]);if(this.fonts[e]?this.fonts[e].push(c):this.fonts[e]=[c],!a.svg){c.face["units-per-em"]=Ia(a.face["units-per-em"],10);for(var m in a.glyphs)if(a.glyphs[ga](m)&&(e=a.glyphs[m],c.glyphs[m]={w:e.w,k:{},d:e.d&&"M"+e.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",
r:"l",v:"c"}[a]||"M"})+"z"},e.k))for(var r in e.k)e[ga](r)&&(c.glyphs[m].k[r]=e.k[r])}return a},D.getFont=function(c,f,e,h){if(h=h||"normal",e=e||"normal",f=+f||{normal:400,bold:700,lighter:300,bolder:800}[f]||400,a.fonts){var m=a.fonts[c];if(!m){c=RegExp("(^|\\s)"+c.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var r in a.fonts)if(a.fonts[ga](r)&&c.test(r)){m=a.fonts[r];break}}var n;if(m){r=0;for(c=m.length;c>r&&(n=m[r],n.face["font-weight"]!=f||n.face["font-style"]!=e&&n.face["font-style"]||
n.face["font-stretch"]!=h);r++);}return n}},D.print=function(c,f,e,h,m,r,n,u){r=r||"middle";n=na(qa(n||0,1),-1);u=na(qa(u||1,3),1);e=sa(e)[pa]("");var v=0,w=0,x="";if(a.is(h,"string")&&(h=this.getFont(h)),h){m=(m||16)/h.face["units-per-em"];var z=h.face.bbox[pa](fa),A=+z[0],C=z[3]-z[1],D=0;r=+z[1]+("baseline"==r?C+ +h.face.descent:C/2);for(var z=0,G=e.length;G>z;z++){if("\n"==e[z])w=I=v=0,D+=C*u;else var K=w&&h.glyphs[e[z-1]]||{},I=h.glyphs[e[z]],v=v+(w?(K.w||h.w)+(K.k&&K.k[e[z]]||0)+h.w*n:0),w=1;
I&&I.d&&(x+=a.transformPath(I.d,["t",v*m,D*m,"s",m,m,A,r,"t",(c-A)/m,(f-r)/m]))}}return this.path(x).attr({fill:"#000",stroke:"none"})},D.add=function(c){if(a.is(c,"array"))for(var f,e=this.set(),h=0,m=c.length;m>h;h++)f=c[h]||{},oa[ga](f.type)&&e.push(this[f.type]().attr(f));return e},a.format=function(c,f){var e=a.is(f,Fa)?[0][ea](f):arguments;return c&&a.is(c,"string")&&e.length-1&&(c=c.replace(Ba,function(a,c){return null==e[++c]?"":e[c]})),c||""},a.fullfill=function(){var a=/\{([^\}]+)\}/g,c=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(a,d,e){var f=e;return d.replace(c,function(a,c,d,e,l){c=c||e;f&&(c in f&&(f=f[c]),"function"==typeof f&&l&&(f=f()))}),f=(null==f||f==e?a:f)+""};return function(c,f){return(c+"").replace(a,function(a,c){return e(a,c,f)})}}(),a.ninja=function(){return Ka?S.win.Raphael=Qa:delete Raphael,a},a.st=Ga,function(c,f,e){function h(){/in/.test(c.readyState)?setTimeout(h,9):a.eve("raphael.DOMload")}null==c.readyState&&c.addEventListener&&(c.addEventListener(f,
e=function(){c.removeEventListener(f,e,!1);c.readyState="complete"},!1),c.readyState="loading");h()}(document,"DOMContentLoaded"),f.on("raphael.DOMload",function(){K=!0}),function(){if(a.svg){var c=String,f=parseFloat,e=parseInt,h=Math,m=h.max,r=h.abs,n=h.pow,u=/[, ]+/,v=a.eve,w={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},x={};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+
this.version};var z=function(e,f){if(f){"string"==typeof e&&(e=z(e));for(var h in f)f.hasOwnProperty(h)&&("xlink:"==h.substring(0,6)?e.setAttributeNS("http://www.w3.org/1999/xlink",h.substring(6),c(f[h])):e.setAttribute(h,c(f[h])))}else e=a._g.doc.createElementNS("http://www.w3.org/2000/svg",e),e.style&&(e.style.webkitTapHighlightColor="rgba(0,0,0,0)");return e},A=function(e,u){var v="linear",B=e.id+u,H=0.5,N=0.5,Q=e.node,w=e.paper,x=Q.style,A=a._g.doc.getElementById(B);if(!A){if(u=c(u).replace(a._radial_gradient,
function(a,c,d){if(v="radial",c&&d)H=f(c),N=f(d),a=2*(0.5<N)-1,0.25<n(H-0.5,2)+n(N-0.5,2)&&(N=h.sqrt(0.25-n(H-0.5,2))*a+0.5)&&0.5!=N&&(N=N.toFixed(5)-1E-5*a);return""}),u=u.split(/\s*\-\s*/),"linear"==v){A=u.shift();if(A=-f(A),isNaN(A))return null;var C=[0,0,h.cos(a.rad(A)),h.sin(a.rad(A))],A=1/(m(r(C[2]),r(C[3]))||1);C[2]*=A;C[3]*=A;0>C[2]&&(C[0]=-C[2],C[2]=0);0>C[3]&&(C[1]=-C[3],C[3]=0)}var D=a._parseDots(u);if(!D)return null;if(B=B.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&B!=e.gradient.id&&(w.defs.removeChild(e.gradient),
delete e.gradient),!e.gradient){A=z(v+"Gradient",{id:B});e.gradient=A;z(A,"radial"==v?{fx:H,fy:N}:{x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientTransform:e.matrix.invert()});w.defs.appendChild(A);w=0;for(C=D.length;C>w;w++)A.appendChild(z("stop",{offset:D[w].offset?D[w].offset:w?"100%":"0%","stop-color":D[w].color||"#fff"}))}}return z(Q,{fill:"url(#"+B+")",opacity:1,"fill-opacity":1}),x.fill="",x.opacity=1,x.fillOpacity=1,1},C=function(a){var c=a.getBBox(1);z(a.pattern,{patternTransform:a.matrix.invert()+
" translate("+c.x+","+c.y+")"})},D=function(e,f,h){if("path"==e.type){for(var l,m,r,n,u,v=c(f).toLowerCase().split("-"),y=e.paper,A=h?"end":"start",C=e.node,D=e.attrs,G=D["stroke-width"],I=v.length,J="classic",K=3,L=3,M=5;I--;)switch(v[I]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":J=v[I];break;case "wide":L=5;break;case "narrow":L=2;break;case "long":K=5;break;case "short":K=2}if("open"==J?(K+=2,L+=2,M+=2,r=1,n=h?4:1,u={fill:"none",stroke:D.stroke}):(n=r=K/2,u=
{fill:D.stroke,stroke:"none"}),e._.arrows?h?(e._.arrows.endPath&&x[e._.arrows.endPath]--,e._.arrows.endMarker&&x[e._.arrows.endMarker]--):(e._.arrows.startPath&&x[e._.arrows.startPath]--,e._.arrows.startMarker&&x[e._.arrows.startMarker]--):e._.arrows={},"none"!=J){v="raphael-marker-"+J;I="raphael-marker-"+A+J+K+L;a._g.doc.getElementById(v)?x[v]++:(y.defs.appendChild(z(z("path"),{"stroke-linecap":"round",d:w[J],id:v})),x[v]=1);var P,O=a._g.doc.getElementById(I);O?(x[I]++,P=O.getElementsByTagName("use")[0]):
(O=z(z("marker"),{id:I,markerHeight:L,markerWidth:K,orient:"auto",refX:n,refY:L/2}),P=z(z("use"),{"xlink:href":"#"+v,transform:(h?"rotate(180 "+K/2+" "+L/2+") ":"")+"scale("+K/M+","+L/M+")","stroke-width":(1/((K/M+L/M)/2)).toFixed(4)}),O.appendChild(P),y.defs.appendChild(O),x[I]=1);z(P,u);r*="diamond"!=J&&"oval"!=J;h?(l=e._.arrows.startdx*G||0,m=a.getTotalLength(D.path)-r*G):(l=r*G,m=a.getTotalLength(D.path)-(e._.arrows.enddx*G||0));u={};u["marker-"+A]="url(#"+I+")";(m||l)&&(u.d=a.getSubpath(D.path,
l,m));z(C,u);e._.arrows[A+"Path"]=v;e._.arrows[A+"Marker"]=I;e._.arrows[A+"dx"]=r;e._.arrows[A+"Type"]=J;e._.arrows[A+"String"]=f}else h?(l=e._.arrows.startdx*G||0,m=a.getTotalLength(D.path)-l):(l=0,m=a.getTotalLength(D.path)-(e._.arrows.enddx*G||0)),e._.arrows[A+"Path"]&&z(C,{d:a.getSubpath(D.path,l,m)}),delete e._.arrows[A+"Path"],delete e._.arrows[A+"Marker"],delete e._.arrows[A+"dx"],delete e._.arrows[A+"Type"],delete e._.arrows[A+"String"];for(u in x)x.hasOwnProperty(u)&&!x[u]&&(e=a._g.doc.getElementById(u))&&
e.parentNode.removeChild(e)}},G={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},K=function(a,e,f){if(e=G[c(e).toLowerCase()]){var h=a.attrs["stroke-width"]||"1";f={round:h,square:h,butt:0}[a.attrs["stroke-linecap"]||f["stroke-linecap"]]||0;for(var l=[],m=e.length;m--;)l[m]=e[m]*h+(m%2?1:-1)*f;z(a.node,{"stroke-dasharray":l.join(",")})}},I=function(f,h){var l=f.node,n=f.attrs,H=l.style.visibility;
l.style.visibility="hidden";for(var v in h)if(h.hasOwnProperty(v)&&a._availableAttrs.hasOwnProperty(v)){var w=h[v];switch(n[v]=w,v){case "blur":f.blur(w);break;case "href":case "title":case "target":var x=l.parentNode;if("a"!=x.tagName.toLowerCase()){var G=z("a");x.insertBefore(G,l);G.appendChild(l);x=G}"target"==v?x.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==w?"new":w):x.setAttributeNS("http://www.w3.org/1999/xlink",v,w);break;case "cursor":l.style.cursor=w;break;case "transform":f.transform(w);
break;case "arrow-start":D(f,w);break;case "arrow-end":D(f,w,1);break;case "clip-rect":x=c(w).split(u);if(4==x.length){f.clip&&f.clip.parentNode.parentNode.removeChild(f.clip.parentNode);var G=z("clipPath"),I=z("rect");G.id=a.createUUID();z(I,{x:x[0],y:x[1],width:x[2],height:x[3]});G.appendChild(I);f.paper.defs.appendChild(G);z(l,{"clip-path":"url(#"+G.id+")"});f.clip=I}if(!w&&(w=l.getAttribute("clip-path")))(w=a._g.doc.getElementById(w.replace(/(^url\(#|\)$)/g,"")))&&w.parentNode.removeChild(w),
z(l,{"clip-path":""}),delete f.clip;break;case "path":"path"==f.type&&(z(l,{d:w?n.path=a._pathToAbsolute(w):"M0,0"}),f._.dirty=1,f._.arrows&&("startString"in f._.arrows&&D(f,f._.arrows.startString),"endString"in f._.arrows&&D(f,f._.arrows.endString,1)));break;case "width":if(l.setAttribute(v,w),f._.dirty=1,!n.fx)break;v="x";w=n.x;case "x":n.fx&&(w=-n.x-(n.width||0));case "rx":if("rx"==v&&"rect"==f.type)break;case "cx":l.setAttribute(v,w);f.pattern&&C(f);f._.dirty=1;break;case "height":if(l.setAttribute(v,
w),f._.dirty=1,!n.fy)break;v="y";w=n.y;case "y":n.fy&&(w=-n.y-(n.height||0));case "ry":if("ry"==v&&"rect"==f.type)break;case "cy":l.setAttribute(v,w);f.pattern&&C(f);f._.dirty=1;break;case "r":"rect"==f.type?z(l,{rx:w,ry:w}):l.setAttribute(v,w);f._.dirty=1;break;case "src":"image"==f.type&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",w);break;case "stroke-width":(1!=f._.sx||1!=f._.sy)&&(w/=m(r(f._.sx),r(f._.sy))||1);f.paper._vbSize&&(w*=f.paper._vbSize);l.setAttribute(v,w);n["stroke-dasharray"]&&
K(f,n["stroke-dasharray"],h);f._.arrows&&("startString"in f._.arrows&&D(f,f._.arrows.startString),"endString"in f._.arrows&&D(f,f._.arrows.endString,1));break;case "stroke-dasharray":K(f,w,h);break;case "fill":var J=c(w).match(a._ISURL);if(J){var G=z("pattern"),M=z("image");G.id=a.createUUID();z(G,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});z(M,{x:0,y:0,"xlink:href":J[1]});G.appendChild(M);(function(c){a._preload(J[1],function(){var a=this.offsetWidth,d=this.offsetHeight;z(c,{width:a,
height:d});z(M,{width:a,height:d});f.paper.safari()})})(G);f.paper.defs.appendChild(G);z(l,{fill:"url(#"+G.id+")"});f.pattern=G;f.pattern&&C(f);break}x=a.getRGB(w);if(x.error){if(("circle"==f.type||"ellipse"==f.type||"r"!=c(w).charAt())&&A(f,w)){if("opacity"in n||"fill-opacity"in n)if(x=a._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,""))){var O=x.getElementsByTagName("stop");z(O[O.length-1],{"stop-opacity":("opacity"in n?n.opacity:1)*("fill-opacity"in n?n["fill-opacity"]:1)})}n.gradient=
w;n.fill="none";break}}else delete h.gradient,delete n.gradient,!a.is(n.opacity,"undefined")&&a.is(h.opacity,"undefined")&&z(l,{opacity:n.opacity}),!a.is(n["fill-opacity"],"undefined")&&a.is(h["fill-opacity"],"undefined")&&z(l,{"fill-opacity":n["fill-opacity"]});x.hasOwnProperty("opacity")&&z(l,{"fill-opacity":1<x.opacity?x.opacity/100:x.opacity});case "stroke":x=a.getRGB(w);l.setAttribute(v,x.hex);"stroke"==v&&x.hasOwnProperty("opacity")&&z(l,{"stroke-opacity":1<x.opacity?x.opacity/100:x.opacity});
"stroke"==v&&f._.arrows&&("startString"in f._.arrows&&D(f,f._.arrows.startString),"endString"in f._.arrows&&D(f,f._.arrows.endString,1));break;case "gradient":("circle"==f.type||"ellipse"==f.type||"r"!=c(w).charAt())&&A(f,w);break;case "opacity":n.gradient&&!n.hasOwnProperty("stroke-opacity")&&z(l,{"stroke-opacity":1<w?w/100:w});case "fill-opacity":if(n.gradient){(x=a._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(O=x.getElementsByTagName("stop"),z(O[O.length-1],{"stop-opacity":w}));
break}default:"font-size"==v&&(w=e(w,10)+"px"),x=v.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),l.style[x]=w,f._.dirty=1,l.setAttribute(v,w)}}S(f,h);l.style.visibility=H},S=function(f,l){if("text"==f.type&&(l.hasOwnProperty("text")||l.hasOwnProperty("font")||l.hasOwnProperty("font-size")||l.hasOwnProperty("x")||l.hasOwnProperty("y"))){var h=f.attrs,m=f.node,r=m.firstChild?e(a._g.doc.defaultView.getComputedStyle(m.firstChild,"").getPropertyValue("font-size"),10):10;if(l.hasOwnProperty("text")){for(h.text=
l.text;m.firstChild;)m.removeChild(m.firstChild);for(var n,u=c(l.text).split("\n"),w=[],v=0,y=u.length;y>v;v++)n=z("tspan"),v&&z(n,{dy:1.2*r,x:h.x}),n.appendChild(a._g.doc.createTextNode(u[v])),m.appendChild(n),w[v]=n}else{w=m.getElementsByTagName("tspan");v=0;for(y=w.length;y>v;v++)v?z(w[v],{dy:1.2*r,x:h.x}):z(w[0],{dy:0})}z(m,{x:h.x,y:h.y});f._.dirty=1;m=f._getBBox();(h=h.y-(m.y+m.height/2))&&a.is(h,"finite")&&z(w[0],{dy:h})}},O=function(c,d){this[0]=this.node=c;c.raphael=!0;this.id=a._oid++;c.raphaelid=
this.id;this.matrix=a.matrix();this.realPath=null;this.paper=d;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},M=a.el;O.prototype=M;M.constructor=O;a._engine.path=function(a,c){var d=z("path");c.canvas&&c.canvas.appendChild(d);d=new O(d,c);return d.type="path",I(d,{fill:"none",stroke:"#000",path:a}),d};M.rotate=function(a,e,h){if(this.removed)return this;if(a=c(a).split(u),
a.length-1&&(e=f(a[1]),h=f(a[2])),a=f(a[0]),null==h&&(e=h),null==e||null==h)h=this.getBBox(1),e=h.x+h.width/2,h=h.y+h.height/2;return this.transform(this._.transform.concat([["r",a,e,h]])),this};M.scale=function(a,e,h,m){if(this.removed)return this;if(a=c(a).split(u),a.length-1&&(e=f(a[1]),h=f(a[2]),m=f(a[3])),a=f(a[0]),null==e&&(e=a),null==m&&(h=m),null==h||null==m)var r=this.getBBox(1);return h=null==h?r.x+r.width/2:h,m=null==m?r.y+r.height/2:m,this.transform(this._.transform.concat([["s",a,e,h,
m]])),this};M.translate=function(a,e){return this.removed?this:(a=c(a).split(u),a.length-1&&(e=f(a[1])),a=f(a[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",a,e]])),this)};M.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&z(this.clip,{transform:this.matrix.invert()}),this.pattern&&C(this),this.node&&z(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy)c=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":c});
return this};M.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this};M.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this};M.remove=function(){if(!this.removed&&this.node.parentNode){var c=this.paper;c.__set__&&c.__set__.exclude(this);v.unbind("raphael.*.*."+this.id);this.gradient&&c.defs.removeChild(this.gradient);a._tear(this,c);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):
this.node.parentNode.removeChild(this.node);for(var d in this)this[d]="function"==typeof this[d]?a._removedFactory(d):null;this.removed=!0}};M._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var c={};try{c=this.node.getBBox()}catch(d){}finally{c=c||{}}return a&&this.hide(),c};M.attr=function(c,d){if(this.removed)return this;if(null==c){var e={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&
delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;f=c.split(u);for(var e={},h=0,l=f.length;l>h;h++)c=f[h],e[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?e:e[f[0]]}if(null==d&&a.is(c,"array")){e={};h=0;for(l=c.length;l>h;h++)e[c[h]]=this.attr(c[h]);
return e}null!=d?(e={},e[c]=d):null!=c&&a.is(c,"object")&&(e=c);for(h in e)v("raphael.attr."+h+"."+this.id,this,e[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(h)&&e.hasOwnProperty(h)&&a.is(this.paper.customAttributes[h],"function"))for(l in f=this.paper.customAttributes[h].apply(this,[].concat(e[h])),this.attrs[h]=e[h],f)f.hasOwnProperty(l)&&(e[l]=f[l]);return I(this,e),this};M.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?
this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var c=this.paper;return c.top!=this&&a._tofront(this,c),this};M.toBack=function(){if(this.removed)return this;var c=this.node.parentNode;return"a"==c.tagName.toLowerCase()?c.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):c.firstChild!=this.node&&c.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper),this.paper,this};M.insertAfter=
function(c){if(this.removed)return this;var d=c.node||c[c.length-1].node;return d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),a._insertafter(this,c,this.paper),this};M.insertBefore=function(c){if(this.removed)return this;var d=c.node||c[0].node;return d.parentNode.insertBefore(this.node,d),a._insertbefore(this,c,this.paper),this};M.blur=function(c){if(0!==+c){var d=z("filter"),e=z("feGaussianBlur");this.attrs.blur=c;d.id=a.createUUID();z(e,{stdDeviation:+c||
1.5});d.appendChild(e);this.paper.defs.appendChild(d);this._blur=d;z(this.node,{filter:"url(#"+d.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};a._engine.circle=function(a,c,d,e){var f=z("circle");a.canvas&&a.canvas.appendChild(f);a=new O(f,a);return a.attrs={cx:c,cy:d,r:e,fill:"none",stroke:"#000"},a.type="circle",z(f,a.attrs),a};a._engine.rect=function(a,c,d,e,f,h){var l=z("rect");
a.canvas&&a.canvas.appendChild(l);a=new O(l,a);return a.attrs={x:c,y:d,width:e,height:f,r:h||0,rx:h||0,ry:h||0,fill:"none",stroke:"#000"},a.type="rect",z(l,a.attrs),a};a._engine.ellipse=function(a,c,d,e,f){var h=z("ellipse");a.canvas&&a.canvas.appendChild(h);a=new O(h,a);return a.attrs={cx:c,cy:d,rx:e,ry:f,fill:"none",stroke:"#000"},a.type="ellipse",z(h,a.attrs),a};a._engine.image=function(a,c,d,e,f,h){var l=z("image");z(l,{x:d,y:e,width:f,height:h,preserveAspectRatio:"none"});l.setAttributeNS("http://www.w3.org/1999/xlink",
"href",c);a.canvas&&a.canvas.appendChild(l);a=new O(l,a);return a.attrs={x:d,y:e,width:f,height:h,src:c},a.type="image",a};a._engine.text=function(c,d,e,f){var h=z("text");c.canvas&&c.canvas.appendChild(h);c=new O(h,c);return c.attrs={x:d,y:e,"text-anchor":"middle",text:f,font:a._availableAttrs.font,stroke:"none",fill:"#000"},c.type="text",I(c,c.attrs),c};a._engine.setSize=function(a,c){return this.width=a||this.width,this.height=c||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",
this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};a._engine.create=function(){var c=a._getContainer.apply(0,arguments),d=c&&c.container,e=c.x,f=c.y,h=c.width,c=c.height;if(!d)throw Error("SVG container not found.");var l,m=z("svg");return e=e||0,f=f||0,h=h||512,c=c||342,z(m,{height:c,version:1.1,width:h,xmlns:"http://www.w3.org/2000/svg"}),1==d?(m.style.cssText="overflow:hidden;position:absolute;left:"+e+"px;top:"+f+"px",a._g.doc.body.appendChild(m),l=1):(m.style.cssText=
"overflow:hidden;position:relative",d.firstChild?d.insertBefore(m,d.firstChild):d.appendChild(m)),d=new a._Paper,d.width=h,d.height=c,d.canvas=m,d.clear(),d._left=d._top=0,l&&(d.renderfix=function(){}),d.renderfix(),d};a._engine.setViewBox=function(a,c,d,e,f){v("raphael.setViewBox",this,this._viewBox,[a,c,d,e,f]);var h,l=m(d/this.width,e/this.height),r=this.top,n=f?"meet":"xMinYMin";null==a?(this._vbSize&&(l=1),delete this._vbSize,h="0 0 "+this.width+" "+this.height):(this._vbSize=l,h=a+" "+c+" "+
d+" "+e);for(z(this.canvas,{viewBox:h,preserveAspectRatio:n});l&&r;)h="stroke-width"in r.attrs?r.attrs["stroke-width"]:1,r.attr({"stroke-width":h}),r._.dirty=1,r._.dirtyT=1,r=r.prev;return this._viewBox=[a,c,d,e,!!f],this};a.prototype.renderfix=function(){var a,c=this.canvas,d=c.style;try{a=c.getScreenCTM()||c.createSVGMatrix()}catch(e){a=c.createSVGMatrix()}c=-a.e%1;a=-a.f%1;(c||a)&&(c&&(this._left=(this._left+c)%1,d.left=this._left+"px"),a&&(this._top=(this._top+a)%1,d.top=this._top+"px"))};a.prototype.clear=
function(){a.eve("raphael.clear",this);for(var c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null;(this.desc=z("desc")).appendChild(a._g.doc.createTextNode("Created with Rapha\u00ebl "+a.version));c.appendChild(this.desc);c.appendChild(this.defs=z("defs"))};a.prototype.remove=function(){v("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null};var R=
a.st,T;for(T in M)M.hasOwnProperty(T)&&!R.hasOwnProperty(T)&&(R[T]=function(a){return function(){var c=arguments;return this.forEach(function(d){d[a].apply(d,c)})}}(T))}}(),function(){if(a.vml){var c=String,f=parseFloat,e=Math,h=e.round,m=e.max,r=e.min,n=e.abs,u=/[, ]+/,w=a.eve,v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},x=/([clmz]),?([^clmz]*)/gi,z=/ progid:\S+Blur\([^\)]+\)/g,A=/-?[^,\s-]+/g,C={path:1,rect:1,image:1},D={circle:1,ellipse:1},G=function(e){var f=/[ahqstv]/gi,l=a._pathToAbsolute;
if(c(e).match(f)&&(l=a._path2curve),f=/[clmz]/g,l==a._pathToAbsolute&&!c(e).match(f))return e=c(e).replace(x,function(a,c,d){var e=[],f="m"==c.toLowerCase(),l=v[c];return d.replace(A,function(a){f&&2==e.length&&(l+=e+v["m"==c?"l":"L"],e=[]);e.push(h(21600*a))}),l+e});var m=l(e);e=[];for(var r=0,n=m.length;n>r;r++){f=m[r];l=m[r][0].toLowerCase();"z"==l&&(l="x");for(var u=1,w=f.length;w>u;u++)l+=h(21600*f[u])+(u!=w-1?",":"");e.push(l)}return e.join(" ")},K=function(c,d,e){var f=a.matrix();return f.rotate(-c,
0.5,0.5),{dx:f.x(d,e),dy:f.y(d,e)}},I=function(a,c,d,e,f,h){var l=a._,m=a.matrix,r=l.fillpos;a=a.node;var u=a.style,w=1,v="",y=21600/c,x=21600/d;if(u.visibility="hidden",c&&d){if(a.coordsize=n(y)+" "+n(x),u.rotation=h*(0>c*d?-1:1),h){var z=K(h,e,f);e=z.dx;f=z.dy}if(0>c&&(v+="x"),0>d&&(v+=" y")&&(w=-1),u.flip=v,a.coordorigin=e*-y+" "+f*-x,r||l.fillsize)e=(e=a.getElementsByTagName("fill"))&&e[0],a.removeChild(e),r&&(z=K(h,m.x(r[0],r[1]),m.y(r[0],r[1])),e.position=z.dx*w+" "+z.dy*w),l.fillsize&&(e.size=
l.fillsize[0]*n(c)+" "+l.fillsize[1]*n(d)),a.appendChild(e);u.visibility="visible"}};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var M=function(a,e,f){e=c(e).toLowerCase().split("-");f=f?"end":"start";for(var h=e.length,l="classic",m="medium",r="medium";h--;)switch(e[h]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":l=e[h];break;case "wide":case "narrow":r=e[h];break;case "long":case "short":m=
e[h]}a=a.node.getElementsByTagName("stroke")[0];a[f+"arrow"]=l;a[f+"arrowlength"]=m;a[f+"arrowwidth"]=r},O=function(e,n){e.attrs=e.attrs||{};var w=e.node,v=e.attrs,x=w.style,z=C[e.type]&&(n.x!=v.x||n.y!=v.y||n.width!=v.width||n.height!=v.height||n.cx!=v.cx||n.cy!=v.cy||n.rx!=v.rx||n.ry!=v.ry||n.r!=v.r),A=D[e.type]&&(v.cx!=n.cx||v.cy!=n.cy||v.r!=n.r||v.rx!=n.rx||v.ry!=n.ry),J;for(J in n)n.hasOwnProperty(J)&&(v[J]=n[J]);if(z&&(v.path=a._getPath[e.type](e),e._.dirty=1),n.href&&(w.href=n.href),n.title&&
(w.title=n.title),n.target&&(w.target=n.target),n.cursor&&(x.cursor=n.cursor),"blur"in n&&e.blur(n.blur),(n.path&&"path"==e.type||z)&&(w.path=G(~c(v.path).toLowerCase().indexOf("r")?a._pathToAbsolute(v.path):v.path),"image"==e.type&&(e._.fillpos=[v.x,v.y],e._.fillsize=[v.width,v.height],I(e,1,1,0,0,0))),"transform"in n&&e.transform(n.transform),A)x=+v.cx,z=+v.cy,A=+v.rx||+v.r||0,J=+v.ry||+v.r||0,w.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",h(21600*(x-A)),h(21600*(z-J)),h(21600*(x+A)),h(21600*
(z+J)),h(21600*x)),e._.dirty=1;"clip-rect"in n&&(x=c(n["clip-rect"]).split(u),4==x.length&&(x[2]=+x[2]+ +x[0],x[3]=+x[3]+ +x[1],z=w.clipRect||a._g.doc.createElement("div"),A=z.style,A.clip=a.format("rect({1}px {2}px {3}px {0}px)",x),w.clipRect||(A.position="absolute",A.top=0,A.left=0,A.width=e.paper.width+"px",A.height=e.paper.height+"px",w.parentNode.insertBefore(z,w),z.appendChild(w),w.clipRect=z)),n["clip-rect"]||w.clipRect&&(w.clipRect.style.clip="auto"));e.textpath&&(x=e.textpath.style,n.font&&
(x.font=n.font),n["font-family"]&&(x.fontFamily='"'+n["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),n["font-size"]&&(x.fontSize=n["font-size"]),n["font-weight"]&&(x.fontWeight=n["font-weight"]),n["font-style"]&&(x.fontStyle=n["font-style"]));if("arrow-start"in n&&M(e,n["arrow-start"]),"arrow-end"in n&&M(e,n["arrow-end"],1),null!=n.opacity||null!=n["stroke-width"]||null!=n.fill||null!=n.src||null!=n.stroke||null!=n["stroke-width"]||null!=n["stroke-opacity"]||null!=n["fill-opacity"]||
null!=n["stroke-dasharray"]||null!=n["stroke-miterlimit"]||null!=n["stroke-linejoin"]||null!=n["stroke-linecap"]){x=w.getElementsByTagName("fill");if(x=x&&x[0],!x&&(x=E("fill")),"image"==e.type&&n.src&&(x.src=n.src),n.fill&&(x.on=!0),(null==x.on||"none"==n.fill||null===n.fill)&&(x.on=!1),x.on&&n.fill)(z=c(n.fill).match(a._ISURL))?(x.parentNode==w&&w.removeChild(x),x.rotate=!0,x.src=z[1],x.type="tile",A=e.getBBox(1),x.position=A.x+" "+A.y,e._.fillpos=[A.x,A.y],a._preload(z[1],function(){e._.fillsize=
[this.offsetWidth,this.offsetHeight]})):(x.color=a.getRGB(n.fill).hex,x.src="",x.type="solid",a.getRGB(n.fill).error&&(e.type in{circle:1,ellipse:1}||"r"!=c(n.fill).charAt())&&S(e,n.fill,x)&&(v.fill="none",v.gradient=n.fill,x.rotate=!1));if("fill-opacity"in n||"opacity"in n)A=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+a.getRGB(n.fill).o+1||2)-1),A=r(m(A,0),1),x.opacity=A,x.src&&(x.color="none");w.appendChild(x);x=w.getElementsByTagName("stroke")&&w.getElementsByTagName("stroke")[0];z=
!1;!x&&(z=x=E("stroke"));(n.stroke&&"none"!=n.stroke||n["stroke-width"]||null!=n["stroke-opacity"]||n["stroke-dasharray"]||n["stroke-miterlimit"]||n["stroke-linejoin"]||n["stroke-linecap"])&&(x.on=!0);("none"==n.stroke||null===n.stroke||null==x.on||0==n.stroke||0==n["stroke-width"])&&(x.on=!1);A=a.getRGB(n.stroke);x.on&&n.stroke&&(x.color=A.hex);A=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+A.o+1||2)-1);J=0.75*(f(n["stroke-width"])||1);if(A=r(m(A,0),1),null==n["stroke-width"]&&(J=v["stroke-width"]),
n["stroke-width"]&&(x.weight=J),J&&1>J&&(A*=J)&&(x.weight=1),x.opacity=A,n["stroke-linejoin"]&&(x.joinstyle=n["stroke-linejoin"]||"miter"),x.miterlimit=n["stroke-miterlimit"]||8,n["stroke-linecap"]&&(x.endcap="butt"==n["stroke-linecap"]?"flat":"square"==n["stroke-linecap"]?"square":"round"),n["stroke-dasharray"])A={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},x.dashstyle=
A.hasOwnProperty(n["stroke-dasharray"])?A[n["stroke-dasharray"]]:"";z&&w.appendChild(x)}if("text"==e.type){e.paper.canvas.style.display="";w=e.paper.span;z=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);x=w.style;v.font&&(x.font=v.font);v["font-family"]&&(x.fontFamily=v["font-family"]);v["font-weight"]&&(x.fontWeight=v["font-weight"]);v["font-style"]&&(x.fontStyle=v["font-style"]);z=f(v["font-size"]||z&&z[0])||10;x.fontSize=100*z+"px";e.textpath.string&&(w.innerHTML=c(e.textpath.string).replace(/</g,
"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));w=w.getBoundingClientRect();e.W=v.w=(w.right-w.left)/100;e.H=v.h=(w.bottom-w.top)/100;e.X=v.x;e.Y=v.y+e.H/2;("x"in n||"y"in n)&&(e.path.v=a.format("m{0},{1}l{2},{1}",h(21600*v.x),h(21600*v.y),h(21600*v.x)+1));w="x y text font font-family font-weight font-style font-size".split(" ");x=0;for(z=w.length;z>x;x++)if(w[x]in n){e._.dirty=1;break}switch(v["text-anchor"]){case "start":e.textpath.style["v-text-align"]="left";e.bbx=e.W/2;break;case "end":e.textpath.style["v-text-align"]=
"right";e.bbx=-e.W/2;break;default:e.textpath.style["v-text-align"]="center",e.bbx=0}e.textpath.style["v-text-kern"]=!0}},S=function(h,m,n){h.attrs=h.attrs||{};var r=(h.attrs,Math.pow),u="linear",v=".5 .5";if(h.attrs.gradient=m,m=c(m).replace(a._radial_gradient,function(a,c,d){return u="radial",c&&d&&(c=f(c),d=f(d),0.25<r(c-0.5,2)+r(d-0.5,2)&&(d=e.sqrt(0.25-r(c-0.5,2))*(2*(0.5<d)-1)+0.5),v=c+" "+d),""}),m=m.split(/\s*\-\s*/),"linear"==u){var w=m.shift();if(w=-f(w),isNaN(w))return null}m=a._parseDots(m);
if(!m)return null;if(h=h.shape||h.node,m.length){h.removeChild(n);n.on=!0;n.method="none";n.color=m[0].color;n.color2=m[m.length-1].color;for(var x=[],y=0,z=m.length;z>y;y++)m[y].offset&&x.push(m[y].offset+" "+m[y].color);n.colors=x.length?x.join():"0% "+n.color;"radial"==u?(n.type="gradientTitle",n.focus="100%",n.focussize="0 0",n.focusposition=v,n.angle=0):(n.type="gradient",n.angle=(270-w)%360);h.appendChild(n)}return 1},T=function(c,d){this[0]=this.node=c;c.raphael=!0;this.id=a._oid++;c.raphaelid=
this.id;this.Y=this.X=0;this.attrs={};this.paper=d;this.matrix=a.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},R=a.el;T.prototype=R;R.constructor=T;R.transform=function(e){if(null==e)return this._.transform;var f,h=this.paper._viewBoxShift,l=h?"s"+[h.scale,h.scale]+"-1-1t"+[h.dx,h.dy]:"";h&&(f=e=c(e).replace(/\.{3}|\u2026/g,this._.transform||""));a._extractTransform(this,l+e);var m,
h=this.matrix.clone(),l=this.skew;e=this.node;var n=~c(this.attrs.fill).indexOf("-"),r=!c(this.attrs.fill).indexOf("url(");(h.translate(-0.5,-0.5),r||n||"image"==this.type)?(l.matrix="1 0 0 1",l.offset="0 0",m=h.split(),n&&m.noRotation||!m.isSimple)?(e.style.filter=h.toFilter(),h=this.getBBox(),l=this.getBBox(1),m=h.x-l.x,h=h.y-l.y,e.coordorigin=-21600*m+" "+-21600*h,I(this,1,1,m,h,0)):(e.style.filter="",I(this,m.scalex,m.scaley,m.dx,m.dy,m.rotate)):(e.style.filter="",l.matrix=c(h),l.offset=h.offset());
return f&&(this._.transform=f),this};R.rotate=function(a,e,h){if(this.removed)return this;if(null!=a){if(a=c(a).split(u),a.length-1&&(e=f(a[1]),h=f(a[2])),a=f(a[0]),null==h&&(e=h),null==e||null==h)h=this.getBBox(1),e=h.x+h.width/2,h=h.y+h.height/2;return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,e,h]])),this}};R.translate=function(a,e){return this.removed?this:(a=c(a).split(u),a.length-1&&(e=f(a[1])),a=f(a[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",
a,e]])),this)};R.scale=function(a,e,h,m){if(this.removed)return this;if(a=c(a).split(u),a.length-1&&(e=f(a[1]),h=f(a[2]),m=f(a[3]),isNaN(h)&&(h=null),isNaN(m)&&(m=null)),a=f(a[0]),null==e&&(e=a),null==m&&(h=m),null==h||null==m)var n=this.getBBox(1);return h=null==h?n.x+n.width/2:h,m=null==m?n.y+n.height/2:m,this.transform(this._.transform.concat([["s",a,e,h,m]])),this._.dirtyT=1,this};R.hide=function(){return!this.removed&&(this.node.style.display="none"),this};R.show=function(){return!this.removed&&
(this.node.style.display=""),this};R._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};R.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);a.eve.unbind("raphael.*.*."+this.id);a._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):
null;this.removed=!0}};R.attr=function(c,d){if(this.removed)return this;if(null==c){var e={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;f=c.split(u);for(var e={},h=0,l=f.length;l>h;h++)c=f[h],e[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],
"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?e:e[f[0]]}if(this.attrs&&null==d&&a.is(c,"array")){e={};h=0;for(l=c.length;l>h;h++)e[c[h]]=this.attr(c[h]);return e}null!=d&&(e={},e[c]=d);null==d&&a.is(c,"object")&&(e=c);for(h in e)w("raphael.attr."+h+"."+this.id,this,e[h]);if(e){for(h in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(h)&&e.hasOwnProperty(h)&&a.is(this.paper.customAttributes[h],"function"))for(l in f=this.paper.customAttributes[h].apply(this,
[].concat(e[h])),this.attrs[h]=e[h],f)f.hasOwnProperty(l)&&(e[l]=f[l]);e.text&&"text"==this.type&&(this.textpath.string=e.text);O(this,e)}return this};R.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this};R.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),
this)};R.insertAfter=function(c){return this.removed?this:(c.constructor==a.st.constructor&&(c=c[c.length-1]),c.node.nextSibling?c.node.parentNode.insertBefore(this.node,c.node.nextSibling):c.node.parentNode.appendChild(this.node),a._insertafter(this,c,this.paper),this)};R.insertBefore=function(c){return this.removed?this:(c.constructor==a.st.constructor&&(c=c[0]),c.node.parentNode.insertBefore(this.node,c.node),a._insertbefore(this,c,this.paper),this)};R.blur=function(c){var d=this.node.runtimeStyle,
e=d.filter;return e=e.replace(z,""),0!==+c?(this.attrs.blur=c,d.filter=e+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+c||1.5)+")",d.margin=a.format("-{0}px 0 0 -{0}px",h(+c||1.5))):(d.filter=e,d.margin=0,delete this.attrs.blur),this};a._engine.path=function(a,c){var d=E("shape");d.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";d.coordsize="21600 21600";d.coordorigin=c.coordorigin;var e=new T(d,c),f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];
e.Path="";O(e,f);c.canvas.appendChild(d);f=E("skew");return f.on=!0,d.appendChild(f),e.skew=f,e.transform(""),e};a._engine.rect=function(c,d,e,f,h,l){var m=a._rectPath(d,e,f,h,l);c=c.path(m);var n=c.attrs;return c.X=n.x=d,c.Y=n.y=e,c.W=n.width=f,c.H=n.height=h,n.r=l,n.path=m,c.type="rect",c};a._engine.ellipse=function(a,c,d,e,f){a=a.path();return a.attrs,a.X=c-e,a.Y=d-f,a.W=2*e,a.H=2*f,a.type="ellipse",O(a,{cx:c,cy:d,rx:e,ry:f}),a};a._engine.circle=function(a,c,d,e){a=a.path();return a.attrs,a.X=
c-e,a.Y=d-e,a.W=a.H=2*e,a.type="circle",O(a,{cx:c,cy:d,r:e}),a};a._engine.image=function(c,d,e,f,h,l){var m=a._rectPath(e,f,h,l);c=c.path(m).attr({stroke:"none"});var n=c.attrs,r=c.node,u=r.getElementsByTagName("fill")[0];return n.src=d,c.X=n.x=e,c.Y=n.y=f,c.W=n.width=h,c.H=n.height=l,n.path=m,c.type="image",u.parentNode==r&&r.removeChild(u),u.rotate=!0,u.src=d,u.type="tile",c._.fillpos=[e,f],c._.fillsize=[h,l],r.appendChild(u),I(c,1,1,0,0,0),c};a._engine.text=function(e,f,l,m){var n=E("shape"),r=
E("path"),u=E("textpath");f=f||0;l=l||0;m=m||"";r.v=a.format("m{0},{1}l{2},{1}",h(21600*f),h(21600*l),h(21600*f)+1);r.textpathok=!0;u.string=c(m);u.on=!0;n.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";n.coordsize="21600 21600";n.coordorigin="0 0";var v=new T(n,e),w={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:m};v.shape=n;v.path=r;v.textpath=u;v.type="text";v.attrs.text=c(m);v.attrs.x=f;v.attrs.y=l;v.attrs.w=1;v.attrs.h=1;O(v,w);n.appendChild(u);n.appendChild(r);
e.canvas.appendChild(n);e=E("skew");return e.on=!0,n.appendChild(e),v.skew=e,v.transform(""),v};a._engine.setSize=function(c,d){var e=this.canvas.style;return this.width=c,this.height=d,c==+c&&(c+="px"),d==+d&&(d+="px"),e.width=c,e.height=d,e.clip="rect(0 "+c+" "+d+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this};a._engine.setViewBox=function(c,d,e,f,h){a.eve("raphael.setViewBox",this,this._viewBox,[c,d,e,f,h]);var l,n,r=this.width,u=this.height,v=1/m(e/r,f/u);return h&&(l=
u/f,n=r/e,r>e*l&&(c-=(r-e*l)/2/l),u>f*n&&(d-=(u-f*n)/2/n)),this._viewBox=[c,d,e,f,!!h],this._viewBoxShift={dx:-c,dy:-d,scale:v},this.forEach(function(a){a.transform("...")}),this};var E;a._engine.initWin=function(a){var c=a.document;c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(a){return c.createElement("<rvml:"+a+' class="rvml">')}}catch(d){E=function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};
a._engine.initWin(a._g.win);a._engine.create=function(){var c=a._getContainer.apply(0,arguments),d=c.container,e=c.height,f=c.width,h=c.x,c=c.y;if(!d)throw Error("VML container not found.");var l=new a._Paper,m=l.canvas=a._g.doc.createElement("div"),n=m.style;return h=h||0,c=c||0,f=f||512,e=e||342,l.width=f,l.height=e,f==+f&&(f+="px"),e==+e&&(e+="px"),l.coordsize="21600000 21600000",l.coordorigin="0 0",l.span=a._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",
m.appendChild(l.span),n.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,e),1==d?(a._g.doc.body.appendChild(m),n.left=h+"px",n.top=c+"px",n.position="absolute"):d.firstChild?d.insertBefore(m,d.firstChild):d.appendChild(m),l.renderfix=function(){},l};a.prototype.clear=function(){a.eve("raphael.clear",this);this.canvas.innerHTML="";this.span=a._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};a.prototype.remove=function(){a.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;return!0};var $=a.st,Y;for(Y in R)R.hasOwnProperty(Y)&&!$.hasOwnProperty(Y)&&($[Y]=function(a){return function(){var c=arguments;return this.forEach(function(d){d[a].apply(d,c)})}}(Y))}}(),Ka?S.win.Raphael=a:Raphael=a,a});
