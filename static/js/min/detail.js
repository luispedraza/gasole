var FUEL_OPTIONS={1:{"short":"G95",name:"Gasolina 95"},3:{"short":"G98",name:"Gasolina 98"},4:{"short":"GOA",name:"Gas\u00f3leo Automoci\u00f3n"},5:{"short":"NGO",name:"Nuevo Gas\u00f3leo A"},6:{"short":"GOB",name:"Gas\u00f3leo B"},7:{"short":"GOC",name:"Gas\u00f3leo C"},8:{"short":"BIOD",name:"Biodi\u00e9sel"}},CHART_OPTIONS={G95:{color:"#006633",name:"Gasolina 95"},G98:{color:"#339933",name:"Gasolina 98"},GOA:{color:"#000",name:"Gas\u00f3leo A"},NGO:{color:"#aaa",name:"Nuevo Gas\u00f3leo A"},GOB:{color:"#CC3333",
name:"Gas\u00f3leo B"},GOC:{color:"#FF3300",name:"Gas\u00f3leo C"},BIOD:{color:"#FFCC33",name:"Biodi\u00e9sel"}},PROVS={"\u00c1lava":"01",Albacete:"02",Alicante:"03","Almer\u00eda":"04",Asturias:"33","\u00c1vila":"05",Badajoz:"06","Balears (Illes)":"07",Barcelona:"08",Burgos:"09","C\u00e1ceres":"10","C\u00e1diz":"11",Cantabria:"39","Castell\u00f3n / Castell\u00f3":"12",Ceuta:"51","Ciudad Real":"13","C\u00f3rdoba":"14","Coru\u00f1a (A)":"15",Cuenca:"16",Girona:"17",Granada:"18",Guadalajara:"19","Guip\u00fazcoa":"20",
Huelva:"21",Huesca:"22","Ja\u00e9n":"23","Le\u00f3n":"24",Lleida:"25",Lugo:"27",Madrid:"28","M\u00e1laga":"29",Melilla:"52",Murcia:"30",Navarra:"31",Ourense:"32",Palencia:"34","Palmas (Las)":"35",Pontevedra:"36","Rioja (La)":"26",Salamanca:"37","Santa Cruz De Tenerife":"38",Segovia:"40",Sevilla:"41",Soria:"42",Tarragona:"43",Teruel:"44",Toledo:"45","Valencia / Val\u00e8ncia":"46",Valladolid:"47",Vizcaya:"48",Zamora:"49",Zaragoza:"50"},info=null,LS_EXPIRE=36E5,APIS={gasolineras:"api",resultados:"geo",
ficha:"api"};function getProvName(g){for(k in PROVS)if(PROVS[k]==g)return k}
function toTitle(g){return g.replace(" [N]","").replace(/^CARRETERA ?|^CR\.? ?/i,"CTRA. ").replace(/(CTRA. )+/i,"CTRA. ").replace(/^AVENIDA ?|^AV. ?/i,"AVDA. ").replace(/^POLIGONO INDUSTRIAL ?|POLIGONO ?|P\.I\. ?/i,"POL. IND. ").replace(/^CALLE |^CL\.? ?|C\/ ?/i,"C/ ").replace(/^RONDA |^RD /i,"RDA. ").replace(/^AUTOPISTA (AUTOPISTA ?)?/i,"AU. ").replace(/^PLAZA ?/i,"PL. ").replace(/^PASEO (PASEO ?)?/i,"P\u00ba ").replace(/^TRAVESS?[I\u00cd]A /i,"TRAV. ").replace(/^V[i\u00ed]A (V[I\u00cd]A )?/i,"V\u00cdA ").replace(/\B[^\d- ]+[ $]/g,
function(g){return g.toLowerCase()}).replace(/\b[NAE]-.+\b/,function(g){return g.toUpperCase()}).replace(/\[D\]$/,"(m.d.)").replace(/\[I\]$/,"(m.i.)").replace(/ \[N\]$/,"")}
function getLogo(g){return g&&(g=g.replace(/camspa/i,"campsa"),logo=g.match(/\b(abycer|agla|alcampo|andamur|a\.?n\.? energeticos|avia|bonarea|b\.?p\.?|buquerin|campsa|carmoned|carrefour|cepsa|empresoil|eroski|esclatoil|galp|gasolben|iberdoex|leclerc|makro|meroil|norpetrol|petrem|petrocat|petromiralles|petronor|repostar|repsol|saras|shell|simply|staroil|tamoil|valcarce)\b/i))?logo[0].replace(/\./g,"").replace(/ /g,"_").toLowerCase():null}
function decodeName(g){return decodeURI(g).replace(/_/g," ").replace(/\|/g,"/")}function prettyName(g){g.match("/")&&(g=g.split("/")[1]);g.match(/\)$/)&&(g=g.match(/\(.+\)$/g)[0].replace("(","").replace(")"," ")+g.split(" (")[0]);return g}function decodeArray(g){for(var h=0;h<g.length;h++)g[h]=decodeName(g[h]);return g}function encodeName(g){return g.replace(/\//g,"|").replace(/ /g,"_")}function checkLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(g){return!1}}
function getApiData(g,h,t){var E=new XMLHttpRequest;E.onload=function(g){info=JSON.parse(g.target.responseText);h&&(localStorage.setItem(h,JSON.stringify(info)),localStorage.timestamp||localStorage.setItem("timestamp",(new Date).getTime()));t(info)};E.open("GET",g);E.send()}
function getData(g){var h=window.location.pathname.split("/"),t=h[1],E=null,w=null;if(checkLocalStorage()){(E=localStorage.timestamp)&&(new Date).getTime()-parseInt(E)>LS_EXPIRE&&localStorage.clear();var E=h.slice(1).join("***"),p=localStorage[E];if(p)w=JSON.parse(p);else if("gasolineras"==t&&h[3]&&(p=localStorage[h.slice(1,3).join("***")])){var K=decodeName(h[2]),h=decodeName(h[3]),w={_data:{}};w._data[K]={};w._data[K][h]=JSON.parse(p)._data[K][h]}}w?g(w):getApiData(document.URL.replace(t,APIS[t]),
E,g)};var POINTS="un asco de lugar;deja mucho que desear;mejor evitarla;las hay mejores;tiene deficiencias;una del mont\u00f3n;est\u00e1 bien en general;por encima de la media;muy recomendable;de las mejores;\u00a1excelente!".split(";");function initMap(g){if(g){g=new google.maps.LatLng(g[0],g[1]);var h={center:g,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("google_map"),h);markerCenter=new google.maps.Marker({map:map,position:g})}}
function initPoints(){var g=document.getElementsByClassName("star");document.getElementById("c_points_div").addEventListener("mouseleave",function(){var g=parseInt(document.getElementById("c_points").value);console.log(g);g?document.getElementById("c_points_text").textContent=POINTS[g]:document.getElementById("c_points_text").textContent="no olvides asignar una puntuaci\u00f3n"});for(var h=0;h<g.length;h++)g[h].addEventListener("mouseover",function(){for(var g=parseInt(this.id.split("_")[1]),h=document.getElementsByClassName("star"),
w=1;w<h.length;w++){var p=parseInt(h[w].id.split("_")[1]);h[w].className=h[w].className.replace(" on","");p<=g&&(h[w].className+=" on")}h=document.getElementById("star_0");h.className=0==g?h.className+" on":h.className.replace(" on","");document.getElementById("c_points_text").textContent=POINTS[g]}),g[h].addEventListener("click",function(){var g=this.id.split("_")[1];document.getElementById("c_points").value=parseInt(g);for(var g=document.getElementsByClassName("star"),h=0;h<g.length;h++)g[h].className=
g[h].className.replace(" sel","");this.className+=" sel"})}function insertLogo(g){var h=getLogo(g);h?(g=document.createElement("img"),g.src="/img/logos/"+h+"_w.png",document.getElementById("station-logo").appendChild(g)):document.getElementById("station-logo").textContent=g}
function initPrice(g){for(var h in g){var t=FUEL_OPTIONS[h]["short"];document.getElementById("sec_"+t).style.display="block";for(var t=document.getElementById("p_"+t),E=g[h].toFixed(3),w=0;w<E.length;w++){var p=document.createElement("div");p.className="back";"."==E[w]?p.className+=" point":p.textContent=8;var K=document.createElement("div");K.className="digit";K.textContent=E[w];p.appendChild(K);t.appendChild(p)}}}
function fillReplyTo(g){console.log(g);var h=document.getElementById("comment-"+g);document.getElementById("replyto_name").innerHTML=h.getElementsByClassName("c_name")[0].textContent.bold();document.getElementById("replyto_msg").innerHTML=h.getElementsByClassName("c_content")[0].innerHTML;document.getElementById("replyto").style.display="block";document.getElementById("comments").scrollIntoView();document.getElementById("c_replyto").value=g;document.getElementById("section_title").style.display="none";
document.getElementById("section_points").style.display="none";document.getElementById("replyto_cancel").addEventListener("click",function(){document.getElementById("replyto").style.display="none";document.getElementById("replyto_name").innerHTML="";document.getElementById("replyto_msg").innerHTML="";document.getElementById("c_replyto").value="";document.getElementById("section_title").style.display="block";document.getElementById("section_points").style.display="block"})}
function processData(g){console.log(g);data=g._data;var h,t,E,w,p,K,M,C;for(C in data)h=C;for(var F in data[C])t=F;for(var J in data[C][F])E=J,w=data[C][F][J].date,w=data[C][F][J].label,p=data[C][F][J].hours,K=data[C][F][J].latlon,M=data[C][F][J].options;document.getElementById("address").textContent=toTitle(E)+" ("+t+", "+h+")";document.getElementById("hours").textContent=p;insertLogo(w);initMap(K);initPrice(M);w=document.getElementById("old_comments");h=g._comments;for(C=E=t=0;C<h.length;C++)F=
document.createElement("div"),F.className="c_block",F.id="block-"+h[C].id,J=document.createElement("div"),J.className="c_comment",J.id="comment-"+h[C].id,null!=h[C].points&&(p=document.createElement("div"),K=parseInt(h[C].points)/10,p.textContent='"'+POINTS[K]+'" ('+K+"/10)",0==K?p.className="c_points_0":(p.className="c_points",p.style.backgroundImage="url('/img/star_"+K+".svg')"),J.appendChild(p),t+=K,E++),p=document.createElement("div"),p.className="c_name",h[C].link?p.innerHTML="<a href='"+h[C].link+
"' rel='external nofollow'>"+h[C].name+"</a>":p.textContent=h[C].name,J.appendChild(p),p=document.createElement("div"),p.className="c_date",p.textContent=(new Date(h[C].date)).toLocaleString().split(" ")[0],J.appendChild(p),p=document.createElement("img"),p.className="c_avatar",p.src=h[C].avatar,J.appendChild(p),h[C].title&&(p=document.createElement("div"),p.className="c_title",p.textContent=h[C].title,J.appendChild(p)),p=document.createElement("div"),p.className="c_content",p.innerHTML=h[C].content.replace(/\n/g,
"<br>"),J.appendChild(p),p=document.createElement("div"),p.textContent="responder\u2026",p.className="reply_btn",p.id="replyto-"+h[C].id,p.addEventListener("click",function(g){g=this.id.split("-")[1];fillReplyTo(g)}),J.appendChild(p),F.appendChild(J),J=document.createElement("div"),J.id="replies-"+h[C].id,J.className="replies",F.appendChild(J),h[C].replyto?document.getElementById("replies-"+h[C].replyto).appendChild(F):w.appendChild(F);document.getElementById("c_replyto").value&&fillReplyTo(document.getElementById("c_replyto").value);
document.getElementById("c_link").addEventListener("click",function(){""==this.value&&(this.value="http://")});document.getElementById("c_link").addEventListener("blur",function(){"http://"==this.value&&(this.value="")});0!=t&&(K=t/E,document.getElementById("points").innerHTML=K.toFixed(1)+" ("+E+" valoraciones)");E=g._history;g={};h=100;t=-100;for(C=0;C<E.length;C++){F=E[C];w=new Date(F.d);for(var Q in F.p)g.hasOwnProperty(Q)||(g[Q]=[]),J=F.p[Q],J<h&&(h=J),J>t&&(t=J),g[Q].push({x:w,y:J})}console.log(g);
w=[];for(Q in g)w.push({name:Q,showInLegend:!0,markerType:"circle",markerBorderColor:"#fff",markerSize:5,type:"area",color:CHART_OPTIONS[Q].color,legendText:CHART_OPTIONS[Q].name,legendMarkerType:"square",dataPoints:g[Q]});console.log(w);w.sort(function(g,h){return-(g.dataPoints[0].y-h.dataPoints[0].y)});(new CanvasJS.Chart("chart",{title:{text:"Evoluci\u00f3n de los precios"},axisX:{title:"Fecha",valueFormatString:"DD-MM",labelAngle:-45},axisY:{title:"Precio (\u20ac)",valueFormatString:"#.###",minimum:h-
0.1,maximum:t+0.1,interval:0.1},data:w})).render();initPoints();document.getElementById("error_list")&&document.getElementById("comments").scrollIntoView();document.getElementById("send_comment").addEventListener("click",function(){clearCurrentStorage()})}window.addEventListener("load",function(){getData(processData)});function searchLocation(g){var h="",t="",E="";"object"==typeof g?(h=g.geometry.location.lat(),t=g.geometry.location.lng(),E=encodeURI(g.formatted_address)):"string"==typeof g&&(t=g.split("##"),E=t[0],h=t[1],t=t[2]);g=document.getElementById("search-d").getAttribute("value");window.location="/resultados/"+E+"/"+h+"/"+t+"/"+g}
function showLoader(){document.getElementById("results-title").textContent="Buscando\u2026";var g=document.getElementById("results-list");g.innerHTML="";var h=new Image;h.src="/img/search-loader.gif";g.appendChild(h)}function initGeoloc(){var g=document.getElementById("current-loc");navigator.geolocation?g.addEventListener("click",loadCurrentPosition):g.style.display="none"}
function showResult(g,h){document.getElementById("results").style.display="block";var t=document.getElementById("results-list");t.innerHTML="";if(h==google.maps.GeocoderStatus.OK){for(var E=0,w=0,p=0;p<g.length;p++){var K=g[p].formatted_address;if(K.match(/Espa\u00f1a$/)){console.log(typeof g[p]);E++;var w=p,M=document.createElement("li"),C=document.createElement("a");M.appendChild(C);C.textContent=K;C.href="#";C.setAttribute("loc",[g[p].formatted_address,g[p].geometry.location.lat(),g[p].geometry.location.lng()].join("##"));
C.addEventListener("click",function(){searchLocation(this.getAttribute("loc"))});t.appendChild(M)}}if(1==E){searchLocation(g[w]);return}if(1<E){document.getElementById("results-title").textContent="Encontrados "+E+" lugares:";return}}t.innerHTML="<li>No se ha podido encontrar el lugar. Int\u00e9ntalo de nuevo</li>"}
function loadCurrentPosition(){showLoader();navigator.geolocation.getCurrentPosition(function(g){var h=new google.maps.Geocoder;g=new google.maps.LatLng(g.coords.latitude,g.coords.longitude);h.geocode({latLng:g},showResult)},function(g){switch(g.code){case g.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case g.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case g.TIMEOUT:console.log("The request to get user location timed out.");break;
case g.UNKNOWN_ERROR:console.log("An unknown error occurred.")}})}function geoCode(){showLoader();var g=document.getElementById("address").value;(new google.maps.Geocoder).geocode({address:g,region:"es"},showResult)}
function mySlider(g){function h(g){var h=g.getElementsByClassName("val")[0],p=parseFloat(g.getAttribute("newval")),t=parseFloat(g.getAttribute("max")),M=parseFloat(g.getAttribute("min"));h.style.width=(p-M)*g.clientWidth/(t-M)-5+"px";h.textContent="Radio: "+p.toFixed(1)+" km.";g.setAttribute("value",p)}g.style.position="relative";var t=document.createElement("div");t.style.position="absolute";t.style.left="0";t.style.top="0";t.textContent="Radio: "+g.getAttribute("value")+" km.";t.className="val";
g.appendChild(t);t=document.createElement("div");t.style.position="absolute";t.style.left="0";t.style.top="0";t.className="new-val";t.style.display="none";g.appendChild(t);g.setAttribute("newval",g.getAttribute("value"));h(g);g.addEventListener("mousemove",function(g){var h=this.getElementsByClassName("new-val")[0];h.style.display="block";var p=g.clientX-this.getBoundingClientRect().left;h.style.width=p-5+"px";g=parseFloat(this.getAttribute("max"));var t=parseFloat(this.getAttribute("min")),M=parseFloat(this.getAttribute("step")),
p=t+p*(g-t)/this.clientWidth,p=parseInt(p/M)*M;p<t&&(p=t);p>g&&(p=g);h.textContent="Radio: "+p.toFixed(1)+" km.";this.setAttribute("newval",p)});g.addEventListener("click",function(g){this.getElementsByClassName("new-val")[0].style.display="none";h(this)});g.addEventListener("mouseout",function(g){this.getElementsByClassName("new-val")[0].style.display="none"})}
window.addEventListener("load",function(){for(var g=document.getElementsByClassName("my-slider"),h=0;h<g.length;h++)mySlider(g[h]);if(g=document.getElementById("map")){g=g.getElementsByClassName("prov");for(h=0;h<g.length;h++)g[h].addEventListener("click",function(){})}initGeoloc()});(function(){function g(a,c){a.prototype=h(c.prototype);a.prototype.constructor=a;a.parent=c.prototype}function h(a){function c(){}c.prototype=a;return new c}function t(a,c,b){"millisecond"===b?a.setMilliseconds(a.getMilliseconds()+1*c):"second"===b?a.setSeconds(a.getSeconds()+1*c):"minute"===b?a.setMinutes(a.getMinutes()+1*c):"hour"===b?a.setHours(a.getHours()+1*c):"day"===b?a.setDate(a.getDate()+1*c):"week"===b?a.setDate(a.getDate()+7*c):"month"===b?a.setMonth(a.getMonth()+1*c):"year"===b&&a.setFullYear(a.getFullYear()+
1*c);return a}function E(a,c){return D[c+"Duration"]*a}function w(a,c){var b=!1;0>a&&(b=!0,a*=-1);a=""+a;for(c=!c?1:c;a.length<c;)a="0"+a;return b?"-"+a:a}function p(a){a=a.replace(/^\s\s*/,"");for(var c=/\s/,b=a.length;c.test(a.charAt(--b)););return a.slice(0,b+1)}function K(a){a.roundRect=function(a,b,d,e,f,u,q,l){q&&(this.fillStyle=q);l&&(this.strokeStyle=l);"undefined"==typeof stroke&&(stroke=!0);"undefined"===typeof f&&(f=5);this.lineWidth=u;this.beginPath();this.moveTo(a+f,b);this.lineTo(a+
d-f,b);this.quadraticCurveTo(a+d,b,a+d,b+f);this.lineTo(a+d,b+e-f);this.quadraticCurveTo(a+d,b+e,a+d-f,b+e);this.lineTo(a+f,b+e);this.quadraticCurveTo(a,b+e,a,b+e-f);this.lineTo(a,b+f);this.quadraticCurveTo(a,b,a+f,b);this.closePath();q&&this.fill();l&&0<u&&this.stroke()}}function M(a,c){return a-c}function C(a,c){return a.x-c.x}function F(a){var c=((a&16711680)>>16).toString(16),b=((a&65280)>>8).toString(16);a=((a&255)>>0).toString(16);c=2>c.length?"0"+c:c;b=2>b.length?"0"+b:b;a=2>a.length?"0"+a:
a;return"#"+c+b+a}function J(a){var c=[];c[0]=(a&16711680)>>16;c[1]=(a&65280)>>8;c[2]=(a&255)>>0;return c}function Q(a,c,b){a=b.getImageData(a,c,2,2).data;c=!0;for(b=0;4>b;b++)if(a[b]!==a[b+4]|a[b]!==a[b+8]|a[b]!==a[b+12]){c=!1;break}return c?a[0]<<16|a[1]<<8|a[2]:0}function P(a,c,b){this._defaultsKey=a;currentTheme={};b&&(Z[b]&&Z[b][a])&&(currentTheme=Z[b][a]);this._options=c?c:{};this.setOptions(this._options,currentTheme)}function z(a,c,b){z.parent.constructor.call(this,"Chart",c,c.theme?c.theme:
"theme1");z.externalReference=b;var d=this;this._containerId=a;this._objectsInitialized=!1;this.overlaidCanvasCtx=this.ctx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this.panEnabled=!1;if(this._container=document.getElementById(this._containerId))c=a=0,a=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,c=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height,this.width=
a,this.height=c,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.style.position="relative",this._container.appendChild(this._canvasJSContainer),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=c,this.canvas.style.background=this.backgroundColor,this.canvas.style.position="absolute",this._canvasJSContainer.appendChild(this.canvas),this.overlaidCanvas=document.createElement("canvas"),this.overlaidCanvas.width=a,this.overlaidCanvas.height=
c,this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this._eventManager=new W(this),this._toolBar=document.createElement("div"),this._toolBar.style.position="absolute",this._toolBar.style.top="0px",this._toolBar.style.right="0px",this._canvasJSContainer.appendChild(this._toolBar),this.zoomEnabled&&(this._zoomButton=document.createElement("button"),this._zoomButton.appendChild(document.createTextNode("Pan")),this._toolBar.appendChild(this._zoomButton),
this._zoomButton.addEventListener("click",function(){d.zoomEnabled?(d.zoomEnabled=!1,d.panEnabled=!0,d._zoomButton.innerText="Zoom"):(d.zoomEnabled=!0,d.panEnabled=!1,d._zoomButton.innerText="Pan ");d.render()},!1)),this.zoomEnabled&&(this._resetButton=document.createElement("button"),this._resetButton.appendChild(document.createTextNode("Reset")),this._toolBar.appendChild(this._resetButton),d.zoomEnabled=d._options.zoomEnabled?!0:!1,d.panEnabled=!1,this._resetButton.addEventListener("click",function(){d._toolTip.hide();
d.zoomEnabled||d.panEnabled?(d.zoomEnabled=!0,d.panEnabled=!1,d._zoomButton.innerText="Pan"):(d.zoomEnabled=!1,d.panEnabled=!1);d.sessionVariables.axisX.internalMinimum=d._options.axisX&&d._options.axisX.minimum?d._options.axisX.minimum:null;d.sessionVariables.axisX.internalMaximum=d._options.axisX&&d._options.axisX.maximum?d._options.axisX.maximum:null;d.resetOverlayedCanvas();d.render()},!1)),window.addEventListener("resize",function(){var a=0,b=0,a=d._options.width?d.width:0<d._container.clientWidth?
d._container.clientWidth:d.width,b=d._options.height?d.height:0<d._container.clientHeight?d._container.clientHeight:d.height;if(d.canvas.width!==a||d.canvas.height!==b)d.renderCount--,d.canvas.width=a,d.canvas.height=b,d.overlaidCanvas.width=a,d.overlaidCanvas.height=b,d.render()}),this._toolBar.style.display="none",this.bounds={x1:0,y1:0,x2:this.canvas.width,y2:this.canvas.height},d=this,this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",this.overlaidCanvasCtx=
this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",K(this.ctx),this.overlaidCanvas.addEventListener("click",function(a){d._mouseEventHandler(a)},!1),this.overlaidCanvas.addEventListener("mousemove",function(a){d._mouseEventHandler(a)},!1),this.overlaidCanvas.addEventListener("mouseup",function(a){d._mouseEventHandler(a)},!1),this.overlaidCanvas.addEventListener("mousedown",function(a){d._mouseEventHandler(a)},!1),this.overlaidCanvas.addEventListener("mouseout",function(a){d._mouseEventHandler(a)},
!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){d._touchEventHandler(a)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){d._touchEventHandler(a)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){d._touchEventHandler(a)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerCancel":
"touchcancel",function(a){d._touchEventHandler(a)},!1)),this._toolTip=new R(this,this._options.toolTip,this.theme),this.layoutManager=new U(this.canvas),this.axisY2=this.axisY=this.axisX=this.data=null,this.renderCount=0,this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}}}function U(a){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0;this.canvas=
a}function L(a,c){L.parent.constructor.call(this,"TextBlock",c);this.ctx=a;this._isDirty=!0;this._wrappedText=null}function X(a,c){X.parent.constructor.call(this,"Title",c,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));this.height=this.width=null;this.bounds={x1:null,y1:null,x2:null,y2:null}}function Y(a,c,b){Y.parent.constructor.call(this,"Legend",c,b);this.chart=a;this.canvas=
a.canvas;this.ctx=this.chart.ctx;this.height=this.width=0;this.orientation=null;this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null}}function $(a,c){$.parent.constructor.call(this,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}function S(a,c,b,d,e){S.parent.constructor.call(this,"DataSeries",c,b);this.chart=a;this.canvas=a.canvas;this._ctx=a.canvas.ctx;this.index=d;this.noDataPointsInPlotArea=0;this.id=e;this.dataPointIds=[];this.axisY=this.axisX=
null;this.axisPlacement=this.getDefaultAxisPlacement()}function H(a,c,b,d){H.parent.constructor.call(this,"Axis",c,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=a.ctx;this.intervalStartPosition=this.maxHeight=this.maxWidth=0;this.labels=[];this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};"axisX"===b?(this.sessionVariables=this.chart.sessionVariables[b],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===d||"top"===
d?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2;"undefined"===typeof this._options.titleFontSize&&(this.titleFontSize=fontSize=this.chart.getAutoFontSize(this.titleFontSize));"undefined"===typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize));this.type=b;if(!c||"undefined"===typeof c.gridThickness)this.gridThickness="axisX"===b?0:1;this._labels=null;this._position=d;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};
this.labelAngle=(this.labelAngle%360+360)%360;90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360);this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null;this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum);this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum);this.trackChanges("minimum");
this.trackChanges("maximum")}function R(a,c,b){R.parent.constructor.call(this,"ToolTip",c,b);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.currentDataPointIndex=this.currentSeriesIndex=-1;this._timerId=0;this._initialize()}function W(a){this.chart=a;this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=document.createElement("canvas");this.ghostCanvas.width=this.chart.canvas.width;this.ghostCanvas.height=
this.chart.canvas.height;this.ghostCtx=this.ghostCanvas.getContext("2d")}var ba={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",backgroundColor:"white",theme:"theme1",animationEnabled:!0,colorSet:"colorSet1"},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},DataSeries:{name:null,dataPoints:null,
label:"",bevelEnabled:!1,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"#808080",indexLabelLineThickness:1,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,
markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",prefix:"",
suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2},Legend:{name:null,borderThickness:0,borderColor:"black",cornerRadius:0,verticalAlign:"center",horizontalAlign:"right",fontSize:12,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal"},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},TextBlock:{x:0,y:0,
width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},V={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},
Z={theme1:{Chart:{colorSet:V[0]},Title:{fontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,
lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"right",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,
titleFontColor:"rgb(98,98,98)",titleFontFamily:"monospace, sans-serif,arial black",titleFontWeight:"bold",labelFontFamily:"monospace, Courier New, Courier",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"right",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Courier New, Courier, monospace",indexLabelFontWeight:"bold",
indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif",fontSize:32,fontColor:"rgb(68,78,58)",fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:"Verdana, Geneva, Calibri, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",
labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"right",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:"Candara, Optima, Calibri, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},D={numberDuration:1,yearDuration:314496E5,monthDuration:2592E6,
weekDuration:6048E5,dayDuration:864E5,hourDuration:36E5,minuteDuration:6E4,secondDuration:1E3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},ca=function(){var a=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b="January February March April May June July August September October November December".split(" "),d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
e=/[^-+\dA-Z]/g;return function(f,u){var q="",l=!1;f=f&&f.getTime?f:f?new Date(f):new Date;if(isNaN(f))throw SyntaxError("invalid date");"UTC:"==u.slice(0,4)&&(u=u.slice(4),l=!0);var q=l?"getUTC":"get",m=f[q+"Date"](),y=f[q+"Day"](),g=f[q+"Month"](),r=f[q+"FullYear"](),n=f[q+"Hours"](),h=f[q+"Minutes"](),s=f[q+"Seconds"](),v=f[q+"Milliseconds"](),x=l?0:f.getTimezoneOffset();return q=u.replace(a,function(a){switch(a){case "D":return m;case "DD":return w(m,2);case "DDD":return c[y].slice(0,3);case "DDDD":return c[y];
case "M":return g+1;case "MM":return w(g+1,2);case "MMM":return b[g].slice(0,3);case "MMMM":return b[g];case "Y":return parseInt(String(r).slice(-2));case "YY":return w(String(r).slice(-2),2);case "YYY":return w(String(r).slice(-3),3);case "YYYY":return w(r,4);case "h":return n%12||12;case "hh":return w(n%12||12,2);case "H":return n;case "HH":return w(n,2);case "m":return h;case "mm":return w(h,2);case "s":return s;case "ss":return w(s,2);case "f":return String(v).slice(0,1);case "ff":return w(String(v).slice(0,
2),2);case "fff":return w(String(v).slice(0,3),3);case "t":return 12>n?"a":"p";case "tt":return 12>n?"am":"pm";case "T":return 12>n?"A":"P";case "TT":return 12>n?"AM":"PM";case "K":return l?"UTC":(String(f).match(d)||[""]).pop().replace(e,"");case "z":return(0<x?"-":"+")+Math.floor(Math.abs(x)/60);case "zz":return(0<x?"-":"+")+w(Math.floor(Math.abs(x)/60),2);case "zzz":return(0<x?"-":"+")+w(Math.floor(Math.abs(x)/60),2)+w(Math.abs(x)%60,2);default:return a.slice(1,a.length-1)}})}}(),aa=function(a,
c){a=Number(a);var b=0>a?!0:!1;b&&(a*=-1);var d="";c=String(c);for(var e=1,f="",u="",q=-1,l=[],m=[],y=0,g=0,r=0,e=1,n=!1,h=0,u=c.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),s=0;u&&s<u.length;s++)if(d=u[s],"."===d&&0>q)q=s;else{if("%"===d)e*=100;else if("\u2030"===d){e*=1E3;continue}else if(","===d[0]&&"."===d[d.length-1]){e/=Math.pow(1E3,d.length-1);q=s+d.length-1;continue}else if(("E"===d[0]||"e"===d[0])&&"0"===d[d.length-1])n=!0;0>q?(l.push(d),"#"===d||"0"===d?y++:","===d&&r++):(m.push(d),
("#"===d||"0"===d)&&g++)}n&&(d=Math.floor(a),h=(0===d?"":String(d)).length-y,e/=Math.pow(10,h));0>q&&(q=s);d=(a*e).toFixed(g);d=d.split(".");e=(d[0]+"").split("");q=(d[1]+"").split("");e&&"0"===e[0]&&e.shift();for(var v=n=u=s=g=0;0<l.length;)if(d=l.pop(),"#"===d||"0"===d)if(g++,g===y){var x=e,e=[];if("0"===d)for(d=y-s-(x?x.length:0);0<d;)x.unshift("0"),d--;for(;0<x.length;)f=x.pop()+f,v++,0===v%n&&(u===r&&0<x.length)&&(f=","+f);b&&(f="-"+f)}else 0<e.length?(f=e.pop()+f,s++,v++):"0"===d&&(f="0"+f,
s++,v++),0===v%n&&(u===r&&0<e.length)&&(f=","+f);else("E"===d[0]||"e"===d[0])&&"0"===d[d.length-1]&&/[eE][+-]*[0]+/.test(d)?(d=0>h?d.replace("+","").replace("-",""):d.replace("-",""),f+=d.replace(/[0]+/,function(a){return w(h,a.length)})):","===d?(u++,n=v,v=0,0<e.length&&(f=d+f)):f=1<d.length&&('"'===d[0]&&'"'===d[d.length-1]||"'"===d[0]&&"'"===d[d.length-1])?d.slice(1,d.length-1)+f:d+f;for(b=0;0<m.length;)d=m.shift(),"#"===d||"0"===d?0<q.length&&0!==Number(q.join(""))?f+=(0===b++?".":"")+q.shift():
"0"===d&&(f+=(0===b++?".":"")+"0"):1<d.length&&('"'===d[0]&&'"'===d[d.length-1]||"'"===d[0]&&"'"===d[d.length-1])?f+=(0===b++?".":"")+d.slice(1,d.length-1):("E"===d[0]||"e"===d[0])&&"0"===d[d.length-1]&&/[eE][+-]*[0]+/.test(d)?(d=0>h?d.replace("+","").replace("-",""):d.replace("-",""),f+=d.replace(/[0]+/,function(a){return w(h,a.length)})):f+=(0===b++?".":"")+d;return f},da=function(a){var c=0,b=0;a||(a=window.event);a.offsetX||0===a.offsetX?(c=a.offsetX,b=a.offsetY):a.layerX||0==a.layerX?(c=a.layerX,
b=a.layerY):(c=a.pageX-a.target.offsetLeft,b=a.pageY-a.target.offsetTop);return{x:c,y:b}};P.prototype.setOptions=function(a,c){if(ba[this._defaultsKey]){var b=ba[this._defaultsKey];for(prop in b)this[prop]=a&&prop in a?a[prop]:c&&prop in c?c[prop]:b[prop]}};P.prototype.trackChanges=function(a){this._options._oldOptions||(this._options._oldOptions={});this._options._oldOptions[a]=this._options[a]};P.prototype.isBeingTracked=function(a){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[a]?
!0:!1};P.prototype.hasOptionChanged=function(a){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[a]!==this._options[a]};g(z,P);z.prototype._initialize=function(){this._selectedColorSet="undefined"!==typeof V[this.colorSet]?V[this.colorSet]:V.colorSet1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.ctx.beginPath();this.axisY2=this.axisY=this.axisX=null;this._indexLabels=[];this._events=[];this._eventManager&&this._eventManager.reset();this.plotInfo=
{axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this.data=[];var a=0;for(series in this._options.data)if(a++,!this._options.data[series].type||0<=z._supportedChartTypes.indexOf(this._options.data[series].type)){var c=new S(this,this._options.data[series],this.theme,a-1,++this._eventManager.lastObjectId);null===c.name&&(c.name="DataSeries "+a);null===c.color?1<this._options.data.length?(c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]],c.color=
this._selectedColorSet[c.index%this._selectedColorSet.length]):c._colorSet="line"===c.type||"area"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?[this._selectedColorSet[0]]:this._selectedColorSet:c._colorSet=[c.color];if(null===c.markerSize&&("line"===c.type&&c.dataPoints.length<this.canvas.width/16||"scatter"===c.type))c.markerSize=8;("bubble"===c.type||"scatter"===c.type)&&c.dataPoints.sort(C);this.data.push(c);var b=c.axisPlacement,d;"normal"===b?"xySwapped"===this.plotInfo.axisPlacement?
d='You cannot combine "'+c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===b?"normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):
"none"==b&&("normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"));if(d&&window.console){window.console.log(d);return}}this._objectsInitialized=!0};z._supportedChartTypes="line column area bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 pie doughnut".split(" ");
z.prototype.render=function(){this._initialize();for(var a=0;a<this.data.length;a++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)!this.data[a].axisYType||"primary"===this.data[a].axisYType?(this.axisY||("normal"===this.plotInfo.axisPlacement?this.axisY=new H(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new H(this,this._options.axisY,"axisY","bottom"))),this.data[a].axisY=this.axisY):"secondary"===this.data[a].axisYType&&
(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new H(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new H(this,this._options.axisY2,"axisY","top"))),this.data[a].axisY=this.axisY2),this.axisX||("normal"===this.plotInfo.axisPlacement?this.axisX=new H(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new H(this,this._options.axisX,"axisX","left"))),this.data[a].axisX=this.axisX;this._processData();
this._options.title&&(this._title=new X(this,this._options.title),this._title.render());this.legend=new Y(this,this._options.legend,this.theme);for(a=0;a<this.data.length;a++)this.data[a].showInLegend&&this.legend.dataSeries.push(this.data[a]);this.legend.render();if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)H.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else if("none"!==this.plotInfo.axisPlacement)return;
for(a=0;a<this.plotInfo.plotTypes.length;a++)for(var c=this.plotInfo.plotTypes[a],b=0;b<c.plotUnits.length;b++){var d=c.plotUnits[b];"line"===d.type?this.renderLine(d):"column"===d.type?this.renderColumn(d):"bar"===d.type?this.renderBar(d):"area"===d.type?this.renderArea(d):"stackedColumn"===d.type?this.renderStackedColumn(d):"stackedColumn100"===d.type?this.renderStackedColumn100(d):"stackedBar"===d.type?this.renderStackedBar(d):"stackedBar100"===d.type?this.renderStackedBar100(d):"stackedArea"===
d.type?this.renderStackedArea(d):"stackedArea100"===d.type?this.renderStackedArea100(d):"bubble"===d.type?this.renderBubble(d):"scatter"===d.type?this.renderScatter(d):"pie"===d.type?this.renderPie(d):"doughnut"===d.type&&this.renderPie(d)}0<this._indexLabels.length&&this.renderIndexLabels();this.setToolbarButtonStates();this.renderCount++};z.prototype.setToolbarButtonStates=function(){this.zoomEnabled||this.panEnabled||this._toolTip.enabled?this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,
mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.getPlotArea()}):this._toolBar.style.display="none"};z.prototype.categoriseDataSeries=function(){for(var a="",c=0;c<this.data.length;c++)if(a=this.data[c],a.dataPoints&&0!==a.dataPoints.length&&0<=z._supportedChartTypes.indexOf(a.type)){for(var b=null,d=!1,e=null,f=!1,u=0;u<this.plotInfo.plotTypes.length;u++)if(this.plotInfo.plotTypes[u].type===a.type){d=!0;b=this.plotInfo.plotTypes[u];
break}d||(b={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(b));for(u=0;u<b.plotUnits.length;u++)if(b.plotUnits[u].axisYType===a.axisYType){f=!0;e=b.plotUnits[u];break}f||(e={type:a.type,previousDataSeriesCount:0,index:b.plotUnits.length,plotType:b,axisYType:a.axisYType,axisY:"primary"===a.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]},b.plotUnits.push(e));b.totalDataSeries++;e.dataSeriesIndexes.push(c)}for(c=0;c<this.plotInfo.plotTypes.length;c++){b=
this.plotInfo.plotTypes[c];for(u=a=0;u<b.plotUnits.length;u++)b.plotUnits[u].previousDataSeriesCount=a,a+=b.plotUnits[u].dataSeriesIndexes.length}};z.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){dataSeries=this.data[a];for(var c=dataSeries.dataPoints.length,b=0;b<c;b++)dataSeries.dataPointIds[b]=++this._eventManager.lastObjectId}};z.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var c=
this.plotInfo.plotTypes[a],b=0;b<c.plotUnits.length;b++){var d=c.plotUnits[b];"line"===d.type||"column"===d.type||"area"===d.type||"bar"===d.type||"bubble"===d.type||"scatter"===d.type?this._processMultiseriesPlotUnit(d):"stackedColumn"===d.type||"stackedBar"===d.type||"stackedArea"===d.type?this._processStackedPlotUnit(d):("stackedColumn100"===d.type||"stackedBar100"===d.type||"stackedArea100"===d.type)&&this._processStacked100PlotUnit(d)}};z.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&
!(1>a.dataSeriesIndexes.length))for(var c=a.axisY.dataInfo,b=a.axisX.dataInfo,d,e,f=!1,u=0;u<a.dataSeriesIndexes.length;u++){var q=this.data[a.dataSeriesIndexes[u]],l=0,m=!1,y=!1;if("normal"===q.axisPlacement||"xySwapped"===q.axisPlacement)var g=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,r=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:
this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(q.dataPoints[l].x&&q.dataPoints[l].x.getTime||"dateTime"===q.xValueType)f=!0;for(l=0;l<q.dataPoints.length;l++){"undefined"===typeof q.dataPoints[l].x&&(q.dataPoints[l].x=l);q.dataPoints[l].x.getTime?(f=!0,d=q.dataPoints[l].x.getTime()):d=q.dataPoints[l].x;e=q.dataPoints[l].y;d<b.min&&(b.min=d);d>b.max&&(b.max=d);e<c.min&&(c.min=e);e>c.max&&(c.max=e);if(0<l){var n=d-q.dataPoints[l-1].x;0>n&&(n*=-1);b.minDiff>
n&&0!==n&&(b.minDiff=n)}if(!(d<g)||m){if(!m&&(m=!0,0<l)){l-=2;continue}if(d>r&&!y)y=!0;else if(d>r&&y)continue;q.dataPoints[l].label&&(a.axisX.labels[d]=q.dataPoints[l].label);d<b.viewPortMin&&(b.viewPortMin=d);d>b.viewPortMax&&(b.viewPortMax=d);e<c.viewPortMin&&(c.viewPortMin=e);e>c.viewPortMax&&(c.viewPortMax=e)}}this.plotInfo.axisXValueType=q.xValueType=f?"dateTime":"number"}};z.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var c=a.axisY.dataInfo,
b=a.axisX.dataInfo,d,e,f=!1,u=[],q=[],l=0;l<a.dataSeriesIndexes.length;l++){var m=this.data[a.dataSeriesIndexes[l]],y=0,g=!1,r=!1;if("normal"===m.axisPlacement||"xySwapped"===m.axisPlacement)var n=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,h=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?
this._options.axisX.maximum:Infinity;if(m.dataPoints[y].x&&m.dataPoints[y].x.getTime||"dateTime"===m.xValueType)f=!0;for(y=0;y<m.dataPoints.length;y++){"undefined"===typeof m.dataPoints[y].x&&(m.dataPoints[y].x=y);m.dataPoints[y].x.getTime?(f=!0,d=m.dataPoints[y].x.getTime()):d=m.dataPoints[y].x;e=m.dataPoints[y].y;d<b.min&&(b.min=d);d>b.max&&(b.max=d);if(0<y){var s=d-m.dataPoints[y-1].x;0>s&&(s*=-1);b.minDiff>s&&0!==s&&(b.minDiff=s)}if(!(d<n)||g){if(!g&&(g=!0,0<y)){y-=2;continue}if(d>h&&!r)r=!0;
else if(d>h&&r)continue;m.dataPoints[y].label&&(a.axisX.labels[d]=m.dataPoints[y].label);d<b.viewPortMin&&(b.viewPortMin=d);d>b.viewPortMax&&(b.viewPortMax=d);0<=e?u[d]=u[d]?u[d]+e:e:q[d]=q[d]?q[d]+e:e}}this.plotInfo.axisXValueType=m.xValueType=f?"dateTime":"number"}for(y in u)a=u[y],a<c.min&&(c.min=a),a>c.max&&(c.max=a),y<b.viewPortMin||y>b.viewPortMax||(a<c.viewPortMin&&(c.viewPortMin=a),a>c.viewPortMax&&(c.viewPortMax=a));for(y in q)a=q[y],a<c.min&&(c.min=a),a>c.max&&(c.max=a),y<b.viewPortMin||
y>b.viewPortMax||(a<c.viewPortMin&&(c.viewPortMin=a),a>c.viewPortMax&&(c.viewPortMax=a))}};z.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var c=a.axisY.dataInfo,b=a.axisX.dataInfo,d,e,f=!1,u=!1,q=!1,l=[],m=0;m<a.dataSeriesIndexes.length;m++){var y=this.data[a.dataSeriesIndexes[m]],g=0,r=!1,n=!1;if("normal"===y.axisPlacement||"xySwapped"===y.axisPlacement)var h=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:
this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,s=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(y.dataPoints[g].x&&y.dataPoints[g].x.getTime||"dateTime"===y.xValueType)f=!0;for(g=0;g<y.dataPoints.length;g++){"undefined"===typeof y.dataPoints[g].x&&(y.dataPoints[g].x=g);y.dataPoints[g].x.getTime?(f=!0,d=y.dataPoints[g].x.getTime()):
d=y.dataPoints[g].x;e=y.dataPoints[g].y;d<b.min&&(b.min=d);d>b.max&&(b.max=d);if(0<g){var v=d-y.dataPoints[g-1].x;0>v&&(v*=-1);b.minDiff>v&&0!==v&&(b.minDiff=v)}if(!(d<h)||r){if(!r&&(r=!0,0<g)){g-=2;continue}if(d>s&&!n)n=!0;else if(d>s&&n)continue;y.dataPoints[g].label&&(a.axisX.labels[d]=y.dataPoints[g].label);d<b.viewPortMin&&(b.viewPortMin=d);d>b.viewPortMax&&(b.viewPortMax=d);0<=e?u=!0:q=!0;l[d]=l[d]?l[d]+Math.abs(e):Math.abs(e)}}this.plotInfo.axisXValueType=y.xValueType=f?"dateTime":"number"}u&&
!q?(c.max=99,c.min=1):u&&q?(c.max=99,c.min=-99):!u&&q&&(c.max=-1,c.min=-99);c.viewPortMin=c.min;c.viewPortMax=c.max;a.dataPointYSums=l}};z.prototype.getAutoFontSize=function(a){return Math.min(this.canvas.width,this.canvas.height)*(a/400)};z.prototype.resetOverlayedCanvas=function(){var a=this.overlaidCanvas.width;this.overlaidCanvas.width=0;this.overlaidCanvas.width=a};z.prototype.attachEvent=function(a){this._events.push(a)};z.prototype._touchEventHandler=function(a){if(a.changedTouches){var c=
[];first=(c=a.changedTouches)?c[0]:a;switch(a.type){case "touchstart":case "MSPointerDown":c=["mousemove","mousedown"];break;case "touchmove":case "MSPointerMove":c=["mousemove"];break;case "touchend":case "MSPointerUp":c="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}this._lastTouchEventType=a.type;for(var b=0;b<c.length;b++){var d=c[b],e=document.createEvent("MouseEvent");e.initMouseEvent(d,!0,!0,window,1,
first.screenX,first.screenY,first.clientX,first.clientY,!1,!1,!1,!1,0,null);first.target.dispatchEvent(e);a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()}}};z.prototype._mouseEventHandler=function(a){a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault();var c=da(a),b=a.type,d,e;a.which?e=3==a.which:a.button&&(e=2==a.button);if(!e){if(z.capturedEventParam)d=z.capturedEventParam,"mouseup"===b&&(z.capturedEventParam=null,d.chart.overlaidCanvas.releaseCapture?
d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",d.chart._mouseEventHandler,!1)),d.hasOwnProperty(b)&&d[b].call(d.context,c.x,c.y);else if(this._events){for(e=0;e<this._events.length;e++)if(this._events[e].hasOwnProperty(b)){d=this._events[e];var f=d.bounds;if(c.x>=f.x1&&c.x<=f.x2&&c.y>=f.y1&&c.y<=f.y2){d[b].call(d.context,c.x,c.y);"mousedown"===b&&!0===d.capture?(z.capturedEventParam=d,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",
this._mouseEventHandler,!1)):"mouseup"===b&&(d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else d=null}a.target.style.cursor=d&&d.cursor?d.cursor:"default"}this._toolTip.enabled&&(b=this.getPlotArea(),(c.x<b.x1||c.x>b.x2||c.y<b.y1||c.y>b.y2)&&this._toolTip.hide());(!this.isDrag||!this.zoomEnabled)&&this._eventManager.mouseEventHandler(a)}};z.prototype._plotAreaMouseDown=function(a,c){if("normal"===
this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.isDrag=!0,this.dragStartPoint={x:a,y:c,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}};z.prototype._plotAreaMouseUp=function(a,c){var b,d;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){this.isDrag=!1;var e=0,e=this.axisX.lineCoordinates,e="xySwapped"===this.plotInfo.axisPlacement?c-this.dragStartPoint.y:this.dragStartPoint.x-a;Math.abs(this.axisX.maximum-this.axisX.minimum);
if(2<Math.abs(e)){if(this.panEnabled)e=!1,d=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(d=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=d,this.axisX.sessionVariables.internalMaximum+=d,e=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(d=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=d,this.axisX.sessionVariables.internalMinimum-=
d,e=!0),e&&this.render();else if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(b=Math.min(this.dragStartPoint.y,c),d=Math.max(this.dragStartPoint.y,c),1<Math.abs(b-d)&&(e=this.axisX.lineCoordinates,d=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(d-e.y1),e=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(b-e.y1),d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),
Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.0080*this.canvas.height&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render()))):"normal"===this.plotInfo.axisPlacement&&(d=Math.min(this.dragStartPoint.x,a),b=Math.max(this.dragStartPoint.x,a),1<Math.abs(d-b)&&(e=this.axisX.lineCoordinates,d=(this.axisX.maximum-this.axisX.minimum)/e.width*(d-e.x1)+this.axisX.minimum,e=(this.axisX.maximum-this.axisX.minimum)/e.width*(b-e.x1)+this.axisX.minimum,d=Math.max(d,
this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.01*this.canvas.width&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render())))}this._toolBar.style.display="inline"}}this.dragStartPoint=null};z.prototype._plotAreaMouseMove=function(a,c){if(this.isDrag){var b=0,d=0,d=this.axisX.lineCoordinates;"xySwapped"===this.plotInfo.axisPlacement?(b=c-this.dragStartPoint.y,d=Math.abs(this.axisX.maximum-
this.axisX.minimum)/d.height*b):(b=this.dragStartPoint.x-a,d=Math.abs(this.axisX.maximum-this.axisX.minimum)/d.width*b);2<Math.abs(b)&&8>Math.abs(b)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():this._toolTip.enabled&&(!this.panEnabled&&!this.zoomEnabled)&&this._toolTip.mouseMoveHandler(a,c);if(2<Math.abs(b)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+d;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+
d;b=0;this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-E(this.axisX.interval,this.axisX.intervalType)?(b=this.axisX._absoluteMinimum-E(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=b,this.axisX.sessionVariables.internalMaximum+=b):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+E(this.axisX.interval,this.axisX.intervalType)&&(b=this.axisX.sessionVariables.internalMaximum-
(this.axisX._absoluteMaximum+E(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=b,this.axisX.sessionVariables.internalMinimum-=b);var e=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){e.render()},0)}else this.zoomEnabled&&(b=this.getPlotArea(),this.resetOverlayedCanvas(),d=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=0.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?
this.overlaidCanvasCtx.fillRect(b.x1,this.dragStartPoint.y,b.x2-b.x1,c-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,b.y1,a-this.dragStartPoint.x,b.y2-b.y1),this.overlaidCanvasCtx.globalAlpha=d)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(a,c)};z.prototype.getPlotArea=function(){var a,c,b,d;d=this.axisY?this.axisY:this.axisY2;if(this.axisX&&d)a=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:
d.lineCoordinates.x1,b=this.axisX.lineCoordinates.y1<d.lineCoordinates.y1?this.axisX.lineCoordinates.y1:d.lineCoordinates.y1,c=this.axisX.lineCoordinates.x2>d.lineCoordinates.x2?this.axisX.lineCoordinates.x2:d.lineCoordinates.x2,d=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:d.lineCoordinates.y2;else return this.layoutManager.getFreeSpace();return{x1:a,y1:b,x2:c,y2:d,width:c-a,height:d-b}};z.prototype.getPixelCoordinatesOnPlotArea=function(a,c){return{x:this.axisX.getPixelCoordinatesOnAxis(a).x,
y:this.axisY.getPixelCoordinatesOnAxis(c).y}};z.prototype.renderIndexLabels=function(){this.ctx.textBaseline="middle";for(var a=this.getPlotArea(),c=0;c<this._indexLabels.length;c++){var b=this._indexLabels[c],d,e,f;this.ctx.fillStyle="indexLabelFontColor"in b.dataPoint?b.dataPoint.indexLabelFontColor:b.dataSeries.indexLabelFontColor;f=this.ctx;var u=b.dataPoint,q=b.dataSeries,l="",l=l+(u.indexLabelFontStyle?u.indexLabelFontStyle+" ":q&&q.indexLabelFontStyle?q.indexLabelFontStyle+" ":""),l=l+(u.indexLabelFontWeight?
u.indexLabelFontWeight+" ":q&&q.indexLabelFontWeight?q.indexLabelFontWeight+" ":""),l=l+(u.indexLabelFontSize?u.indexLabelFontSize+"px ":q&&q.indexLabelFontSize?q.indexLabelFontSize+"px ":""),l=l+(u.indexLabelFontFamily?u.indexLabelFontFamily+" ":q&&q.indexLabelFontFamily?q.indexLabelFontFamily+" ":"");f.font=l;var u=this.replaceKeywordsWithValue("indexLabel"in b.dataPoint?b.dataPoint.indexLabel:b.dataSeries.indexLabel,b.dataPoint,b.dataSeries),q=this.ctx.measureText(u).width,l="indexLabelFontSize"in
b.dataPoint?b.dataPoint.indexLabelFontSize:b.dataSeries.indexLabelFontSize,m="indexLabelPlacement"in b.dataPoint?b.dataPoint.indexLabelPlacement:b.dataSeries.indexLabelPlacement,g="indexLabelOrientation"in b.dataPoint?b.dataPoint.indexLabelOrientation:b.dataSeries.indexLabelOrientation,h=f=0,r=0,n=0,B=0;"column"===b.chartType||"stackedColumn"===b.chartType||"stackedColumn100"===b.chartType||"bar"===b.chartType||"stackedBar"===b.chartType||"stackedBar100"===b.chartType?(Math.abs(b.bounds.x1,b.bounds.x2),
Math.abs(b.bounds.y1,b.bounds.y2),"normal"===this.plotInfo.axisPlacement?("outside"===m?(h=a.y1,r=a.y2):"inside"===m&&(h=b.bounds.y1,r=b.bounds.y2),"horizontal"===g?(d=b.point.x-q/2,e=0<=b.dataPoint.y?Math.min(Math.max(b.point.y-l/2-5,h+l/2+5),r-l/2-5):Math.max(Math.min(b.point.y+l/2+5,r-l/2),h+l/2+5)):"vertical"===g&&(d=b.point.x,e=0<=b.dataPoint.y?Math.min(Math.max(b.point.y-5,h+q+5),r):Math.max(Math.min(b.point.y+q+5,r-5),h),f=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("outside"===m?(n=
a.x1,B=a.x2):"inside"===m&&(n=b.bounds.x1,B=b.bounds.x2),"horizontal"===g?(e=b.point.y,d=0<=b.dataPoint.y?Math.max(Math.min(b.point.x+5,B-q),n):Math.min(Math.max(b.point.x-q-5,n),B)):"vertical"===g&&(e=b.point.y+q/2,d=0<=b.dataPoint.y?Math.max(Math.min(b.point.x+l/2+5,B-l/2),n):Math.min(Math.max(b.point.x-l/2-5,n+l/2),B+l/2),f=-90))):"horizontal"===g?(d=b.point.x-q/2,e=0<=b.dataPoint.y?Math.max(b.point.y-l/2-5,a.y1+l/2):Math.min(b.point.y+l/2+5,a.y2-l/2)):"vertical"===g&&(d=b.point.x,e=0<=b.dataPoint.y?
Math.max(b.point.y-5,a.y1+q):Math.min(b.point.y+q+5,a.y2),f=-90);this.ctx.save();this.ctx.translate(d,e);this.ctx.rotate(Math.PI/180*f);this.ctx.fillText(u,0,0);this.ctx.restore()}};z.prototype.renderLine=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;this.ctx.save();var b=this.getPlotArea();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();for(var b=[],d=0;d<a.dataSeriesIndexes.length;d++){var e=a.dataSeriesIndexes[d],f=this.data[e];
this.ctx.lineWidth=f.lineThickness;var u=f.dataPoints,q=f.id;this._eventManager.objectMap[q]={objectType:"dataSeries",dataSeriesIndex:e};q=F(q);c.strokeStyle=q;c.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;colorSet=f._colorSet;color=colorSet[0];this.ctx.strokeStyle=color;var q=!0,l=0,m,g;if(0<u.length){for(l=0;l<u.length;l++)if(m=u[l].getTime?u[l].x.getTime():u[l].x,!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&"number"===typeof u[l].y){m=a.axisX.convertionParameters.reference+
a.axisX.convertionParameters.pixelPerUnit*(m-a.axisX.convertionParameters.minimum)+0.5<<0;g=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(u[l].y-a.axisY.convertionParameters.minimum)+0.5<<0;var h=f.dataPointIds[l];this._eventManager.objectMap[h]={objectType:"dataPoint",dataSeriesIndex:e,dataPointIndex:l,x1:m,y1:g};q?(this.ctx.beginPath(),this.ctx.moveTo(m,g),c.beginPath(),c.moveTo(m,g),q=!1):(this.ctx.lineTo(m,g),c.lineTo(m,g),0==l%500&&(this.ctx.stroke(),this.ctx.beginPath(),
this.ctx.moveTo(m,g),c.stroke(),c.beginPath(),c.moveTo(m,g)));if(0<u[l].markerSize||0<f.markerSize){var r=f.getMarkerProperties(l,m,g,this.ctx);b.push(r);h=F(h);b.push({x:m,y:g,ctx:c,type:r.type,size:r.size,color:h,borderColor:h,borderThickness:r.borderThickness})}(u[l].indexLabel||f.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:u[l],dataSeries:f,point:{x:m,y:g},color:color})}this.ctx.stroke();c.stroke()}}N.drawMarkers(b);this.ctx.restore();this.ctx.beginPath();c.beginPath()}};var O=
function(a,c,b,d,e,f,u,q,l,m){var g=15<d-c&&15<e-b?8:0.35*Math.min(d-c,e-b);color2="rgba(255, 255, 255, .4)";color3="rgba(255, 255, 255, 0.1)";color1=f;a.beginPath();a.moveTo(c,b);a.save();a.fillStyle=color1;a.fillRect(c,b,d-c,e-b);a.restore();!0===u&&(a.save(),a.beginPath(),a.moveTo(c,b),a.lineTo(c+g,b+g),a.lineTo(d-g,b+g),a.lineTo(d,b),a.closePath(),f=a.createLinearGradient((d+c)/2,b+g,(d+c)/2,b),f.addColorStop(0,color1),f.addColorStop(1,color2),a.fillStyle=f,a.fill(),a.restore());!0===q&&(a.save(),
a.beginPath(),a.moveTo(c,e),a.lineTo(c+g,e-g),a.lineTo(d-g,e-g),a.lineTo(d,e),a.closePath(),f=a.createLinearGradient((d+c)/2,e-g,(d+c)/2,e),f.addColorStop(0,color1),f.addColorStop(1,color2),a.fillStyle=f,a.fill(),a.restore());!0===l&&(a.save(),a.beginPath(),a.moveTo(c,b),a.lineTo(c+g,b+g),a.lineTo(c+g,e-g),a.lineTo(c,e),a.closePath(),f=a.createLinearGradient(c+g,(e+b)/2,c,(e+b)/2),f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,a.fill(),a.restore());!0===m&&(a.save(),a.beginPath(),
a.moveTo(d,b),a.lineTo(d-g,b+g),a.lineTo(d-g,e-g),a.lineTo(d,e),f=a.createLinearGradient(d-g,(e+b)/2,d,(e+b)/2),f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,a.fill(),a.closePath(),a.restore())};z.prototype.renderColumn=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=0,e,f,u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<
0,q=0.15*this.canvas.width,d=a.axisX.dataInfo.minDiff,l=0.9*(b.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(d)/a.plotType.totalDataSeries)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var g=0;g<a.dataSeriesIndexes.length;g++){var y=a.dataSeriesIndexes[g],h=this.data[y],r=h.dataPoints;1==r.length&&(l=
q);1>l?l=1:l>q&&(l=q);if(0<r.length)for(var n=5<l&&h.bevelEnabled?!0:!1,d=0;d<r.length;d++)if(r[d].getTime?f=r[d].x.getTime():f=r[d].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===typeof r[d].y){b=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(f-a.axisX.convertionParameters.minimum)+0.5<<0;e=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(r[d].y-a.axisY.convertionParameters.minimum)+0.5<<0;var B=
b-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+g)*l<<0,s=B+l<<0,v;0<=r[d].y?v=u:(v=e,e=u);e>v&&(v=e=v);c=r[d].color?r[d].color:h._colorSet[d%h._colorSet.length];O(this.ctx,B,e,s,v,c,n&&0<=r[d].y,0>r[d].y&&n,!1,!1);c=h.dataPointIds[d];this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:d,x1:B,y1:e,x2:s,y2:v};c=F(c);O(this._eventManager.ghostCtx,B,e,s,v,c,!1,!1,!1,!1);if(r[d].indexLabel||h.indexLabel)this._indexLabels.push({chartType:"column",dataPoint:r[d],
dataSeries:h,point:{x:b,y:0<=r[d].y?e:v},bounds:{x1:B,y1:Math.min(e,v),x2:s,y2:Math.max(e,v)},color:c})}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderStackedColumn=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=[],e=[],f=0,u,q=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,l=0.15*this.canvas.width,f=a.axisX.dataInfo.minDiff,g=0.9*(b.width/Math.abs(a.axisX.maximum-
a.axisX.minimum)*Math.abs(f)/a.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var y=0;y<a.dataSeriesIndexes.length;y++){var h=a.dataSeriesIndexes[y],r=this.data[h],n=r.dataPoints;1==n.length&&(g=l);1>g?g=1:g>l&&(g=l);if(0<n.length){var B=5<g&&r.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";
for(f=0;f<n.length;f++)if(c=n[f].x.getTime?n[f].x.getTime():n[f].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof n[f].y){b=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(c-a.axisX.convertionParameters.minimum)+0.5<<0;u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(n[f].y-a.axisY.convertionParameters.minimum)+0.5<<0;var s=b-a.plotType.plotUnits.length*g/2+a.index*g<<0,v=s+g<<0,x;if(0<=n[f].y){var p=
d[c]?d[c]:0;u-=p;x=q-p;d[c]=p+(x-u)}else p=e[c]?e[c]:0,x=u+p,u=q+p,e[c]=p+(x-u);c=n[f].color?n[f].color:r._colorSet[f%r._colorSet.length];O(this.ctx,s,u,v,x,c,B&&0<=n[f].y,0>n[f].y&&B,!1,!1);c=r.dataPointIds[f];this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:f,x1:s,y1:u,x2:v,y2:x};c=F(c);O(this._eventManager.ghostCtx,s,u,v,x,c,!1,!1,!1,!1);if(n[f].indexLabel||r.indexLabel)this._indexLabels.push({chartType:"stackedColumn",dataPoint:n[f],dataSeries:r,point:{x:b,
y:0<=n[f].y?u:x},bounds:{x1:s,y1:Math.min(u,x),x2:v,y2:Math.max(u,x)},color:c})}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderStackedColumn100=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=[],e=[],f=0,u,g=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,l=0.15*this.canvas.width,f=a.axisX.dataInfo.minDiff,m=0.9*(b.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*
Math.abs(f)/a.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var y=0;y<a.dataSeriesIndexes.length;y++){var h=a.dataSeriesIndexes[y],r=this.data[h],n=r.dataPoints;1==n.length&&(m=l);1>m?m=1:m>l&&(m=l);if(0<n.length)for(var B=5<m&&r.bevelEnabled?!0:!1,f=0;f<n.length;f++)if(c=n[f].x.getTime?
n[f].x.getTime():n[f].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof n[f].y){b=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(c-a.axisX.convertionParameters.minimum)+0.5<<0;u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(n[f].y/a.dataPointYSums[c]):0)-a.axisY.convertionParameters.minimum)+0.5<<0;var s=b-a.plotType.plotUnits.length*m/2+a.index*m<<0,v=s+m<<0,p;
if(0<=n[f].y){var I=d[c]?d[c]:0;u-=I;p=g-I;d[c]=I+(p-u)}else I=e[c]?e[c]:0,p=u+I,u=g+I,e[c]=I+(p-u);c=n[f].color?n[f].color:r._colorSet[f%r._colorSet.length];O(this.ctx,s,u,v,p,c,B&&0<=n[f].y,0>n[f].y&&B,!1,!1);c=r.dataPointIds[f];this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:f,x1:s,y1:u,x2:v,y2:p};c=F(c);O(this._eventManager.ghostCtx,s,u,v,p,c,!1,!1,!1,!1);if(n[f].indexLabel||r.indexLabel)this._indexLabels.push({chartType:"stackedColumn100",dataPoint:n[f],
dataSeries:r,point:{x:b,y:0<=n[f].y?u:p},bounds:{x1:s,y1:Math.min(u,p),x2:v,y2:Math.max(u,p)},color:c})}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderBar=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=0,e,f,u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,g=0.15*this.canvas.height,d=a.axisX.dataInfo.minDiff,l=0.9*(b.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*
Math.abs(d)/a.plotType.totalDataSeries)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var m=0;m<a.dataSeriesIndexes.length;m++){var y=a.dataSeriesIndexes[m],h=this.data[y],r=h.dataPoints;1==r.length&&(l=g);1>l?l=1:l>g&&(l=g);if(0<r.length){var n=5<l&&h.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(d=0;d<
r.length;d++)if(r[d].getTime?f=r[d].x.getTime():f=r[d].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===typeof r[d].y){b=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(f-a.axisX.convertionParameters.minimum)+0.5<<0;e=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(r[d].y-a.axisY.convertionParameters.minimum)+0.5<<0;var p=b-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+m)*l<<0,s=p+l<<0,v;
0<=r[d].y?v=u:(v=e,e=u);c=r[d].color?r[d].color:h._colorSet[d%h._colorSet.length];O(this.ctx,v,p,e,s,c,n,!1,!1,!1);c=h.dataPointIds[d];this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:d,x1:v,y1:p,x2:e,y2:s};c=F(c);O(this._eventManager.ghostCtx,v,p,e,s,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"bar",dataPoint:r[d],dataSeries:h,point:{x:0<=r[d].y?e:v,y:b},bounds:{x1:Math.min(v,e),y1:p,x2:Math.max(v,e),y2:s},color:c})}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};
z.prototype.renderStackedBar=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=[],e=[],f=0,u,g=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,l=0.15*this.canvas.width,f=a.axisX.dataInfo.minDiff,m=0.9*(b.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(f)/a.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,
b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var y=0;y<a.dataSeriesIndexes.length;y++){var h=a.dataSeriesIndexes[y],r=this.data[h],n=r.dataPoints;1==n.length&&(m=l);1>m?m=1:m>l&&(m=l);if(0<n.length){var p=5<m&&r.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(f=0;f<n.length;f++)if(c=n[f].x.getTime?n[f].x.getTime():n[f].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof n[f].y){b=
a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(c-a.axisX.convertionParameters.minimum)+0.5<<0;u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(n[f].y-a.axisY.convertionParameters.minimum)+0.5<<0;var s=b-a.plotType.plotUnits.length*m/2+a.index*m<<0,v=s+m<<0,x;if(0<=n[f].y){var I=d[c]?d[c]:0;x=g+I;u+=I;d[c]=I+(u-x)}else I=e[c]?e[c]:0,x=u-I,u=g-I,e[c]=I+(u-x);c=n[f].color?n[f].color:r._colorSet[f%r._colorSet.length];O(this.ctx,x,s,
u,v,c,p,!1,!1,!1);c=r.dataPointIds[f];this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:f,x1:x,y1:s,x2:u,y2:v};c=F(c);O(this._eventManager.ghostCtx,x,s,u,v,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar",dataPoint:n[f],dataSeries:r,point:{x:0<=n[f].y?u:x,y:b},bounds:{x1:Math.min(x,u),y1:s,x2:Math.max(x,u),y2:v},color:c})}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderStackedBar100=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=
null,b=this.getPlotArea(),d=[],e=[],f=0,u,g=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,l=0.15*this.canvas.width,f=a.axisX.dataInfo.minDiff,m=0.9*(b.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(f)/a.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,
b.height);this._eventManager.ghostCtx.clip();for(var h=0;h<a.dataSeriesIndexes.length;h++){var p=a.dataSeriesIndexes[h],r=this.data[p],n=r.dataPoints;1==n.length&&(m=l);1>m?m=1:m>l&&(m=l);if(0<n.length){var B=5<m&&r.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(f=0;f<n.length;f++)if(c=n[f].x.getTime?n[f].x.getTime():n[f].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof n[f].y){b=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*
(c-a.axisX.convertionParameters.minimum)+0.5<<0;u=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(n[f].y/a.dataPointYSums[c]):0)-a.axisY.convertionParameters.minimum)+0.5<<0;var s=b-a.plotType.plotUnits.length*m/2+a.index*m<<0,v=s+m<<0,x;if(0<=n[f].y){var I=d[c]?d[c]:0;x=g+I;u+=I;d[c]=I+(u-x)}else I=e[c]?e[c]:0,x=u-I,u=g-I,e[c]=I+(u-x);c=n[f].color?n[f].color:r._colorSet[f%r._colorSet.length];O(this.ctx,x,s,u,v,c,B,!1,!1,!1);c=r.dataPointIds[f];
this._eventManager.objectMap[c]={objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:f,x1:x,y1:s,x2:u,y2:v};c=F(c);O(this._eventManager.ghostCtx,x,s,u,v,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar100",dataPoint:n[f],dataSeries:r,point:{x:0<=n[f].y?u:x,y:b},bounds:{x1:Math.min(x,u),y1:s,x2:Math.max(x,u),y2:v},color:c})}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderArea=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,
b=a.axisX.lineCoordinates,d=a.axisY.lineCoordinates,e=[],f=this.getPlotArea();this.ctx.save();c.save();this.ctx.beginPath();this.ctx.rect(f.x1,f.y1,f.width,f.height);this.ctx.clip();c.beginPath();c.rect(f.x1,f.y1,f.width,f.height);c.clip();for(f=0;f<a.dataSeriesIndexes.length;f++){var u=a.dataSeriesIndexes[f],g=this.data[u],l=g.dataPoints,e=g.id;this._eventManager.objectMap[e]={objectType:"dataSeries",dataSeriesIndex:u};e=F(e);c.fillStyle=e;var e=[],m=!0,h=0,p,r,n=a.axisY.convertionParameters.reference+
a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)+0.5<<0,B,s=null;if(0<l.length){color=g._colorSet[h%g._colorSet.length];for(this.ctx.fillStyle=color;h<l.length;h++)if(r=l[h].x.getTime?l[h].x.getTime():l[h].x,!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax))if(p=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(r-a.axisX.convertionParameters.minimum)+0.5<<0,r=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*
(l[h].y-a.axisY.convertionParameters.minimum)+0.5<<0,"number"===typeof l[h].y){m?(this.ctx.beginPath(),this.ctx.moveTo(p,r),s={x:p,y:r},c.beginPath(),c.moveTo(p,r),m=!1):(this.ctx.lineTo(p,r),c.lineTo(p,r),0==h%250&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?B=n:0>a.axisY.maximum?B=d.y1:0<a.axisY.minimum&&(B=b.y2),this.ctx.lineTo(p,B),this.ctx.lineTo(s.x,B),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(p,r),c.lineTo(p,B),c.lineTo(s.x,B),c.closePath(),c.fill(),c.beginPath(),
c.moveTo(p,r),s={x:p,y:r}));var v=g.dataPointIds[h];this._eventManager.objectMap[v]={objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:h,x1:p,y1:r};if(0!==l[h].markerSize&&(0<l[h].markerSize||0<g.markerSize)){var x=g.getMarkerProperties(h,p,r,this.ctx);e.push(x);markerColor=F(v);e.push({x:p,y:r,ctx:c,type:x.type,size:x.size,color:markerColor,borderColor:markerColor,borderThickness:x.borderThickness})}(l[h].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:l[h],dataSeries:g,
point:{x:p,y:r},color:color})}0>=a.axisY.minimum&&0<=a.axisY.maximum?B=n:0>a.axisY.maximum?B=d.y1:0<a.axisY.minimum&&(B=b.y2);this.ctx.lineTo(p,B);this.ctx.lineTo(s.x,B);this.ctx.closePath();this.ctx.fill();c.lineTo(p,B);c.lineTo(s.x,B);c.closePath();c.fill();N.drawMarkers(e)}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderStackedArea=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=[],d=this.getPlotArea(),e=[],f=[],g=0,q,l,m,h=a.axisY.convertionParameters.reference+
a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,p=this._eventManager.ghostCtx;p.beginPath();this.ctx.save();p.save();this.ctx.beginPath();this.ctx.rect(d.x1,d.y1,d.width,d.height);this.ctx.clip();p.beginPath();p.rect(d.x1,d.y1,d.width,d.height);p.clip();xValuePresent=[];for(d=0;d<a.dataSeriesIndexes.length;d++){var r=a.dataSeriesIndexes[d],n=this.data[r],B=n.dataPoints;n.dataPointIndexes=[];for(g=0;g<B.length;g++)r=B[g].x.getTime?B[g].x.getTime():B[g].x,n.dataPointIndexes[r]=
g,xValuePresent[r]||(f.push(r),xValuePresent[r]=!0);f.sort(M)}for(d=0;d<a.dataSeriesIndexes.length;d++){var r=a.dataSeriesIndexes[d],n=this.data[r],B=n.dataPoints,s=!0,v=[],g=n.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:r};g=F(g);p.fillStyle=g;if(0<f.length){c=n._colorSet[0];this.ctx.fillStyle=c;for(g=0;g<f.length;g++){m=f[g];var x=null,x=0<=n.dataPointIndexes[m]?B[n.dataPointIndexes[m]]:{x:m,y:0};if(!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&
"number"===typeof x.y){q=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(m-a.axisX.convertionParameters.minimum)+0.5<<0;l=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(x.y-a.axisY.convertionParameters.minimum)+0.5<<0;var I=e[m]?e[m]:0;l-=I;v.push({x:q,y:h-I});e[m]=h-l;if(s)this.ctx.beginPath(),this.ctx.moveTo(q,l),p.beginPath(),p.moveTo(q,l),s=!1;else if(this.ctx.lineTo(q,l),p.lineTo(q,l),0==g%250){for(;0<v.length;){var t=v.pop();
this.ctx.lineTo(t.x,t.y);p.lineTo(t.x,t.y)}this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(q,l);p.closePath();p.fill();p.beginPath();p.moveTo(q,l);v.push({x:q,y:h-I})}if(0<=n.dataPointIndexes[m]){var w=n.dataPointIds[n.dataPointIndexes[m]];this._eventManager.objectMap[w]={objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:n.dataPointIndexes[m],x1:q,y1:l}}if(0<=n.dataPointIndexes[m]&&0!==x.markerSize&&(0<x.markerSize||0<n.markerSize))m=n.getMarkerProperties(g,q,l,this.ctx),
b.push(m),markerColor=F(w),b.push({x:q,y:l,ctx:p,type:m.type,size:m.size,color:markerColor,borderColor:markerColor,borderThickness:m.borderThickness});(x.indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:x,dataSeries:n,point:{x:q,y:l},color:c})}}for(;0<v.length;)t=v.pop(),this.ctx.lineTo(t.x,t.y),p.lineTo(t.x,t.y);this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(q,l);p.closePath();p.fill();p.beginPath();p.moveTo(q,l)}delete n.dataPointIndexes}N.drawMarkers(b);
this.ctx.restore();p.restore()}};z.prototype.renderStackedArea100=function(a){if(!(0>=a.dataSeriesIndexes.length)){var c=null,b=this.getPlotArea(),d=[],e=[],f=[],g=0,q,l,m,h=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,p=0.15*this.canvas.width,r=a.axisX.dataInfo.minDiff,r=0.9*b.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(r)<<0,n=this._eventManager.ghostCtx;this.ctx.save();n.save();this.ctx.beginPath();this.ctx.rect(b.x1,
b.y1,b.width,b.height);this.ctx.clip();n.beginPath();n.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();xValuePresent=[];for(b=0;b<a.dataSeriesIndexes.length;b++){var B=a.dataSeriesIndexes[b],s=this.data[B],v=s.dataPoints;s.dataPointIndexes=[];for(g=0;g<v.length;g++)B=v[g].x.getTime?v[g].x.getTime():v[g].x,s.dataPointIndexes[B]=g,xValuePresent[B]||(f.push(B),xValuePresent[B]=!0);f.sort(M)}for(b=0;b<a.dataSeriesIndexes.length;b++){var B=a.dataSeriesIndexes[b],s=this.data[B],v=s.dataPoints,
x=!0,c=s.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:B};c=F(c);n.fillStyle=c;1==v.length&&(r=p);1>r?r=1:r>p&&(r=p);var I=[];if(0<f.length){c=s._colorSet[g%s._colorSet.length];this.ctx.fillStyle=c;for(g=0;g<f.length;g++){m=f[g];var t=null,t=0<=s.dataPointIndexes[m]?v[s.dataPointIndexes[m]]:{x:m,y:0};if(!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t.y){l=0!==a.dataPointYSums[m]?100*(t.y/a.dataPointYSums[m]):0;q=a.axisX.convertionParameters.reference+
a.axisX.convertionParameters.pixelPerUnit*(m-a.axisX.convertionParameters.minimum)+0.5<<0;l=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(l-a.axisY.convertionParameters.minimum)+0.5<<0;var w=e[m]?e[m]:0;l-=w;I.push({x:q,y:h-w});e[m]=h-l;if(x)this.ctx.beginPath(),this.ctx.moveTo(q,l),n.beginPath(),n.moveTo(q,l),x=!1;else if(this.ctx.lineTo(q,l),n.lineTo(q,l),0==g%250){for(;0<I.length;){var z=I.pop();this.ctx.lineTo(z.x,z.y);n.lineTo(z.x,z.y)}this.ctx.closePath();
this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(q,l);n.closePath();n.fill();n.beginPath();n.moveTo(q,l);I.push({x:q,y:h-w})}if(0<=s.dataPointIndexes[m]){var C=s.dataPointIds[s.dataPointIndexes[m]];this._eventManager.objectMap[C]={objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:s.dataPointIndexes[m],x1:q,y1:l}}if(0<=s.dataPointIndexes[m]&&0!==t.markerSize&&(0<t.markerSize||0<s.markerSize))m=s.getMarkerProperties(g,q,l,this.ctx),d.push(m),markerColor=F(C),d.push({x:q,y:l,ctx:n,type:m.type,
size:m.size,color:markerColor,borderColor:markerColor,borderThickness:m.borderThickness});(t.indexLabel||s.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:t,dataSeries:s,point:{x:q,y:l},color:c})}}for(;0<I.length;)z=I.pop(),this.ctx.lineTo(z.x,z.y),n.lineTo(z.x,z.y);this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(q,l);n.closePath();n.fill();n.beginPath();n.moveTo(q,l)}delete s.dataPointIndexes}N.drawMarkers(d);this.ctx.restore();n.restore()}};z.prototype.renderBubble=
function(a){var c=a.dataSeriesIndexes.length;if(!(0>=c)){var b=this.getPlotArea(),d=0,e,f,g=0.15*this.canvas.width,d=a.axisX.dataInfo.minDiff,c=0.9*(b.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(d)/c)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var q=-Infinity,l=Infinity,m=0;m<a.dataSeriesIndexes.length;m++)for(var h=
a.dataSeriesIndexes[m],p=this.data[h],r=p.dataPoints,n=0,d=0;d<r.length;d++)if(e=r[d].getTime?e=r[d].x.getTime():e=r[d].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"undefined"!==typeof r[d].z)n=r[d].z,n>q&&(q=n),n<l&&(l=n);for(var B=25*Math.PI,b=Math.max(Math.pow(0.25*Math.min(b.height,b.width)/2,2)*Math.PI,B),m=0;m<a.dataSeriesIndexes.length;m++)if(h=a.dataSeriesIndexes[m],p=this.data[h],r=p.dataPoints,1==r.length&&(c=g),1>c?c=1:c>g&&(c=g),0<r.length){this.ctx.strokeStyle=
"#4572A7 ";for(d=0;d<r.length;d++)if(e=r[d].getTime?e=r[d].x.getTime():e=r[d].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"===typeof r[d].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+0.5<<0;f=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(r[d].y-a.axisY.convertionParameters.minimum)+0.5<<0;var n=r[d].z,s=2*Math.max(Math.sqrt((B+(b-B)/(q-l)*(n-l))/Math.PI)<<
0,1),n=p.getMarkerProperties(d,this.ctx);n.size=s;N.drawMarker(e,f,this.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness);var v=p.dataPointIds[d];this._eventManager.objectMap[v]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:d,x1:e,y1:f,size:s};s=F(v);N.drawMarker(e,f,this._eventManager.ghostCtx,n.type,n.size,s,s,n.borderThickness)}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};z.prototype.renderScatter=function(a){var c=a.dataSeriesIndexes.length;if(!(0>=c)){var b=
this.getPlotArea(),d=0,e,f,g=0.15*this.canvas.width,d=a.axisX.dataInfo.minDiff,c=0.9*(b.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(d)/c)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(b.x1,b.y1,b.width,b.height);this.ctx.clip();this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height);this._eventManager.ghostCtx.clip();for(var q=0;q<a.dataSeriesIndexes.length;q++){var l=a.dataSeriesIndexes[q],m=this.data[l],h=m.dataPoints;1==h.length&&(c=
g);1>c?c=1:c>g&&(c=g);if(0<h.length){this.ctx.strokeStyle="#4572A7 ";Math.pow(0.3*Math.min(b.height,b.width)/2,2);for(var p=0,r=0,d=0;d<h.length;d++)if(e=h[d].getTime?e=h[d].x.getTime():e=h[d].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"===typeof h[d].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+0.5<<0;f=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*
(h[d].y-a.axisY.convertionParameters.minimum)+0.5<<0;var n=m.getMarkerProperties(d,e,f,this.ctx);N.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.color,n.thickness);Math.sqrt((p-e)*(p-e)+(r-f)*(r-f))<Math.min(n.size,5)||(p=m.dataPointIds[d],this._eventManager.objectMap[p]={objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:d,x1:e,y1:f},p=F(p),N.drawMarker(n.x,n.y,this._eventManager.ghostCtx,n.type,n.size,p,p,n.borderThickness),p=e,r=f)}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};
var T=function(a,c,b,d,e,f,g){a.save();"pie"===e?(a.beginPath(),a.moveTo(c.x,c.y),a.arc(c.x,c.y,b,f,g,!1),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.stroke(),a.fill()):"doughnut"===e&&(a.beginPath(),a.arc(c.x,c.y,b,f,g,!1),a.arc(c.x,c.y,0.6*b,g,f,!0),a.closePath(),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.stroke(),a.fill());a.restore()};z.prototype.renderPie=function(a){function c(){A.ctx.save();A._eventManager.ghostCtx.save();A.ctx.translate(w.x,w.y);A._eventManager.ghostCtx.translate(w.x,
w.y);A.ctx.fillStyle=A.backgroundColor?A.backgroundColor:"white";A.ctx.fillRect(-t.width/2,-t.height/2,t.width,t.height);var a=!0===A.animationEnabled?60:1;if(null!=G&&G.frame<a){G.isAnimating--;for(var d=0,d=l[0],q=G.maxAngle+2*Math.PI/a,m=0;m<x;m++){var n=f.dataPoints[m].exploded,h=f.dataPoints[m].color?f.dataPoints[m].color:f.color?f.color:z[m%z.length],s=d,v=d=s+2*Math.PI/p*Math.abs(f.dataPoints[m].y),y=!1;v>q&&(v=q,y=!0);type=f.type;"outside"===f.indexLabelPlacement?(indexLineMinLength=Math.min(t.width,
t.height)/14,r=indexLineMinLength<C?C-indexLineMinLength:C-25):"inside"===f.indexLabelPlacement&&(r=(1-g)*0.5*Math.min(t.width,t.height));var B={x:0,y:0};T(A.ctx,B,r,h,type,s,v);s=!0===f.dataPoints[m].exploded?!0:!1;typeof f.dataPoints[m]===Boolean&&(userSetExploed=!0);v=f.dataPointIds[m];A._eventManager.objectMap[v]={objectType:"dataPoint",dataSeriesIndex:0,dataPointIndex:m,center:{x:w.x,y:w.y},radius:r,color:h,startAngle:l[m],endAngle:l[m+1],currentlyExploded:s,userSetExploded:n,pastExploded:!1};
n=J(v);A._eventManager.ghostCtx.save();h="rgb("+n[0]+","+n[1]+","+n[2]+")";T(A._eventManager.ghostCtx,B,r,h,type,l[m],l[m+1]);A._eventManager.ghostCtx.restore();if(y)break}G.maxAngle=q;G.frame++;G.frame<a?A.requestAnimFrame.call(window,c):(e(0,a),A.ctx.restore(),A._eventManager.ghostCtx.restore(),setTimeout(function(){G.frame=0;G.isAnimating=20;b()},200))}A.renderCount++;A.ctx.restore();A._eventManager.ghostCtx.restore()}function b(){A.ctx.save();A._eventManager.ghostCtx.save();A.ctx.translate(w.x,
w.y);A._eventManager.ghostCtx.translate(w.x,w.y);if(null!==G&&20>G.frame){G.isAnimating--;A.ctx.fillStyle=A.backgroundColor?A.backgroundColor:"white";A.ctx.fillRect(-t.width/2,-t.height/2,t.width,t.height);for(var a=0;a<x;a++){var d=f.dataPoints[a].color?f.dataPoints[a].color:f.color?f.color:z[a%z.length],c={x:0,y:0},q=r*g*Math.cos(m[a]),n=r*g*Math.sin(m[a]),h=f.type,p=f.dataPointIds[a],s=A._eventManager.objectMap[p].currentlyExploded,v=A._eventManager.objectMap[p].pastExploded;!0===s&&!1===v?(c.x+=
q/20*(G.frame+1),c.y+=n/20*(G.frame+1),20===G.frame+1&&(A._eventManager.objectMap[p].pastExploded=!0)):!0===s&&!0===v&&(c.x+=q,c.y+=n);A._eventManager.objectMap[p].center.x=c.x+w.x;A._eventManager.objectMap[p].center.y=c.y+w.y;v!==s&&(q={},q.dataSeries=f,q.dataPoint=f.dataPoints[a],q.index=a,A._toolTip.highlightObjects([q]));T(A.ctx,c,r,d,h,l[a],l[a+1]);19===G.frame&&(p=f.dataPointIds[a],d=J(p),A._eventManager.ghostCtx.save(),d="rgb("+d[0]+","+d[1]+","+d[2]+")",T(A._eventManager.ghostCtx,c,r,d,h,
l[a],l[a+1]),A._eventManager.ghostCtx.restore())}G.frame++;20>G.frame&&A.requestAnimFrame.call(window,b)}e(G.frame,20);A.ctx.restore();A._eventManager.ghostCtx.restore()}function d(){A.ctx.save();A._eventManager.ghostCtx.save();A.ctx.translate(w.x,w.y);A._eventManager.ghostCtx.translate(w.x,w.y);if(null!==G&&0<G.frame){G.isAnimating--;A.ctx.fillStyle=A.backgroundColor?A.backgroundColor:"white";A.ctx.fillRect(-t.width/2,-t.height/2,t.width,t.height);for(var a=0;a<x;a++){var b=f.dataPointIds[a],c=A._eventManager.objectMap[b].currentlyExploded,
q=A._eventManager.objectMap[b].pastExploded,n=f.dataPoints[a].color?f.dataPoints[a].color:f.color?f.color:z[a%z.length],h={x:0,y:0},p=f.type,c=A._eventManager.objectMap[b].currentlyExploded,s=r*g*Math.cos(m[a]),v=r*g*Math.sin(m[a]);!1===c&&!0===q?(h.x+=s/20*G.frame,h.y+=v/20*G.frame,1===G.frame&&(A._eventManager.objectMap[b].pastExploded=!1)):!0===c&&!0===q&&(h.x+=s,h.y+=v);A._eventManager.objectMap[b].center.x=h.x+w.x;A._eventManager.objectMap[b].center.y=h.y+w.y;q!==c&&(b={},b.dataSeries=f,b.dataPoint=
f.dataPoints[a],b.index=a,A._toolTip.highlightObjects([b]));T(A.ctx,h,r,n,p,l[a],l[a+1]);1===G.frame&&(b=f.dataPointIds[a],n=J(b),A._eventManager.ghostCtx.save(),n="rgb("+n[0]+","+n[1]+","+n[2]+")",T(A._eventManager.ghostCtx,h,r,n,p,l[a],l[a+1]),A._eventManager.ghostCtx.restore())}G.frame--;0<G.frame&&A.requestAnimFrame.call(window,d)}e(G.frame,20);A.ctx.restore();A._eventManager.ghostCtx.restore()}function e(a,b){for(var c=0;c<f.dataPoints.length;c++){var d=f.dataPointIds[c],e=A.ctx,l=n[c],p=B[c],
t=s[c],w=v[c],x=A._eventManager.objectMap[d].currentlyExploded,z=h[c],C=r,D=m[c],E=f.dataPoints[c].indexLabelFontColor?f.dataPoints[c].indexLabelFontColor:f.indexLabelFontColor,F=f.indexLabelPlacement,H=f.dataPoints[c].indexLabelLineColor?f.dataPoints[c].indexLabelLineColor:f.indexLabelLineColor,G=f.dataPoints[c].indexLabelLineThickness?f.dataPoints[c].indexLabelLineThickness:f.indexLabelLineThickness,I=a,J=b,d=A._eventManager.objectMap[d].pastExploded,K=q[c],L=f.dataPoints[c].indexLabelFontStyle?
f.dataPoints[c].indexLabelFontStyle:f.indexLabelFontStyle,M=f.dataPoints[c].indexLabelFontWeight?f.dataPoints[c].indexLabelFontWeight:f.indexLabelFontWeight,O=f.dataPoints[c].indexLabelFontSize?f.dataPoints[c].indexLabelFontSize:f.indexLabelFontSize,P=f.dataPoints[c].indexLabelFontFamily?f.dataPoints[c].indexLabelFontFamily:f.indexLabelFontFamily,N=f.dataPoints[c].indexLabelBackgroundColor?f.dataPoints[c].indexLabelBackgroundColor:f.indexLabelBackgroundColor?f.indexLabelBackgroundColor:null,Q=c;e.save();
e.lineWidth=G;e.font=L+" "+M+" "+O+"px "+P;G="left";0>l&&"outside"===F?G="right":0<=l&&"outside"===F?G="left":"inside"===F&&(G="center");e.textAlign=G;e.textBaseline="middle";e.beginPath();N&&(e.fillStyle=N,"outside"===F?0<=l?e.fillRect(l-2.5,t-2.5,p-l+5,w-t+5):e.fillRect(l+2.5,t-2.5,p-l-5,w-t+5):"inside"===F&&(0<=l?e.fillRect(l-K/2-2.5,t-2.5,p-l+5,w-t+5):e.fillRect(l+K/2+2.5,t-2.5,p-l-5,w-t+5)));e.fillStyle=E;e.fillText(z,l,(t+w)/2);"outside"===F&&q[Q]&&(p=C*Math.cos(D),z=C*Math.sin(D),!0===x&&!0!==
d?(p+=C*g*Math.cos(D)/J*I,z+=C*g*Math.sin(D)/J*I):!0===x&&!0===d?(p+=C*g*Math.cos(D),z+=C*g*Math.sin(D)):!0!==x&&!0===d&&(p+=C*g*Math.cos(D)/J*I,z+=C*g*Math.sin(D)/J*I),e.moveTo(p,z),0<l?(e.lineTo(l-10,(t+w)/2),e.lineTo(l-2,(t+w)/2)):0>l&&(e.lineTo(l+10,(t+w)/2),e.lineTo(l+2,(t+w)/2)),e.strokeStyle=H,e.stroke());e.restore()}}if(!(0>=a.dataSeriesIndexes.length)){var f=this.data[a.dataSeriesIndexes[0]],g=0.07;ctx=this.ctx;var q=[],l=[],m=[],h=[],p=0,r=0,n=[],B=[],s=[],v=[],x=f.dataPoints.length,t=this.getPlotArea();
t.width=t.x2-t.x1;t.height=t.y2-t.y1;var w={x:(t.x2+t.x1)/2,y:(t.y2+t.y1)/2};a=f.startAngle?f.startAngle:0;a=(a%360+360)%360*Math.PI/180;l.push(a);var z=this._selectedColorSet,C=0.5*Math.min(t.width,t.height);for(a=0;a<x;a++){var E=f.dataPoints[a].indexLabel?f.dataPoints[a].indexLabel:f.indexLabel?f.indexLabel:f.dataPoints[a].label?f.dataPoints[a].label:f.label?f.label:"",E=this.replaceKeywordsWithValue(E,f.dataPoints[a],f,a);h.push(E);var E=f.dataPoints[a].indexLabelFontStyle?f.dataPoints[a].indexLabelFontStyle:
f.indexLabelFontStyle,F=f.dataPoints[a].indexLabelFontWeight?f.dataPoints[a].indexLabelFontWeight:f.indexLabelFontWeight,D=f.dataPoints[a].indexLabelFontSize?f.dataPoints[a].indexLabelFontSize:f.indexLabelFontSize,H=f.dataPoints[a].indexLabelFontFamily?f.dataPoints[a].indexLabelFontFamily:f.indexLabelFontFamily;ctx.save();ctx.font=E+" "+F+" "+D+"px "+H;E=ctx.measureText(h[a]).width;ctx.restore();q.push(E);p+=Math.abs(f.dataPoints[a].y)}for(a=E=0;a<x;a++)F=Math.abs(f.dataPoints[a].y),F=2*Math.PI*(F/
p),l.push(l[a]+F),F=F/2+l[a],m.push(F%(2*Math.PI)),E+=q[a];0===E&&(f.indexLabelPlacement="inside");E=0;if("inside"===f.indexLabelPlacement){C*=0.8*(1-g);for(a=0;a<x;a++)D=C*Math.cos(m[a]),H=C*Math.sin(m[a]),n.push(D),0<D?B.push(n[a]+q[a]):B.push(n[a]-q[a]),s.push(H-f.indexLabelFontSize/2),v.push(H+f.indexLabelFontSize/2)}else if("outside"===f.indexLabelPlacement)for(F=0;3>F;F++){for(a=0;a<x;a++)D=C*Math.cos(m[a]),H=C*Math.sin(m[a]),n.push(D),0<D?B.push(n[a]+q[a]):B.push(n[a]-q[a]),s.push(H-f.indexLabelFontSize/
2),v.push(H+f.indexLabelFontSize/2);for(a=0;a<x;a++)m[a]<Math.PI/2&&(1<=a&&s[a]<v[a-1])&&(D=v[a-1]-s[a],s[a]+=D+2,v[a]+=D+2,20>x&&(s[a]+=3,v[a]+=3)),m[a]<3*Math.PI/2&&m[a]>=Math.PI&&v[a]>s[a-1]&&(D=v[a]-s[a-1],s[a]-=D+2,v[a]-=D+2,20>x&&(s[a]-=3,v[a]-=3));for(a=x;0<=a;a--)m[a]<Math.PI&&m[a]>=Math.PI/2&&s[a]<v[a+1]&&(D=v[a+1]-s[a],s[a]+=D+2,v[a]+=D+2,20>x&&(s[a]+=3,v[a]+=3)),m[a]>=3*Math.PI/2&&v[a]>s[a+1]&&(D=v[a]-s[a+1],s[a]-=D,v[a]-=D,20>x&&(s[a]+=-3,v[a]+=-3));if(2>E){a=Math.min.apply(Math,s.concat(v));
var D=Math.max.apply(Math,s.concat(v)),H=Math.max.apply(Math,B.concat(n)),K=Math.min.apply(Math,B.concat(n)),L=[];Math.abs(a)>t.height/2&&L.push(Math.abs(a)-t.height/2);Math.abs(D)>t.height/2&&L.push(Math.abs(D)-t.height/2);Math.abs(H)>t.width/2&&L.push(Math.abs(H)-t.width/2);Math.abs(K)>t.width/2&&L.push(Math.abs(K)-t.width/2);n=[];B=[];s=[];v=[];L.length&&(C-=Math.max.apply(Math,L)+f.indexLabelFontSize/2+2,40>C&&(C=40));E++}}var A=this,G={frame:0,maxAngle:l[0],count:0};0!==A.renderCount&&(this.animationEnabled=
!1);G.isAnimating=60;c();this.pieDoughnutClickHandler=function(a){if(0===G.isAnimating){a=a.dataPointIndex;var c=f.dataPointIds[a];!0===A._eventManager.objectMap[c].currentlyExploded?(!0===A._eventManager.objectMap[c].userSetExploded&&(f.dataPoints[a].exploded=!1),A._eventManager.objectMap[c].currentlyExploded=!1,G.frame=20,G.isAnimating=20,d()):!1===A._eventManager.objectMap[c].currentlyExploded&&(!0===A._eventManager.objectMap[c].userSetExploded&&(f.dataPoints[a].exploded=!0),A._eventManager.objectMap[c].currentlyExploded=
!0,G.isAnimating=20,G.frame=0,b())}}}};z.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();U.prototype.registerSpace=function(a,c){"top"===a?this._topOccupied+=c.height:"bottom"===a?this._bottomOccupied+=c.height:"left"===a?this._leftOccupied+=c.width:"right"===a&&(this._rightOccupied+=c.width)};U.prototype.unRegisterSpace=
function(a,c){"top"===a?this._topOccupied-=c.height:"bottom"===a?this._bottomOccupied-=c.height:"left"===a?this._leftOccupied-=c.width:"right"===a&&(this._rightOccupied-=c.width)};U.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.canvas.width-this._rightOccupied,y2:this.canvas.height-this._bottomOccupied,width:this.canvas.width-this._rightOccupied-this._leftOccupied,height:this.canvas.height-this._bottomOccupied-this._topOccupied}};U.prototype.reset=function(){this._rightOccupied=
this._leftOccupied=this._bottomOccupied=this._topOccupied=0};g(L,P);L.prototype.render=function(a){a&&this.ctx.save();var c=this.ctx.font;this.ctx.textBaseline=this.textBaseline;this._isDirty&&this.measureText(this.ctx);this.ctx.translate(this.x,this.y);this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var b=0,d=this.padding,e=null;if(0<this.borderThickness&&this.borderColor||this.backgroundColor)this.ctx.roundRect(0,0,this.width,this.height,this.cornerRadius,this.borderThickness,
this.backgroundColor,this.borderColor),"middle"===this.textBaseline&&(d+=this.fontSize/2);this.ctx.fillStyle=this.fontColor;for(var f=0;f<this._wrappedText.lines.length;f++)e=this._wrappedText.lines[f],"right"===this.horizontalAlign?b=this.width-e.width-this.padding:"left"===this.horizontalAlign?b=this.padding:"center"===this.horizontalAlign&&(b=(this.width-2*this.padding)/2-e.width/2+this.padding),this.ctx.fillText(e.text,b,d),d+=e.height;this.ctx.font=c;a&&this.ctx.restore()};L.prototype.setText=
function(a){this.text=a;this._isDirty=!0;this._wrappedText=null};L.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";this._wrapText(this.ctx);this._isDirty=!1;return{width:this.width,height:this.height}};L.prototype._wrapText=function(){text=new String(p(this.text));var a=[],c=this.ctx.font,b=0,d=0;for(this.ctx.font=this._getFontString();0<text.length;){for(var e=text,f=0,g=0,q=this.maxWidth-2*this.padding,l=this.maxHeight-2*this.padding;;)if(f=
this.ctx.measureText(e).width,g=0,f>q)g=e.length/f*q,f=Math.max(Math.min(Math.ceil(g),e.length-1),0),g=e.lastIndexOf(" ",f,e.length-1),e=0<=g?p(text.slice(0,g)):p(text.slice(0,f-1));else{a.push({text:e,width:f,height:this.fontSize});d=Math.max(d,f);b+=this.fontSize;text=p(text.slice(e.length,text.length));break}if(l&&b>l-this.fontSize&&0<text.length){e=a.pop();Math.min(e.text.length,3);a.push(e);break}}this._wrappedText={lines:a,width:d,height:b};this.width=d+2*this.padding;this.height=b+2*this.padding;
this.ctx.font=c};L.prototype._getFontString=function(){return this.fontStyle+" "+this.fontWeight+" "+this.fontSize+"px "+this.fontFamily};g(X,P);X.prototype.render=function(){if(this.text){var a=this.chart.layoutManager.getFreeSpace(),c=0,b=0,d=0,e=0,f=0,g,q;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(e=a.width-2*this.margin,f=0.5*a.height-2*this.margin,d=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(e=a.height-2*this.margin,f=0.5*
a.width-2*this.margin):"center"===this.horizontalAlign&&(e=a.width-2*this.margin,f=0.5*a.height-2*this.margin));var f=new L(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:e,maxHeight:f,cornerRadius:this.cornerRadius,text:this.text,
padding:this.padding,textBaseline:this.borderColor&&0<this.borderThickness?"middle":"top"}),l=f.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(b=this.margin,q="top"):"bottom"===this.verticalAlign&&(b=a.y2-this.margin-l.height,q="bottom"),"left"===this.horizontalAlign?c=a.x1+this.margin:"center"===this.horizontalAlign?c=a.x1+(e/2-l.width/2)+this.margin:"right"===this.horizontalAlign&&(c=a.x2-this.margin-l.width),g=this.horizontalAlign,this.width=
l.width,this.height=l.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(c=a.x1+this.margin,b=a.y2-this.margin-(e/2-l.width/2),d=-90,q="left",this.width=l.height,this.height=l.width):"right"===this.horizontalAlign?(c=a.x2-this.margin,b=a.y1+this.margin+(e/2-l.width/2),d=90,q="right",this.width=l.height,this.height=l.width):"center"===this.horizontalAlign&&(b=a.y1+(a.height/2-l.height/2),c=a.x1+(a.width/2-l.width/2),q="center",this.width=l.width,this.height=l.height),g="center");
f.x=c;f.y=b;f.angle=d;f.horizontalAlign=g;f.render(!0);this.chart.layoutManager.registerSpace(q,{width:this.width+2*this.margin,height:this.height+2*this.margin});this.bounds={x1:c,y1:b,x2:c+this.width,y2:b+this.height};this.ctx.textBaseline="top"}};g(Y,P);Y.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace(),c=null,b=0,d=0,e=0,f=0,g=[],q=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",c=this.verticalAlign,e=0.9*a.width,f=0.5*a.height):
"center"===this.verticalAlign&&(this.orientation="vertical",c=this.horizontalAlign,e=0.5*a.width,f=0.9*a.height);for(var l=0;l<this.dataSeries.length;l++){var m=this.dataSeries[l],h=m.legendMarkerType?m.legendMarkerType:("line"===m.type||"scatter"===m.type||"bubble"===m.type)&&m.markerType?m.markerType:S.getDefaultLegendMarker(m.type),p=m.legendText?m.legendText:m.name,r=m.legendMarkerColor?m.legendMarkerColor:m.markerColor?m.markerColor:m._colorSet[0],n=!m.markerSize&&"line"===m.type?0:0.7*this.fontSize;
if("pie"!==m.type&&"doughnut"!==m.type)h={markerType:h,markerColor:r,text:p,textBlock:null,chartType:m.type,markerSize:n,lineColor:m._colorSet[0]},g.push(h);else for(var t=0;t<m.dataPoints.length;t++)n=m.dataPoints[t],h=n.legendMarkerType?n.legendMarkerType:m.legendMarkerType?m.legendMarkerType:S.getDefaultLegendMarker(m.type),p=n.legendText?n.legendText:m.legendText?m.legendText:n.name?n.name:"DataPoint: "+(t+1),r=n.markerColor?n.markerColor:m.markerColor?m.markerColor:n.color?n.color:m.color?m.color:
m._colorSet[t],n=(0===n.markerSize||0===m.markerSize&&!n.markerSize)&&"line"===m.type?0:0.7*this.fontSize,h={markerType:h,markerColor:r,text:p,textBlock:null,chartType:m.type,markerSize:n},g.push(h)}if(0<g.length){m=null;for(l=t=0;l<g.length;l++){h=g[l];if("horizontal"===this.orientation){if(h.textBlock=new L(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.fontSize,angle:0,text:h.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,
fontStyle:this.fontStyle,textBaseline:"top"}),h.textBlock.measureText(),!m||m.width+h.textBlock.width+(0===m.width?0:this.horizontalSpacing)>e)m={entries:[],width:0},q.push(m),this.height=q.length*(this.fontSize+5)}else this.height+this.fontSize<f?(m={entries:[],width:0},q.push(m),this.height=q.length*this.fontSize):(m=q[t],t=(t+1)%q.length),h.textBlock=new L(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.fontSize,angle:0,text:h.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,
fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),h.textBlock.measureText();h.textBlock.x=m.width+(0===m.width?0:this.horizontalSpacing);h.textBlock.y=0;m.width+=h.textBlock.width+(this.fontSize+5)+(0===m.width?0:this.horizontalSpacing);m.entries.push(h);this.width=Math.max(m.width,this.width)}this.height=q.length*this.fontSize}"top"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1:"right"===this.horizontalAlign?a.x2-this.width:a.x1+a.width/
2-this.width/2,b=a.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1:"right"===this.horizontalAlign?a.x2-this.width:a.x1+a.width/2-this.width/2,b=a.y1+a.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?a.x1:"right"===this.horizontalAlign?a.x2-this.width:a.x1+a.width/2-this.width/2,b=a.y2-this.height-5);for(l=0;l<q.length;l++){var m=q[l],s;for(s in m.entries)h=m.entries[s],a=h.textBlock.x+d,e=b+l*this.fontSize,"line"===h.chartType&&(this.ctx.strokeStyle=
h.lineColor,this.ctx.lineWidth=Math.ceil(this.fontSize/8),this.ctx.beginPath(),this.ctx.moveTo(a-2,e+this.fontSize/2),this.ctx.lineTo(a+2+this.fontSize,e+this.fontSize/2),this.ctx.stroke()),N.drawMarker(a+this.fontSize/2,e+this.fontSize/2,this.ctx,h.markerType,n,h.markerColor,null,0),h.textBlock.x=a+this.fontSize+5,h.textBlock.y=e,h.textBlock.render(!0)}this.chart.layoutManager.registerSpace(c,{width:this.width,height:this.height+5+5});this.bounds={x1:d,y1:b,x2:d+this.width,y2:b+this.height}};g($,
P);$.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)};g(S,P);S.prototype.getDefaultAxisPlacement=function(){type=this.type.toLowerCase();if("column"===type||"line"===type||"area"===type||"stackedcolumn"===type||"stackedline"===type||"bubble"===type||"scatter"===type||"stackedarea"===type||"stackedcolumn100"===type||"stackedline100"===type||"stackedarea100"===type)return"normal";if("bar"===type||"stackedbar"===
type||"stackedbar100"===type)return"xySwapped";if("pie"===type||"doughnut"===type)return"none";window.console.log("Unknown Chart Type: "+type);return null};S.getDefaultLegendMarker=function(a){a=a.toLowerCase();if("column"===a||"stackedcolumn"===a||"stackedline"===a||"bar"===a||"stackedbar"===a||"stackedbar100"===a||"bubble"===a||"scatter"===a||"stackedcolumn100"===a||"stackedline100"===a)return"square";if("line"===a||"pie"===a||"doughnut"===a)return"circle";if("area"===a||"stackedarea"===a||"stackedarea100"===
a)return"triangle";window.console.log("Unknown Chart Type: "+a);return null};S.prototype.findDataPointByX=function(a,c){for(var b=0,d=this.dataPoints.length,e,f={dataPoint:null,distance:Infinity,index:NaN},g=0,h=null;b<d;){g++;e=(b+d)/2<<0;var h=this.dataPoints[e],l=Math.abs(h.x-a);l<f.distance&&(f.dataPoint=h,f.distance=l,f.index=e);if(h.x<a)b=e+1;else if(h.x>a)d=e;else{f.dataPoint=h;f.distance=l;f.index=e;break}}return!c&&f.dataPoint.x===a?f:c&&null!==f.dataPoint?f:null};S.prototype.getMarkerProperties=
function(a,c,b,d){var e=this.dataPoints,f=e[a].markerColor?e[a].markerColor:this.markerColor?this.markerColor:e[a].color?e[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length];return{x:c,y:b,ctx:d,type:e[a].markerType?e[a].markerType:this.markerType,size:e[a].markerSize?e[a].markerSize:this.markerSize,color:f,borderColor:e[a].markerBorderColor?e[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:f,borderThickness:e[a].markerBorderThickness?e[a].markerBorderThickness:
this.markerBorderThickness?this.markerBorderThickness:1}};g(H,P);H.prototype.createLabels=function(){var a,c=0,b,d;if("axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType){b=t(new Date(this.maximum),this.interval,this.intervalType);d=ca;for(c=this.intervalStartPosition;c<b;t(c,this.interval,this.intervalType))a="axisX"===this.type&&this.labels[c]?this.labels[c]:d(c,this.valueFormatString),a=new L(this.ctx,{x:0,y:0,maxWidth:this.maxHeight,maxHeight:this.labelFontSize,angle:this.labelAngle,
text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:c.getTime(),textBlock:a,effectiveHeight:null})}else{b=this.maximum;d=aa;if(Math.floor(this.interval)<this.interval&&!this._options.interval){a=Math.ceil(this.interval);for(var e=Math.ceil(this.intervalStartPosition),f=!1,c=e;c<=this.maximum;c+=
a)if(this.labels[c])f=!0;else{f=!1;break}f&&(this.interval=a,this.intervalStartPosition=e)}for(c=this.intervalStartPosition;c<=b;c+=this.interval)a="axisX"===this.type&&this.labels[c]?this.labels[c]:d(c,this.valueFormatString),a=new L(this.ctx,{x:0,y:0,maxWidth:this.maxHeight,maxHeight:this.labelFontSize,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,
fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:c,textBlock:a,effectiveHeight:null})}};H.prototype.createLabelsAndCalculateWidth=function(){var a=0;this._labels=[];if("left"===this._position||"right"===this._position){this.createLabels();for(i=0;i<this._labels.length;i++){textBlock=this._labels[i].textBlock;var c=textBlock.measureText();labelEffectiveWidth=0===this.labelAngle?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+c.height/
2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));a<labelEffectiveWidth&&(a=labelEffectiveWidth);this._labels[i].effectiveWidth=labelEffectiveWidth}}return(this.title?this.titleFontSize+5:0)+a+this.tickLength+10};H.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[];var c,b=0;this.createLabels();if("bottom"===this._position||"top"===this._position)for(b=0;b<this._labels.length;b++){c=this._labels[b].textBlock;c=c.measureText();var d=0,d=0===this.labelAngle?c.height:c.width*
Math.sin(Math.PI/180*Math.abs(this.labelAngle))+c.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));a<d&&(a=d);this._labels[b].effectiveHeight=d}return(this.title?this.titleFontSize+5:0)+a+this.tickLength};H.setLayoutAndRender=function(a,c,b,d,e){var f,g,h,l=a.chart.ctx;a.calculateAxisParameters();c&&c.calculateAxisParameters();b&&b.calculateAxisParameters();if(c&&b&&"undefined"===typeof c._options.maximum&&"undefined"===typeof c._options.minimum&&"undefined"===typeof c._options.interval&&
"undefined"===typeof b._options.maximum&&"undefined"===typeof b._options.minimum&&"undefined"===typeof b._options.interval){var m=(c.maximum-c.minimum)/c.interval,p=(b.maximum-b.minimum)/b.interval;m>p?b.maximum=b.interval*m+b.minimum:p>m&&(c.maximum=c.interval*p+c.minimum)}var m=c?c.lineThickness?c.lineThickness:0:0,p=b?b.lineThickness?b.lineThickness:0:0,t=c?c.gridThickness?c.gridThickness:0:0,r=b?b.gridThickness?b.gridThickness:0:0,n=c?c.margin:0;if("normal"===d){var w=c?c.createLabelsAndCalculateWidth():
0,s=b?b.createLabelsAndCalculateWidth():0,v=a.createLabelsAndCalculateHeight();d=e.x1+w+n+m/2;f=e.y2-v-a.margin;g=e.x2-s>a.chart.canvas.width-10?a.chart.canvas.width-10:e.x2-s;h=e.y2-a.margin;a.lineCoordinates={x1:d,y1:f,x2:g,y2:f,width:Math.abs(g-d)};a.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-d,height:h-f};c&&(d=e.x1+c.margin,f=10>e.y1?10:e.y1,g=e.x1+w+c.margin,h=e.y2-v-a.margin-a.lineThickness/2,c.lineCoordinates={x1:g,y1:f,x2:g,y2:h,height:Math.abs(h-f)},c.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-
d,height:h-f});b&&(d=a.lineCoordinates.x2,f=10>e.y1?10:e.y1,g=d+s+b.margin,h=e.y2-v-a.margin-a.lineThickness/2,b.lineCoordinates={x1:d,y1:f,x2:d,y2:h,height:Math.abs(h-f)},b.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-d,height:h-f});l.save();l.rect(a.boundingRect.x1-40,a.boundingRect.y1,a.boundingRect.width+80,a.boundingRect.height);l.clip();a.renderLabelsTicksAndTitle();l.restore();c&&c.renderLabelsTicksAndTitle();b&&b.renderLabelsTicksAndTitle();e=a.chart.getPlotArea();l.save();l.rect(e.x1-Math.max(m+
a.gridThickness)/2,e.y1-Math.max(r,t)/2,Math.abs(e.x2-e.x1+Math.max(m+a.gridThickness)/2+Math.max(p,a.gridThickness)/2),Math.abs(e.y2-e.y1+Math.max(r,t,a.lineThickness)));l.clip();a.calculateValueToPixelConvertionParameters();c&&c.calculateValueToPixelConvertionParameters();b&&b.calculateValueToPixelConvertionParameters();a.renderInterlacedColors();c&&c.renderInterlacedColors();b&&b.renderInterlacedColors();l.restore();a.renderGrid();c&&c.renderGrid();b&&b.renderGrid()}else w=c?c.createLabelsAndCalculateHeight():
0,s=b?b.createLabelsAndCalculateHeight():0,v=a.createLabelsAndCalculateWidth(),c&&(d=e.x1+v+a.margin+a.lineThickness/2,f=e.y2-w-c.margin,g=e.x2>c.chart.canvas.width-10?c.chart.canvas.width-10:e.x2,h=e.y2-c.margin,c.lineCoordinates={x1:d,y1:f,x2:g,y2:f,width:Math.abs(g-d)},c.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-d,height:w}),b&&(d=e.x1+v+a.margin+a.lineThickness/2,f=e.y1+b.margin,g=e.x2>b.chart.canvas.width-10?b.chart.canvas.width-10:e.x2,h=e.y1+b.margin+s,b.lineCoordinates={x1:d,y1:h,x2:g,y2:h,
width:Math.abs(g-d)},b.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-d,height:s}),d=e.x1+a.margin,f=10>e.y1+s+p/2?10:e.y1+s+p/2,g=e.x1+v+a.margin,h=e.y2-w-n-m/2,a.lineCoordinates={x1:g,y1:f,x2:g,y2:h,height:Math.abs(h-f)},a.boundingRect={x1:d,y1:f,x2:g,y2:h,width:g-d,height:h-f},l.save(),c&&c.renderLabelsTicksAndTitle(),b&&b.renderLabelsTicksAndTitle(),a.renderLabelsTicksAndTitle(),e=a.chart.getPlotArea(),l.save(),l.rect(e.x1-Math.max(a.lineThickness,t,r),e.y1,Math.abs(e.x2-e.x1+Math.max(a.lineThickness,
t,r)+Math.max(t,r)),Math.abs(e.y2-e.y1+(m?m/2:0))),l.clip(),a.calculateValueToPixelConvertionParameters(),c&&c.calculateValueToPixelConvertionParameters(),b&&b.calculateValueToPixelConvertionParameters(),a.renderInterlacedColors(),c&&c.renderInterlacedColors(),b&&b.renderInterlacedColors(),a.renderGrid(),c&&c.renderGrid(),b&&b.renderGrid(),l.restore();a.renderAxisLine();c&&c.renderAxisLine();b&&b.renderAxisLine()};H.prototype.renderLabelsTicksAndTitle=function(){var a=!1,c=0,b=0.9,d=0;0!==this.labelAngle&&
360!==this.labelAngle&&(b=1.2);if("bottom"===this._position||"top"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||(f=f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),c+=f);c>this.lineCoordinates.width*b&&(a=!0)}if("left"===this._position||"right"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||(f=f.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+
f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c+=f);c>this.lineCoordinates.height*b&&(a=!0)}if("bottom"===this._position){var e=0;this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(var f,e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(c=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,c.y<<0),this.ctx.lineTo(c.x<<0,c.y+this.tickLength<<0),this.ctx.stroke()),
a&&0!==d++%2||(0===f.textBlock.angle?(c.x-=f.textBlock.width/2,c.y+=this.tickLength+f.textBlock.height/2):(c.x-=0>this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y+=this.tickLength+Math.abs(0>this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)),f.textBlock.x=c.x,f.textBlock.y=c.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new L(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,
maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("top"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=
this.tickColor;for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(c=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,c.y<<0),this.ctx.lineTo(c.x<<0,c.y-this.tickLength<<0),this.ctx.stroke()),a&&0!==d++%2||(0===f.textBlock.angle?(c.x-=f.textBlock.width/2,c.y-=this.tickLength+f.textBlock.height/2):(c.x-=0<this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y-=this.tickLength+
Math.abs(0<this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),f.textBlock.x=c.x,f.textBlock.y=c.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new L(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,
textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(c=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(c.x<<
0,c.y<<0),this.ctx.lineTo(c.x-this.tickLength<<0,c.y<<0),this.ctx.stroke()),a&&0!==d++%2||(f.textBlock.x=c.x-f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,f.textBlock.y=c.y-f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new L(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,
fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||
f.position>this.maximum||(c=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,c.y<<0),this.ctx.lineTo(c.x+this.tickLength<<0,c.y<<0),this.ctx.stroke()),a&&0!==d++%2||(f.textBlock.x=c.x+this.tickLength+5,f.textBlock.y=c.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new L(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",
fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}};H.prototype.renderInterlacedColors=function(){var a,c,b=this.chart.getPlotArea();if(("bottom"===this._position||"top"===this._position)&&this.interlacedColor){var d=
0;this.ctx.fillStyle=this.interlacedColor;for(d=0;d<this._labels.length;d+=2)a=this.getPixelCoordinatesOnAxis(this._labels[d].position),c=d+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[d+1].position),this.ctx.fillRect(a.x,b.y1,Math.abs(c.x-a.x),Math.abs(b.y1-b.y2))}else if(("left"===this._position||"right"===this._position)&&this.interlacedColor){this.ctx.fillStyle=this.interlacedColor;for(d=0;d<this._labels.length;d+=2)c=this.getPixelCoordinatesOnAxis(this._labels[d].position),
a=d+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[d+1].position),this.ctx.fillRect(b.x1,a.y,Math.abs(b.x1-b.x2),Math.abs(a.y-c.y))}};H.prototype.renderGrid=function(){var a,c=this.chart.getPlotArea();if("bottom"===this._position||"top"===this._position){if(this.gridThickness&&0<this.gridThickness){this.ctx.lineWidth=this.gridThickness;this.ctx.strokeStyle=this.gridColor;this.ctx.beginPath();for(b=0;b<this._labels.length;b++)this._labels[b].position<
this.minimum||this._labels[b].position>this.maximum||(a=this.getPixelCoordinatesOnAxis(this._labels[b].position),this.ctx.moveTo(a.x<<0,c.y1<<0),this.ctx.lineTo(a.x<<0,c.y2<<0),this.ctx.stroke())}}else if(("left"===this._position||"right"===this._position)&&this.gridThickness&&0<this.gridThickness){this.ctx.lineWidth=this.gridThickness;this.ctx.strokeStyle=this.gridColor;this.ctx.beginPath();for(var b=0;b<this._labels.length;b++)this._labels[b].position<this.minimum||this._labels[b].position>this.maximum||
(a=this.getPixelCoordinatesOnAxis(this._labels[b].position),this.ctx.moveTo(c.x1<<0,a.y<<0),this.ctx.lineTo(c.x2<<0,a.y<<0),this.ctx.stroke())}};H.prototype.renderAxisLine=function(){if("bottom"===this._position||"top"===this._position)this.lineThickness&&(this.ctx.lineWidth=this.lineThickness,this.ctx.strokeStyle=this.lineColor?this.lineColor:"black",this.ctx.beginPath(),this.ctx.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),this.ctx.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),
this.ctx.stroke());else if(("left"===this._position||"right"===this._position)&&this.lineThickness)this.ctx.lineWidth=this.lineThickness,this.ctx.strokeStyle=this.lineColor,this.ctx.beginPath(),this.ctx.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),this.ctx.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),this.ctx.stroke()};H.prototype.getPixelCoordinatesOnAxis=function(a){var c={},b=this.lineCoordinates.width,d=this.lineCoordinates.height;if("bottom"===this._position||"top"===this._position)b/=
Math.abs(this.maximum-this.minimum),c.x=this.lineCoordinates.x1+b*(a-this.minimum),c.y=this.lineCoordinates.y1;if("left"===this._position||"right"===this._position)b=d/Math.abs(this.maximum-this.minimum),c.y=this.lineCoordinates.y2-b*(a-this.minimum),c.x=this.lineCoordinates.x2;return c};H.prototype.calculateValueToPixelConvertionParameters=function(a){a={pixelPerUnit:null,minimum:null,reference:null};var c=this.lineCoordinates.width,b=this.lineCoordinates.height;a.minimum=this.minimum;if("bottom"===
this._position||"top"===this._position)a.pixelPerUnit=c/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.x1;if("left"===this._position||"right"===this._position)a.pixelPerUnit=-1*b/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.y2;this.convertionParameters=a};H.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=
a.height,this.maxHeight=a.width);var a="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40),c,b,d,e;"axisX"===this.type?(c=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,b=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===b-c&&(b+=1),d=Infinity!==this.dataInfo.minDiff?this.dataInfo.minDiff:1):"axisY"===this.type&&(c="undefined"===
typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,b="undefined"===typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,0===b-c?(b+=5,c-=5):(0!==b&&(b+=Math.abs(0.05)),0!==c&&(c-=Math.abs(0.05))),this.includeZero&&"undefined"===typeof this._options.minimum&&0<c&&(c=0),this.includeZero&&"undefined"===typeof this._options.maximum&&0>b&&(b=0));"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(e=b-c,this.intervalType||(e/1<=a?(this.interval=
1,this.intervalType="millisecond"):e/2<=a?(this.interval=2,this.intervalType="millisecond"):e/5<=a?(this.interval=5,this.intervalType="millisecond"):e/10<=a?(this.interval=10,this.intervalType="millisecond"):e/20<=a?(this.interval=20,this.intervalType="millisecond"):e/50<=a?(this.interval=50,this.intervalType="millisecond"):e/100<=a?(this.interval=100,this.intervalType="millisecond"):e/200<=a?(this.interval=200,this.intervalType="millisecond"):e/250<=a?(this.interval=250,this.intervalType="millisecond"):
e/300<=a?(this.interval=300,this.intervalType="millisecond"):e/400<=a?(this.interval=400,this.intervalType="millisecond"):e/500<=a?(this.interval=500,this.intervalType="millisecond"):e/(1*D.secondDuration)<=a?(this.interval=1,this.intervalType="second"):e/(2*D.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*D.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*D.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*D.secondDuration)<=a?(this.interval=
15,this.intervalType="second"):e/(20*D.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*D.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*D.minuteDuration)<=a?(this.interval=1,this.intervalType="minute"):e/(2*D.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*D.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*D.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*D.minuteDuration)<=a?(this.interval=
15,this.intervalType="minute"):e/(20*D.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*D.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*D.hourDuration)<=a?(this.interval=1,this.intervalType="hour"):e/(2*D.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*D.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*D.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*D.dayDuration)<=a?(this.interval=1,this.intervalType=
"day"):e/(2*D.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*D.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*D.weekDuration)<=a?(this.interval=1,this.intervalType="week"):e/(2*D.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*D.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*D.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*D.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*D.monthDuration)<=a?
(this.interval=3,this.intervalType="month"):e/(6*D.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*D.yearDuration)<=a?1:e/(2*D.yearDuration)<=a?2:e/(4*D.yearDuration)<=a?4:Math.floor(H.getNiceNumber(e/(a-1),!0)/D.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:c-d/2,this.maximum=this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:b+d/2,this.valueFormatString||
("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="f'ms'")),
this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",e=H.getNiceNumber(b-c,!1),this.interval=this._options&&this._options.interval?this._options.interval:H.getNiceNumber(e/(a-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(c/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(b/
this.interval)*this.interval,"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=c-d/2),this.sessionVariables.internalMaximum||(this.maximum=b+d/2),this.intervalStartPosition=Math.floor((this.minimum+this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalStartPosition=this.minimum));"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!==typeof this._options.minimum?this._options.minimum:this.dataInfo.min-d/2,this._absoluteMaximum=
this._options&&"undefined"!==typeof this._options.maximum?this._options.maximum:this.dataInfo.max+d/2);if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",e=Math.abs(this.maximum-this.minimum),1>e&&(c=Math.floor(Math.abs(Math.log(e)/Math.LN10))+2,2<c)))for(b=0;b<c-2;b++)this.valueFormatString+="#"};H.prototype._getFontString=function(){return this.labelFontStyle+" "+this.labelFontWeight+" "+this.labelFontSize+"px "+this.labelFontFamily};H.getNiceNumber=function(a,c){var b=Math.floor(Math.log(a)/
Math.LN10),d=a/Math.pow(10,b);return(c?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10)*Math.pow(10,b)};H.prototype.getLabelStartPoint=function(){var a=E(this.interval,this.intervalType),a=new Date(Math.floor(this.minimum/a)*a);if("millisecond"!==this.intervalType)if("second"===this.intervalType)0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0));else if("minute"===this.intervalType){if(0<a.getSeconds()||0<a.getMilliseconds())a.setMinutes(a.getMinutes()+1),a.setSeconds(0),
a.setMilliseconds(0)}else if("hour"===this.intervalType){if(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("day"===this.intervalType){if(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("week"===this.intervalType){if(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||
0<a.getMilliseconds())a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("month"===this.intervalType){if(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds()))a.setFullYear(a.getFullYear()+
1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);return a};g(R,P);R.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.style.height="auto";this.container.style.position="absolute";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.pointerEvents="none";this.container.style.display="none";var a;a='<div style=" width: auto;height: auto;min-width: 50px;';
a+="line-height: 20px;";a+="padding: 5px;";a+="font-family: Calibri, Arial, Georgia, serif;";a+="font-weight: 400;";a+="font-style: italic;";a+="font-size: 14px;";a+="color: #000000;";a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";a+="text-align: left;";a+="border: 2px solid gray;";a+="background: rgba(255,255,255,.9);";a+="text-indent: 0px;";a+="white-space: nowrap;";a+="border-radius: 10px;";a+='} "> Sample Tooltip</div>';this.container.innerHTML=a;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=
this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}};R.prototype.mouseMoveHandler=function(a,c){var b=this;clearTimeout(this._timerId);this._timerId=setTimeout(function(){b._updateToolTip(a,c)},5)};R.prototype._updateToolTip=function(a,c){var b=null,d=null,e=[],f=0;if(this.shared){f="xySwapped"===this.chart.plotInfo.axisPlacement?(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-
c)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum;b=[];for(d=0;d<this.chart.data.length;d++)if(g={},(g=this.chart.data[d].findDataPointByX(f,!0))&&0<=g.index)g.dataSeries=this.chart.data[d],b.push(g);if(0===b.length)return;b.sort(function(a,b){return a.distance-b.distance});f=b[0];for(d=0;d<b.length;d++)b[d].dataPoint.x.valueOf()===f.dataPoint.x.valueOf()&&e.push(b[d]);
b=null}else{g=Q(a,c,this.chart._eventManager.ghostCtx);if(0<g&&"undefined"!==typeof this.chart._eventManager.objectMap[g]){eventObject=this.chart._eventManager.objectMap[g];if(this.currentSeriesIndex===eventObject.dataSeriesIndex&&this.currentDataPointIndex===eventObject.dataPointIndex)return;this.currentSeriesIndex=eventObject.dataSeriesIndex;this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1}else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){var d=
this.chart.data[this.currentSeriesIndex],g={};if(0<=this.currentDataPointIndex)b=d.dataPoints[this.currentDataPointIndex],g.dataSeries=d,g.dataPoint=b,g.index=this.currentDataPointIndex,g.distance=Math.abs(b.x-f);else if("line"===d.type||"area"===d.type||"stackedArea"===d.type||"stackedArea100"===d.type)f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),g=d.findDataPointByX(f,!0),g.dataSeries=
d,this.currentDataPointIndex=g.index,b=g.dataPoint;else return;e.push(g)}}0<e.length&&(this.highlightObjects(e),f="",f=this.getToolTipInnerHTML({entries:e}),this.contentDiv.innerHTML=f,this.contentDiv.innerHTML=f,f=!1,"none"===this.container.style.display&&(f=!0,this.container.style.display="block"),this.contentDiv.style.borderColor=this.borderColor?this.borderColor:e[0].dataPoint.color?e[0].dataPoint.color:e[0].dataSeries.color?e[0].dataSeries.color:e[0].dataSeries._colorSet[e[0].index%e[0].dataSeries._colorSet.length],
toolTipLeft="pie"===e[0].dataSeries.type||"doughnut"===e[0].dataSeries.type||"bar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?a-10-this.container.clientWidth:this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(e[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+0.5-this.container.clientWidth<<0,toolTipLeft=0<toolTipLeft?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+
20+"px",e=1===e.length&&!this.shared&&("line"===e[0].dataSeries.type||"area"===e[0].dataSeries.type||"stackedArea"===e[0].dataSeries.type||"stackedArea100"===e[0].dataSeries.type)?e[0].dataSeries.axisY.lineCoordinates.y2-e[0].dataSeries.axisY.lineCoordinates.height/Math.abs(e[0].dataSeries.axisY.maximum-e[0].dataSeries.axisY.minimum)*Math.abs(e[0].dataPoint.y-e[0].dataSeries.axisY.minimum)+0.5<<0:"bar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?
e[0].dataSeries.axisX.lineCoordinates.y2-e[0].dataSeries.axisX.lineCoordinates.height/Math.abs(e[0].dataSeries.axisX.maximum-e[0].dataSeries.axisX.minimum)*Math.abs(e[0].dataPoint.x-e[0].dataSeries.axisX.minimum)+0.5<<0:c,e=-e+10,0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.container.style.left=toolTipLeft,this.container.style.bottom=e+"px",!this.animationEnabled||f?this.disableAnimation():this.enableAnimation())};R.prototype.highlightObjects=function(a){var c=this.chart.overlaidCanvasCtx;
this.chart.resetOverlayedCanvas();var b=this.chart.getPlotArea();c.beginPath();c.rect(b.x1,b.y1,b.width,b.height);c.clip();for(b=0;b<a.length;b++){var d=a[b];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=d.dataPointIndex;if("line"===e.type||"scatter"===e.type||"area"===e.type||"stackedArea"===e.type||"stackedArea100"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),
e.size=Math.max(1.5*e.size<<0,10),N.drawMarkers([e]);else if("bubble"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=d.size,e.color="white",e.borderColor="white",c.globalAlpha=0.3,N.drawMarkers([e]),c.globalAlpha=1;else if("column"===e.type||"stackedColumn"===e.type||"stackedColumn100"===e.type||"bar"===e.type||"stackedBar"===e.type||"stackedBar100"===e.type)c.globalAlpha=0.3,O(c,d.x1,d.y1,d.x2,d.y2,"white",!1,!1,!1,!1),c.globalAlpha=1;else if("pie"===e.type||"doughnut"===
e.type)c.globalAlpha=0.3,T(c,d.center,d.radius,"white",e.type,d.startAngle,d.endAngle),c.globalAlpha=1}}c.globalAlpha=1;c.restore()};R.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var c="",b=null,d=null,e=0,f="",g=!0,h=0;h<a.length;h++)if(a[h].dataSeries.toolTipContent||a[h].dataPoint.toolTipContent){g=!1;break}if(g&&this.content&&"function"===typeof this.content)c=this.content({entries:a});else if(1<a.length)for(h=0;h<a.length;h++){b=a[h].dataSeries;d=a[h].dataPoint;e=a[h].index;f="";
0===h&&(g&&!this.content)&&(f+="undefined"!==typeof this.chart.axisX.labels[d.x]?this.chart.axisX.labels[d.x]:"{x}",f+="</br>");if("line"===b.type||"area"===b.type||"column"===b.type||"bar"===b.type||"scatter"===b.type||"stackedColumn"===b.type||"stackedColumn100"===b.type||"stackedBar"===b.type||"stackedBar100"===b.type||"stackedArea"===b.type||"stackedArea100"===b.type)f+=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?this.content:
"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}";else if("bubble"===b.type)f+=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===b.type||"doughnut"===b.type)f+=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"&nbsp;&nbsp;{y}";
c+=this.chart.replaceKeywordsWithValue(f,d,b,e);h<a.length-1&&(c+="</br>")}else{b=a[0].dataSeries;d=a[0].dataPoint;e=a[0].index;if("line"===b.type||"area"===b.type||"column"===b.type||"bar"===b.type||"scatter"===b.type||"stackedColumn"===b.type||"stackedColumn100"===b.type||"stackedBar"===b.type||"stackedBar100"===b.type||"stackedArea"===b.type||"stackedArea100"===b.type)f=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?this.content:
"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}";else if("bubble"===b.type)f=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===b.type||"doughnut"===b.type)f=d.toolTipContent?d.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!==typeof this.content?
this.content:(d.name?"{name}:&nbsp;&nbsp;":d.label?"{label}:&nbsp;&nbsp;":"")+"{y}";c+=this.chart.replaceKeywordsWithValue(f,d,b,e)}return c};R.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")};
R.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")};R.prototype.hide=function(){this.container.style.display="none";this.currentSeriesIndex=-1;this.chart.resetOverlayedCanvas()};z.prototype.replaceKeywordsWithValue=function(a,c,b,d){var e=this;return a.replace(/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g,function(a){if('"'===
a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=p(a.slice(1,a.length-1));var g=null;if("color"===a)return c.color?c.color:b.color?b.color:b._colorSet[d%b._colorSet.length];if(c.hasOwnProperty(a))g=c;else if(b.hasOwnProperty(a))g=b;else return"";return"x"===a?e.axisX&&"dateTime"===e.plotInfo.axisXValueType?ca(g[a],c.xValueFormatString?c.xValueFormatString:b.xValueFormatString?b.xValueFormatString:e.axisX.valueFormatString?e.axisX.valueFormatString:"DD MM YY"):
aa(g[a],c.xValueFormatString?c.xValueFormatString:b.xValueFormatString?b.xValueFormatString:"#,##0.##"):"y"===a?aa(g[a],c.xValueFormatString?c.xValueFormatString:b.xValueFormatString?b.xValueFormatString:"#,###.##"):g[a]})};W.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCtx.clearRect(0,0,this.ghostCanvas.width,this.ghostCanvas.height);this.ghostCtx.beginPath()};W.prototype.getNewObjectTrackingId=
function(){return++this.lastObjectId};W.prototype.mouseEventHandler=function(a){if(!("mousemove"!==a.type&&"click"!==a.type)){var c=null,b=null,d=null,e=-1,f=!1,g=!1,h=da(a),b=this.ghostCtx.getImageData(h.x,h.y,1,1).data;if(240<b[3])if(b=b[0]<<16|b[1]<<8|b[2],"undefined"!==typeof this.objectMap[b]&&"dataPoint"===this.objectMap[b].objectType){c=this.objectMap[b];b=this.chart.data[c.dataSeriesIndex];d=b.dataPoints[c.dataPointIndex];e=c.dataPointIndex;if(null===this.previousDataPointEventObject||this.previousDataPointEventObject.dataSeriesIndex!==
c.dataSeriesIndex||this.previousDataPointEventObject.dataPointIndex!==c.dataPointIndex)if(this.previousDataPointEventObject&&(f=!0),d.mouseover&&d.mouseover.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}),b.mouseover&&(null===this.previousDataPointEventObject||this.previousDataPointEventObject.dataSeriesIndex!==c.dataSeriesIndex))b.mouseover&&b.mouseover.call(b,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}),this.previousDataPointEventObject&&(g=!0);"mousemove"===a.type?(d.mousemove&&
d.mousemove.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}),b.mousemove&&b.mousemove.call(b,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e})):"click"===a.type&&(d.click&&d.click.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}),b.click&&b.click.call(b,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}),this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(b,{x:h.x,y:h.y,dataPoint:d,dataSeries:b,dataPointIndex:e}))}else this.previousDataPointEventObject&&
(g=f=!0);else this.previousDataPointEventObject&&(g=f=!0);if(f||g)a=this.chart.data[this.previousDataPointEventObject.dataSeriesIndex],b=a.dataPoints[this.previousDataPointEventObject.dataPointIndex],d=this.previousDataPointEventObject.dataPointIndex,f&&b.mouseout&&b.mouseout.call(b,{x:h.x,y:h.y,dataPoint:b,dataSeries:a,dataPointIndex:d}),g&&a.mouseout&&a.mouseout.call(a,{x:h.x,y:h.y,dataPoint:b,dataSeries:a,dataPointIndex:d});this.previousDataPointEventObject=c}};var N={drawMarker:function(a,c,b,
d,e,f,g,h){if(b){var l=1;b.fillStyle=f?f:"#000000";b.strokeStyle=g?g:"#000000";b.lineWidth=h?h:0;"circle"===d?(b.beginPath(),b.arc(a,c,e/2,0,360,!1),f&&b.fill(),h&&(g?b.stroke():(l=b.globalAlpha,b.globalAlpha=0.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=l))):"square"===d?(b.beginPath(),b.rect(a-e/2,c-e/2,e,e),f&&b.fill(),h&&(g?b.stroke():(l=b.globalAlpha,b.globalAlpha=0.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=l))):"triangle"===d?(b.beginPath(),b.moveTo(a-e/2,c+e/2),b.lineTo(a+e/2,
c+e/2),b.lineTo(a,c-e/2),b.closePath(),f&&b.fill(),h&&(g?b.stroke():(l=b.globalAlpha,b.globalAlpha=0.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=l))):"cross"===d&&(b.strokeStyle=f,b.lineWidth=e/4,b.beginPath(),b.moveTo(a-e/2,c-e/2),b.lineTo(a+e/2,c+e/2),b.stroke(),b.moveTo(a+e/2,c-e/2),b.lineTo(a-e/2,c+e/2),b.stroke())}},drawMarkers:function(a){for(var c=0;c<a.length;c++){var b=a[c];N.drawMarker(b.x,b.y,b.ctx,b.type,b.size,b.color,b.borderColor,b.borderThickness)}}},ea={Chart:function(a,c){var b=
new z(a,c,this);this.render=function(){b.render()};this.options=b._options},addColorSet:function(a,c){V[a]=c}};ea.Chart.version="1.0.0";window.CanvasJS=ea})();
