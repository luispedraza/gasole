var Lat2Km=111.03461,Km2Lat=0.009006,Lon2Km=85.39383,Km2Lon=0.01171,LL2Km=98.2,Km2LL=0.010183,FUEL_OPTIONS={1:{"short":"G95",name:"Gasolina 95"},3:{"short":"G98",name:"Gasolina 98"},4:{"short":"GOA",name:"Gas\u00f3leo Automoci\u00f3n"},5:{"short":"NGO",name:"Nuevo Gas\u00f3leo A"},6:{"short":"GOB",name:"Gas\u00f3leo B"},7:{"short":"GOC",name:"Gas\u00f3leo C"},8:{"short":"BIOD",name:"Biodi\u00e9sel"}},CHART_OPTIONS=[{id:"G98",color:"#339933",name:"Gasolina 98"},{id:"G95",color:"#006633",name:"Gasolina 95"},
{id:"NGO",color:"#aaa",name:"Nuevo Gas\u00f3leo A"},{id:"BIOD",color:"#f1aa41",name:"Biodi\u00e9sel"},{id:"GOA",color:"#000",name:"Gas\u00f3leo Automoci\u00f3n"},{id:"GOC",color:"#FF3300",name:"Gas\u00f3leo C"},{id:"GOB",color:"#CC3333",name:"Gas\u00f3leo B"}],PROVS={"\u00c1lava":"01",Albacete:"02",Alicante:"03","Almer\u00eda":"04",Asturias:"33","\u00c1vila":"05",Badajoz:"06","Balears (Illes)":"07",Barcelona:"08",Burgos:"09","C\u00e1ceres":"10","C\u00e1diz":"11",Cantabria:"39","Castell\u00f3n / Castell\u00f3":"12",
Ceuta:"51","Ciudad Real":"13","C\u00f3rdoba":"14","Coru\u00f1a (A)":"15",Cuenca:"16",Girona:"17",Granada:"18",Guadalajara:"19","Guip\u00fazcoa":"20",Huelva:"21",Huesca:"22","Ja\u00e9n":"23","Le\u00f3n":"24",Lleida:"25",Lugo:"27",Madrid:"28","M\u00e1laga":"29",Melilla:"52",Murcia:"30",Navarra:"31",Ourense:"32",Palencia:"34","Palmas (Las)":"35",Pontevedra:"36","Rioja (La)":"26",Salamanca:"37","Santa Cruz De Tenerife":"38",Segovia:"40",Sevilla:"41",Soria:"42",Tarragona:"43",Teruel:"44",Toledo:"45","Valencia / Val\u00e8ncia":"46",
Valladolid:"47",Vizcaya:"48",Zamora:"49",Zaragoza:"50"},MONTHS="Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),COLORS={stroke:"#fff",min:"#36AE34",max:"#f00",mu:"#3399CC"},LS_EXPIRE=36E5,APIS={gasolineras:"api",resultados:"geo",ficha:"api"};
function lockScroll(c){"string"==typeof c&&(c=document.getElementById(c));c.addEventListener("mouseover",function(){document.body.style.overflow="hidden"});c.addEventListener("mouseout",function(){document.body.style.overflow="auto"})}
function initProvLinks(c,f){var a=document.getElementById(c),t;for(t in PROVS){var z=document.createElement("li");z.id="plist-"+PROVS[t];if(f)z.textContent=t,z.onclick=f;else{var w=document.createElement("a");w.title="Todas las gasolineras de "+t;w.textContent=t;w.href="/gasolineras/"+encodeName(t);z.appendChild(w)}a.appendChild(z)}lockScroll(a)}function getProvName(c){for(k in PROVS)if(PROVS[k]==c)return k}function clearHtmlTags(c){return c.replace(/(<([^>]+)>)/ig,"")}
function toTitle(c){return c.replace(" [N]","").replace(/^CARRETERA ?|^CR\.? ?/i,"CTRA. ").replace(/(CTRA. )+/i,"CTRA. ").replace(/^AVENIDA ?|^AV. ?/i,"AVDA. ").replace(/^POLIGONO INDUSTRIAL ?|POLIGONO ?|P\.I\. ?/i,"POL. IND. ").replace(/^CALLE |^CL\.? ?|C\/ ?/i,"C/ ").replace(/^RONDA |^RD /i,"RDA. ").replace(/^AUTOPISTA (AUTOPISTA ?)?/i,"AU. ").replace(/^PLAZA ?/i,"PL. ").replace(/^PASEO (PASEO ?)?/i,"P\u00ba ").replace(/^TRAVESS?[I\u00cd]A /i,"TRAV. ").replace(/^V[i\u00ed]A (V[I\u00cd]A )?/i,"V\u00cdA ").replace(/\B[^\d- ]+[ $]/g,
function(c){return c.toLowerCase()}).replace(/\b[NAE]-.+\b/,function(c){return c.toUpperCase()}).replace(/\[D\]$/,"(m.d.)").replace(/\[I\]$/,"(m.i.)").replace(/ \[N\]$/,"")}
function getLogo(c){return c&&(c=c.replace(/camspa/i,"campsa"),logo=c.match(/\b(abycer|agla|alcampo|andamur|a\.?n\.? energeticos|avia|bonarea|b\.?p\.?|buquerin|campsa|carmoned|carrefour|cepsa|empresoil|eroski|esclatoil|galp|gasolben|iberdoex|leclerc|makro|meroil|norpetrol|petrem|petrocat|petromiralles|petronor|ramell|repostar|repsol|saras|shell|simply|staroil|tamoil|valcarce)\b/i))?logo[0].replace(/\./g,"").replace(/ /g,"_").toLowerCase():null}
function decodeName(c){return decodeURI(c).replace(/_/g," ").replace(/\|/g,"/")}function prettyName(c){c.match("/")&&(c=c.split("/")[1]);c.match(/\)$/)&&(c=c.match(/\(.+\)$/g)[0].replace("(","").replace(")"," ")+c.split(" (")[0]);return c}function decodeArray(c){for(var f=0;f<c.length;f++)c[f]=decodeName(c[f]);return c}function encodeName(c){return c.replace(/\//g,"|").replace(/ /g,"_")}function checkLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(c){return!1}}
function getKey(){return window.location.pathname.split("/").slice(1).join("*")}
function getApiData(c){var f=getKey();if(checkLocalStorage()&&localStorage.hasOwnProperty(f))if(localData=JSON.parse(localStorage[f]),(new Date).getTime()-localData.ts>LS_EXPIRE)localStorage.removeItem(f);else{c(localData.data);return}var a=new XMLHttpRequest;a.onload=function(a){a=JSON.parse(this.responseText);checkLocalStorage()&&localStorage.setItem(f,JSON.stringify({ts:(new Date).getTime(),data:a}));c(a)};var t=window.location.pathname.split("/")[1];a.open("GET",document.URL.replace(t,APIS[t]));
a.send()}function distance(c,f,a){var t=Math.abs(c[0]-f[0])*Lat2Km;return t<a&&(c=Math.abs(c[1]-f[1])*Lon2Km,c<a&&(t=Math.sqrt(Math.pow(t,2)+Math.pow(c,2)),t<a))?t:null}function distanceOrto(c,f,a){if(f.lng()==a.lng())return Math.abs(c.lat()-f.lat());a=(a.lat()-f.lat())/(a.lng()-f.lng());f=f.lat()-a*f.lng();return Math.abs(a*c.lng()-c.lat()+f)/Math.sqrt(a*a+1)}
function properRDP(c,f){"undefined"==typeof f&&(f=1*Km2LL);var a=c[0],t=c[c.length-1];if(3>c.length)return c;for(var z=-1,w=0,y=1;y<c.length-1;y++){var x=distanceOrto(c[y],a,t);x>w&&(w=x,z=y)}return w>f?(a=c.slice(0,z+1),z=c.slice(z),a=properRDP(a,f),z=properRDP(z,f),a.slice(0,a.length-1).concat(z)):[a,t]}
function SearchLocations(){this.locs=[];this.radius=2;this.length=function(){return this.locs.length};this.add=function(c,f){this.locs.push({name:c,latlng:f})};this.latlng=function(){return 1==this.length()?this.locs[0].latlng:null};this.name=function(){return 1==this.length()?this.locs[0].name:null};this.get=function(c){return this.locs[c]};this.select=function(c){this.locs=[this.locs[c]]};this.clear=function(){this.locs=[]}}
function Stats(){this.n=0;this.max=this.min=this.mu=this.range=null;this.smin=[];this.smax=[];this.g=null;this.range=function(){null==this.range&&(this.range=this.max-this.min);return this.range};this.add=function(c,f,a){this.mu?(c>this.max?(this.max=c,this.smax=[f]):c==this.max?this.smax.push(f):c<this.min?(this.min=c,this.smin=[f]):c==this.min&&this.smin.push(f),this.mu=(this.mu*this.n+c)/++this.n):(this.max=this.min=this.mu=c,this.smin=[f],this.smax=[f],this.n=1);a&&(this.g?(a[0]<this.g[0]?this.g[0]=
a[0]:a[0]>this.g[1]&&(this.g[1]=a[0]),a[1]<this.g[2]?this.g[2]=a[1]:a[1]>this.g[3]&&(this.g[3]=a[1])):this.g=[a[0],a[0],a[1],a[1]])}}
function GasoleStats(c,f){function a(a,c,f,w){c[w]||(c[w]=new Stats);f[w]||(f[w]=new Stats);c[w].add(a.o[w],[z,x,E],a.g);f[w].add(a.o[w],[z,x,E],a.g)}var t=this.stats={};this.provinces={};for(var z in c){var w=c[z],y=this.provinces[z]={},x;for(x in w){var r=w[x],E;for(E in r)if(datas=r[E],f)for(var R=f.length-1;0<=R;R--){var B=f[R];datas.o[B]&&a(datas,y,t,B)}else for(B in datas.o)a(datas,y,t,B)}}}
function Gasole(c){this.color=function(c){var a=this.stats.range();if(0!=a){c=(c-this.stats.min)/a;if(0.33>c)return COLORS.min;if(0.66<c)return COLORS.max}return COLORS.mu};this.init=function(c,a,t){this.info=c;this.date=a;this.stats=t?t:new GasoleStats(this.info)};this.provinceDataArray=function(c){this.stats=new Stats;var a=this.type;result=[];c=this.info[c];for(var t in c){var z=c[t],w;for(w in z){var y=z[w],x=y.o[a];x&&(result.push({a:w,r:y.r,g:y.g,p:x,t:t,l:y.l,d:null}),this.stats.add(x))}}return result};
this.nearData=function(c){var a=c.latlng();if(a){c=c.radius;var t={},z;for(z in this.info){var w=this.info[z];t[z]={};for(var y in w){var x=w[y];t[z][y]={};for(var r in x){var E=x[r],R=E.g;R&&distance(R,a,c)&&(t[z][y][r]=E)}Object.keys(t[z][y]).length||delete t[z][y]}Object.keys(t[z]).length||delete t[z]}return t}};this.nearDataArray=function(c,a,t){console.log(c);var z=c.latlng();if(z){c=c.radius;this.stats=new Stats;var w=[],y;for(y in this.info){var x=this.info[y],r;for(r in x){var E=x[r],R;for(R in E){var B=
E[R];if(B.o.hasOwnProperty(a)){var S=B.g;if(S){var D=distance(S,z,c);if(D){var N=B.o[a];w.push({a:R,prov:y,g:S,p:N,t:r,l:B.l,d:D});this.stats.add(N)}}}}}}return t?w.sort(function(a,c){return a[t]<c[t]?-1:1}):w}};this.routeData=function(c){var a=[],t=this.type;this.stats=new Stats;var z=Km2LL,w;for(w in this.info){var y=this.info[w],x;for(x in y){var r=y[x],E;for(E in r){var R=r[E],B=R.o[t];if(B){var S=R.g;if(S){for(var D=!1,N=new google.maps.LatLng(S[0],S[1]),H=0;H<c.length-1;H++)if(distance(S,[c[H].lat(),
c[H].lng()],z))D=!0;else if(distance(S,[c[H+1].lat(),c[H+1].lng()],z))D=!0;else if((new google.maps.LatLngBounds(c[H],c[H+1])).contains(N)){var V=distanceOrto(N,c[H],c[H+1]);V<z&&(D=!0)}D&&(a.push({a:E,r:R.r,g:S,p:B,t:x,l:R.l,d:V}),this.stats.add(B))}}}}}return a};this.callback=c;this.date=this.info=this.stats=null;this.type="1";c=localStorage.gasole;!c||(new Date).getTime()-parseInt(JSON.parse(c).ts)>LS_EXPIRE?(c=new XMLHttpRequest,c.gasole=this,c.onload=function(){var c=new Date;this.gasole.init(JSON.parse(this.responseText),
c);localStorage.setItem("gasole",'{"ts": '+c.getTime()+',"data": '+this.responseText+',"stats": '+JSON.stringify(this.gasole.stats)+"}");this.gasole.callback&&this.gasole.callback()},c.open("GET","/api/All"),c.send()):(c=JSON.parse(c),this.init(c.data,new Date(c.ts),c.stats),this.callback&&this.callback())}
function fillPriceDigits(c,f){c.innerHTML="";for(var a=f.toFixed(3),t=0;t<a.length;t++){var z=document.createElement("div");z.className="back";"."==a[t]?z.className+=" point":z.textContent=8;var w=document.createElement("div");w.className="digit";w.textContent=a[t];z.appendChild(w);c.appendChild(z)}}function gasoleProcess(c,f){for(var a in c){var t=c[a],z;for(z in t){var w=t[z],y;for(y in w)f(w[y],a,z,y)}}}
function stopEvent(c){c.cancelBubble=!0;c.returnValue=!1;c.stopPropagation&&c.stopPropagation();c.preventDefault&&c.preventDefault();return!1}function sortName(c,f){function a(a){a=a.toLowerCase();a=a.replace(RegExp(/\s/g),"");a=a.replace(RegExp(/[\u00e0\u00e1]/g),"a");a=a.replace(RegExp(/[\u00e8\u00e9]/g),"e");a=a.replace(RegExp(/[\u00ec\u00ed]/g),"i");a=a.replace(RegExp(/[\u00f2\u00f3]/g),"o");return a=a.replace(RegExp(/[\u00f9\u00fa]/g),"u")}return a(c)<a(f)?-1:1}
function addEvent(c,f,a){c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a)};var theGasole=null,theInfo=null,theStats=null,theGrid=null,TYPE="1",histogram=new Histogram,circles=new Circles,brands=new Brands,infoDiv=null,openMap=null,openMapOSM=null,markersLayer=null,heatmapLayer=null,priceLayer=null,MAP_LIMITS=[27.5244,-18.4131,43.3781,3.8672],NBINS=10,GRID_RESOLUTION=4E4;REGIONS={};for(var p in PROVS)REGIONS[p]={id:PROVS[p],color:null,picker:null,selected:!1};
var BRANDS={alcampo:1,avia:1,bp:1,campsa:1,carrefour:1,cepsa:1,eroski:1,galp:1,leclerc:1,makro:1,petronor:1,repsol:1,saras:1,shell:1,otras:1};function checkBrand(c){c=getLogo(c);return c in BRANDS?c:"otras"}
var htmlsvg=[{id:"15",path:"M 17.5 20.7 L 20.7 21.6 L 15 32.2 C 14.9 32.3 14.9 32.4 14.9 32.6 L 12.3 51.7 L -7.7 56.3 C -7.7 56.3 -7.8 56.3 -7.9 56.3 C -7.9 56.2 -7.9 56.2 -8 56.3 L -9.8 56.7 C -10 56.7 -10.1 56.7 -10.2 56.9 L -15.1 60 L -13.1 54.1 C -13.1 54.1 -13.1 54 -13.1 54 C -13.1 53.9 -13.1 53.8 -13.1 53.8 C -13.1 53.5 -13.2 53.4 -13.3 53.2 L -20.2 44.4 L -9.3 34.3 L 6.6 34.3 C 6.7 34.3 6.9 34.3 7.1 34.1 C 7.3 34 7.5 33.8 7.5 33.6 L 7.5 33.6 L 9.4 26.2 L 17.5 20.7Z"},{id:"36",path:"M 6.5 63.5 L 6.5 63.5 L 0.9 67.8 C 0.7 67.9 0.6 68.1 0.5 68.3 C 0.4 68.5 0.4 68.7 0.5 69 L 3.6 77.8 L -12.6 87.3 L -12.6 81 L -5.8 74.8 C -5.8 74.7 -5.7 74.7 -5.7 74.6 C -5.7 74.6 -5.6 74.5 -5.6 74.4 C -5.5 74.3 -5.5 74.1 -5.5 74 L -5.5 71.9 C -5.5 71.6 -5.6 71.4 -5.8 71.3 C -5.9 71.1 -6.1 71 -6.3 70.9 C -6.3 70.9 -6.4 70.9 -6.4 70.9 C -6.6 70.9 -6.8 71 -7 71.1 L -7 71.1 L -10.8 73.3 L -10.8 67.1 L -7 58.1 L 12.7 53.6 L 16.1 59.1 L 14.4 63.3 L 7.1 63.3 C 6.9 63.3 6.7 63.4 6.5 63.5Z"},
{id:"27",path:"M 22.7 22.1 L 30.9 23.5 L 33.1 29 L 33.1 29 C 33.1 29.2 33.3 29.4 33.5 29.5 C 33.5 29.5 33.5 29.5 33.5 29.6 C 33.7 29.6 33.8 29.7 34 29.7 L 37.9 29.7 L 35.4 33 C 35.3 33 35.3 33.1 35.3 33.2 L 35.2 34.3 C 35.2 34.4 35.2 34.5 35.3 34.6 L 41 44.8 L 38.6 49.2 C 38.6 49.2 38.6 49.3 38.6 49.4 C 38.5 49.4 38.6 49.5 38.6 49.6 L 39.1 51 C 39.2 51 39.2 51.1 39.3 51.2 C 39.3 51.2 39.4 51.2 39.4 51.3 L 42.8 52.5 L 40.6 58.3 L 37.8 59.4 C 37.7 59.5 37.6 59.5 37.5 59.6 L 36.9 60.5 C 36.9 60.6 36.8 60.7 36.9 60.8 L 36.9 67.9 C 36.9 68 36.9 68.1 37 68.2 L 33.4 73.3 L 29.7 69.7 C 29.5 69.5 29.3 69.5 29.2 69.5 C 29 69.4 28.8 69.4 28.6 69.5 L 23.2 71 L 16.3 64.1 L 18.1 59.4 C 18.1 59.3 18.2 59.3 18.2 59.2 C 18.2 59.1 18.2 59 18.2 59 C 18.2 58.8 18.1 58.7 18.1 58.5 L 18 58.5 L 14.2 52.3 L 16.9 33 L 22.7 22.1Z"},
{id:"32",path:"M 2.7 69 L 7.5 65.3 L 14.7 65.3 L 22.2 72.8 C 22.3 72.9 22.4 73 22.6 73.1 C 22.6 73.1 22.7 73.1 22.8 73.1 C 22.8 73.1 22.9 73.1 23 73.1 C 23 73.1 23.1 73.1 23.1 73.1 L 28.7 71.5 L 32.8 75.5 C 32.9 75.6 33.1 75.7 33.3 75.7 C 33.5 75.8 33.7 75.8 33.9 75.7 C 33.9 75.7 34 75.7 34.1 75.6 C 34.1 75.5 34.2 75.5 34.3 75.4 C 34.3 75.4 34.3 75.4 34.3 75.4 L 38.6 69.4 L 42.7 69.6 L 44.8 74.1 L 37.9 83.1 C 37.8 83.1 37.8 83.2 37.8 83.3 L 37.6 83.9 C 37.6 83.9 37.6 84 37.6 84 L 37.6 86.3 L 35.3 86.3 C 35.1 86.2 35 86.3 34.8 86.4 C 34.7 86.4 34.5 86.6 34.5 86.7 L 30.8 91.1 L 15.1 88.1 L 15.2 88.1 C 14.9 88 14.7 88 14.4 88.2 L 14.5 88.2 L 8 91.2 L 6 88.3 L 10.3 84.3 L 10.3 84.3 C 10.5 84.1 10.6 83.9 10.6 83.6 C 10.5 83.3 10.5 83.1 10.3 82.9 L 10.3 82.9 L 5.7 77.7 L 2.7 69Z"},
{id:"33",path:"M 107.5 37.3 L 106.6 39.3 L 99.3 42 C 99.2 42 99.2 42 99.2 42.1 L 99.1 42.1 L 99.1 42.1 L 81.6 48.6 L 68.7 47.2 C 68.6 47.2 68.6 47.2 68.5 47.2 L 68.2 47.3 C 68.2 47.3 68.1 47.3 68.1 47.3 L 55.5 50.7 L 45.1 50.1 L 42.1 49 L 44 45.4 C 44 45.3 44.1 45.2 44.1 45.2 L 44.1 44.2 C 44 44.1 44 44 44 44 L 38.4 34 L 41.7 29.7 L 75.8 29.7 L 107.5 37.3Z"},{id:"24",path:"M 99.1 45.3 L 101.9 50.6 L 97.6 68.3 L 94.8 77.3 L 86 79.5 C 85.7 79.5 85.5 79.5 85.4 79.7 C 85.3 79.8 85.3 79.9 85.2 80 L 85.2 80 L 82.1 87.3 L 46.4 77 L 47.8 75.2 C 47.8 75.1 47.8 75 47.9 75 L 48 74 C 48 73.9 47.9 73.8 47.9 73.7 L 45 67.4 C 44.9 67.4 44.9 67.3 44.8 67.3 L 44 66.7 C 43.9 66.6 43.8 66.6 43.7 66.6 L 39.9 66.5 L 39.9 61.9 L 42.3 60.9 C 42.4 60.8 42.4 60.8 42.5 60.8 L 43 60.2 C 43.1 60.1 43.1 60 43.1 60 L 45.8 53.1 L 55.8 53.7 C 55.9 53.7 55.9 53.7 56 53.7 L 68.6 50.3 L 81.7 51.7 C 81.7 51.7 81.7 51.7 81.8 51.7 L 82.2 51.6 C 82.2 51.6 82.3 51.6 82.3 51.6 L 99.1 45.3Z"},
{id:"34",path:"M 99.5 68.9 L 99.5 68.9 L 103.3 52.5 L 104 53.1 C 104 53.1 104.1 53.1 104.2 53.1 C 104.2 53.1 104.3 53.2 104.4 53.2 L 111.6 52.1 L 119.9 60.2 L 115.7 65.4 L 115.7 65.4 C 115.5 65.6 115.4 65.9 115.5 66.2 L 115.5 66.1 L 117.5 85 C 117.5 85.1 117.5 85.3 117.7 85.5 L 117.8 85.6 L 123.7 92.2 L 121 98 L 96.6 92.1 L 96.6 78.3 L 99.5 68.9Z"},{id:"39",path:"M 119.4 37.8 C 119.5 37.8 119.5 37.8 119.6 37.8 C 119.6 37.7 119.7 37.7 119.7 37.7 L 130.2 34.6 L 132.1 36.1 C 132.3 36.2 132.4 36.3 132.7 36.3 C 132.8 36.3 133 36.3 133.1 36.2 C 133.1 36.2 133.2 36.2 133.2 36.2 L 136.4 34.6 L 144.3 38.5 L 139 41.3 C 138.9 41.3 138.8 41.4 138.8 41.4 L 138.2 42.3 C 138.2 42.4 138.1 42.5 138.2 42.6 L 138.2 44.8 L 133.2 44 C 133.1 43.9 133 44 133 44 C 132.9 44 132.8 44 132.8 44.1 L 123.4 52.4 C 123.3 52.5 123.2 52.6 123.2 52.8 L 123.1 54.1 C 123 54.2 123.1 54.3 123.2 54.5 L 126.1 58.4 L 123.5 59.7 L 113.1 49.4 C 113.1 49.3 113 49.3 112.9 49.3 L 112.1 49 C 112 48.9 111.9 48.9 111.8 49 L 105 50 L 101.9 44.2 L 108.1 41.9 C 108.2 41.9 108.2 41.8 108.3 41.8 L 108.8 41.3 C 108.9 41.2 108.9 41.2 109 41.1 L 110.5 37.8 L 119.4 37.8Z"},
{id:"49",path:"M 69.2 115.6 L 69.2 115.6 C 69 115.5 68.7 115.5 68.5 115.7 C 68.3 115.8 68.2 116 68.1 116.3 L 67.1 119.3 L 55.2 114 L 61.7 104.7 C 61.8 104.5 61.9 104.4 61.9 104.2 C 61.9 104 61.9 103.9 61.8 103.7 C 61.8 103.7 61.8 103.6 61.8 103.6 C 61.6 103.4 61.5 103.2 61.3 103.2 L 54.1 99.9 L 52.7 90.3 C 52.6 90.1 52.5 89.9 52.4 89.8 C 52.2 89.5 52 89.4 51.8 89.5 L 40.6 86.6 L 40.6 84.5 L 45.1 78.7 L 81.8 89.3 L 85.1 106.7 L 85.1 118.6 L 69.2 115.6Z"},{id:"09",path:"M 146.5 52.1 L 146.9 52.7 C 146.9 52.8 146.9 52.8 147 52.9 L 147.2 53 L 144.8 53 C 144.7 53 144.6 53 144.5 53.1 L 143.7 53.5 C 143.6 53.6 143.6 53.6 143.6 53.7 L 141.8 56.3 C 141.7 56.3 141.7 56.4 141.7 56.5 C 141.6 56.5 141.6 56.6 141.7 56.7 L 142 58.1 C 142 58.1 142 58.2 142.1 58.3 C 142.1 58.3 142.1 58.3 142.2 58.4 L 151.6 64 L 147.2 65 C 147.1 65 147 65 147 65.1 C 146.9 65.2 146.9 65.3 146.9 65.4 L 145.8 81.6 C 145.7 81.7 145.8 81.9 145.9 82 L 151.8 89.7 L 151.9 89.7 L 147.5 96.3 L 144.9 93.2 L 144.9 93.2 C 144.7 93 144.5 92.8 144.3 92.9 C 144.1 92.8 143.9 92.8 143.8 92.9 C 143.5 93 143.4 93.1 143.3 93.3 C 143.3 93.3 143.3 93.4 143.3 93.4 L 136.6 104.9 L 123.6 108.2 L 122.6 99.3 L 125.7 92.4 C 125.7 92.4 125.7 92.4 125.7 92.4 C 125.8 92.2 125.8 92.1 125.8 92 C 125.8 91.7 125.7 91.5 125.6 91.4 L 125.6 91.4 L 119.4 84.5 L 117.5 66.3 L 121.3 61.7 L 122.2 62.5 C 122.2 62.6 122.3 62.6 122.4 62.7 L 123.6 62.9 C 123.7 62.9 123.8 62.9 123.9 62.8 L 129.1 60.3 C 129.1 60.2 129.2 60.2 129.3 60.1 C 129.3 60 129.3 60 129.3 59.9 L 129.7 58.4 C 129.7 58.4 129.7 58.3 129.7 58.2 C 129.7 58.1 129.6 58.1 129.6 58 L 126.4 53.8 L 134.2 46.9 L 139.3 48.2 C 139.3 48.2 139.4 48.2 139.4 48.2 C 139.5 48.2 139.6 48.2 139.7 48.2 L 139.9 48.2 C 139.9 48.2 140 48.2 140 48.2 L 145.5 46.9 L 146.5 52 C 146.5 52 146.5 52.1 146.5 52.1Z M 157.8 59.8 L 161.9 60.2 L 163.3 64.1 L 157.7 60.7 L 157.8 59.8Z"},
{id:"20",path:"M 176.8 42.2 L 176.9 42.2 L 185.2 38.8 L 186.8 40.2 L 177.7 51.4 L 171.8 55 L 163.9 50.9 L 168.9 40.9 L 176.2 42.2 L 176.3 42.2 C 176.3 42.2 176.3 42.2 176.3 42.2 C 176.5 42.2 176.6 42.2 176.8 42.2Z"},{id:"48",path:"M 148.3 39.5 L 157.5 36.6 L 167 40.4 L 162 50.2 L 154.7 49.2 L 153.6 46.1 L 153.6 46.2 C 153.5 45.9 153.4 45.8 153.3 45.7 L 153.2 45.7 C 153.1 45.5 152.9 45.5 152.8 45.5 L 148.1 44.4 L 146.7 43.6 C 146.6 43.5 146.4 43.5 146.3 43.6 L 141.2 44.8 L 141.2 43.5 L 147.6 40.1 L 147.7 40.1 C 147.9 39.9 148.1 39.7 148.3 39.5Z"},
{id:"01",path:"M 153.4 50.9 C 153.5 50.9 153.6 51 153.7 51 C 153.7 51 153.8 51 153.8 51.1 L 162.3 52.3 L 170.6 56.7 L 167.9 65.1 C 167.9 65.1 167.9 65.2 167.9 65.2 L 167.8 65.5 C 167.8 65.5 167.8 65.5 167.8 65.6 L 167.8 67.2 L 166.6 69.5 L 158.3 67.2 L 156.8 63.9 C 156.8 63.9 156.8 63.8 156.7 63.8 L 156.3 63.3 C 156.3 63.3 156.2 63.3 156.2 63.2 L 145.1 56.7 L 145.6 56 L 151.6 56 C 151.7 56 151.8 56 151.9 55.9 C 152 55.8 152 55.8 152.1 55.7 L 152.7 53.9 C 152.7 53.7 152.7 53.7 152.7 53.6 C 152.6 53.4 152.6 53.4 152.5 53.3 L 149.3 50.8 L 148.5 46.5 L 151.9 47.3 L 153 50.3 C 152.9 50.5 153.1 50.7 153.3 50.9 C 153.3 50.9 153.4 50.9 153.4 50.9Z M 155.9 61.7 L 164.3 66.8 L 165.6 65.5 L 162.8 58 L 156.2 58 L 155.7 60.7 L 155.9 61.7Z"},
{id:"31",path:"M 173.5 57.4 L 179.5 53.8 C 179.5 53.7 179.5 53.7 179.6 53.7 C 183 49.6 185.6 46.5 187.3 44.5 C 188.1 43.4 188.8 42.7 189.2 42.2 C 189.4 42 189.6 41.8 189.7 41.7 L 195.4 43.2 L 193.5 49.7 C 193.4 49.9 193.4 50.2 193.7 50.5 C 193.8 50.8 193.9 51 194.1 51 C 194.1 51 194.1 51 194.1 51 L 198.4 52.7 C 198.4 52.8 198.5 52.8 198.6 52.8 C 198.7 52.7 198.7 52.7 198.8 52.7 C 199.5 52.3 199.8 52 199.7 51.8 L 199.7 49.8 L 211.4 54.6 L 208 61.5 L 199.7 68.5 C 199.7 68.6 199.6 68.7 199.6 68.8 L 195.1 83.9 C 195.1 84 195.1 84.1 195.1 84.1 C 195.1 84.2 195.2 84.3 195.2 84.4 L 197.5 87.5 L 194.9 91.5 L 185.5 88.6 L 190.3 82.3 C 190.4 82.2 190.4 82.1 190.4 82.1 C 190.4 82 190.4 81.9 190.4 81.8 C 190.3 81.7 190.3 81.7 190.2 81.6 L 178.2 72.8 C 178.1 72.7 178 72.7 178 72.7 L 169.6 70.4 L 170.7 68.2 C 170.7 68.2 170.7 68.1 170.7 68.1 L 170.8 67.7 C 170.8 67.6 170.8 67.6 170.8 67.6 L 170.8 65.8 L 173.5 57.4Z"},
{id:"22",path:"M 225.3 57.8 L 234 63.3 C 234.1 63.3 234.2 63.3 234.3 63.4 C 234.3 63.4 234.4 63.3 234.5 63.3 L 240.7 60.8 L 253.5 62.2 L 256.4 73.7 L 252.8 90.7 L 245.8 99.6 L 245.7 99.7 C 245.6 99.8 245.5 100.2 245.5 100.7 C 245.6 101.3 245.8 101.6 246 101.8 L 246 101.8 L 248.2 103.6 L 244.3 107.4 C 244.2 107.4 244.1 107.7 244 108.1 L 244 108 C 243.8 108.5 243.8 108.8 243.9 108.9 L 243.9 108.9 L 244.8 111 L 238.6 111.6 L 234.8 104.4 C 234.8 104.3 234.7 104.3 234.6 104.2 L 234.6 104.2 L 217.7 89.5 L 217.7 78.6 C 217.7 78.5 217.7 78.4 217.7 78.4 C 216.5 75.8 215.2 73.2 214 70.6 L 214 70.7 C 211.7 65.8 210.5 63.4 210.3 63.5 C 210.4 63.5 210.5 63.4 210.5 63.3 L 214.2 55.7 L 219.1 57.7 C 219.2 57.7 219.2 57.8 219.3 57.8 L 225.3 57.8Z"},
{id:"25",path:"M 256 61 L 255.8 57 L 273 62 L 274.8 70 C 274.8 70.1 274.9 70.2 275 70.3 C 275.1 70.4 275.2 70.4 275.3 70.4 L 284 69.8 L 286.8 73.8 L 283.4 76.6 C 283.3 76.7 283.2 76.8 283.2 76.9 L 280.8 94.1 L 276.4 95.1 C 276.3 95.1 276.2 95.2 276.1 95.3 L 275.7 95.8 C 275.6 95.8 275.6 95.9 275.6 96.1 L 275.6 102 L 266.5 106.8 C 266.5 106.8 266.4 106.9 266.4 106.9 L 261.8 111.4 L 249.4 114.3 L 248.2 111.5 L 248.2 111.2 C 248.2 111.1 248.1 111 248 110.9 C 248 110.8 248 110.8 247.9 110.8 L 247.1 108.8 L 251.5 104.6 L 251.5 104.6 C 251.7 104.6 251.7 103.9 251.7 102.7 C 251.6 102.7 251.6 102.6 251.6 102.5 C 251.6 102.5 251.5 102.4 251.5 102.4 L 249 100.3 L 255.3 92.3 C 255.4 92.2 255.4 92.2 255.4 92.2 C 255.5 92 255.5 91.9 255.6 91.7 C 255.6 91.7 255.6 91.6 255.7 91.6 L 259.5 74 C 259.5 73.8 259.5 73.5 259.4 73.3 C 258.9 71.3 258.3 69.2 257.8 67.2 C 256.8 63.7 256.2 61.7 255.9 60.9 L 256 61Z"},
{id:"08",path:"M 292 81.6 C 292.3 81.9 292.7 82.1 293 81.9 L 293 81.9 L 298.4 80.2 L 306 82.7 L 304.8 87 L 300.3 88.3 C 300.1 88.2 299.9 88.4 299.7 88.9 L 299.7 88.9 C 299.4 89.4 299.4 89.7 299.6 89.9 L 301.3 92.8 C 301.3 92.9 301.3 92.9 301.4 93 L 301.8 93.2 C 301.8 93.3 301.9 93.3 302 93.3 L 313.4 94.7 L 314.1 96.7 L 300.9 104.7 C 300.8 104.7 300.7 104.8 300.7 104.9 L 297.5 111.3 L 285 115.1 L 277.6 102.3 L 277.6 96.9 L 281.9 96 C 281.9 95.9 281.9 95.9 282 95.9 C 282.4 95.7 282.7 95.4 282.7 95.1 L 282.7 95.1 L 285.2 77.6 L 287.9 75.5 L 291.9 81.5 C 291.9 81.5 291.9 81.5 292 81.6Z"},
{id:"17",path:"M 323.3 75.7 C 323.3 75.7 323.3 75.7 323.3 75.7 C 323.1 76.1 323.1 76.4 323.3 76.5 L 326.3 86.6 L 315.8 95.5 L 315.1 93.5 C 315.1 93.4 315 93.3 315 93.3 L 314.5 92.9 C 314.4 92.8 314.3 92.8 314.3 92.8 L 302.7 91.4 L 301.9 89.9 L 305.9 88.8 C 306 88.8 306 88.7 306.1 88.7 L 306.5 88.3 C 306.5 88.2 306.6 88.2 306.6 88.1 L 308.2 82.4 C 308.4 82.2 308.3 81.9 308.1 81.6 C 308.1 81.5 308.1 81.5 308.1 81.5 C 307.9 81.3 307.7 81.1 307.6 81.1 C 307.6 81.1 307.6 81.1 307.6 81.1 L 298.7 78.2 C 298.5 78.2 298.3 78.2 298.1 78.2 L 293.2 79.8 L 289 73.5 C 289 73.4 288.9 73.4 288.9 73.4 L 288.9 73.4 L 286.9 70.5 L 294.2 72.8 C 294.3 72.9 294.4 72.9 294.6 72.8 L 300.5 70.1 L 310.9 72.4 C 311 72.4 311.1 72.4 311.2 72.3 L 319.8 67.6 L 327.5 72 L 327.5 72.7 L 323.6 75.2 C 323.6 75.2 323.6 75.3 323.6 75.3 C 323.5 75.3 323.4 75.5 323.3 75.7Z"},
{id:"07",path:"M 327.9 162.8 L 329.6 167.4 L 333.2 169 L 333.3 169 L 337 167.4 C 337.1 167.4 337.2 167.4 337.3 167.4 L 340.3 168.3 C 340.4 168.4 340.4 168.4 340.5 168.5 C 340.6 168.5 340.6 168.6 340.6 168.7 C 340.6 168.8 340.6 168.9 340.6 169 L 336.9 177.4 L 336.9 182.3 C 336.9 182.4 336.9 182.5 336.9 182.5 C 336.8 182.6 336.8 182.7 336.7 182.7 L 330.7 187.4 C 330.7 187.5 330.6 187.5 330.5 187.5 C 330.4 187.5 330.3 187.5 330.2 187.5 C 330.1 187.4 330 187.3 330 187.3 L 328.3 183.9 L 321.3 183.9 C 321.2 183.9 321 183.9 321 183.8 C 320.9 183.7 320.8 183.6 320.8 183.5 L 319.7 178.2 L 316.9 176.9 L 313 181.2 C 312.9 181.3 312.8 181.4 312.6 181.4 C 312.5 181.4 312.4 181.4 312.3 181.3 L 308.4 178 C 308.4 177.9 308.3 177.8 308.3 177.8 C 308.2 177.7 308.2 177.6 308.3 177.5 C 308.3 177.4 308.4 177.3 308.4 177.2 L 318.4 168.1 C 318.4 168.1 318.4 168.1 318.5 168.1 L 327.2 162.5 C 327.3 162.5 327.4 162.4 327.5 162.5 C 327.6 162.5 327.7 162.5 327.8 162.6 C 327.8 162.6 327.9 162.7 327.9 162.8Z M 350.6 156.5 L 360.5 154.9 C 360.6 154.9 360.7 154.9 360.8 155 C 360.9 155 361 155.1 361.1 155.2 L 365.1 162.4 C 365.1 162.5 365.1 162.6 365.1 162.8 C 365 162.9 365 163 364.9 163.1 L 363.9 163.7 C 363.8 163.7 363.7 163.7 363.7 163.8 C 363.6 163.8 363.5 163.7 363.4 163.7 L 356.4 159.9 L 352.7 161 C 352.5 161 352.4 161 352.3 161 C 352.2 160.9 352.1 160.8 352.1 160.7 L 350.2 157.2 C 350.1 157.1 350.1 157 350.1 156.9 C 350.1 156.8 350.2 156.7 350.3 156.6 C 350.4 156.5 350.4 156.5 350.6 156.5Z M 287.2 196.4 C 287.3 196.5 287.3 196.6 287.4 196.7 L 288.2 199.6 C 288.2 199.6 288.2 199.7 288.2 199.8 C 288.2 199.9 288.2 200 288.1 200.1 L 282 206.3 C 281.9 206.4 281.8 206.4 281.7 206.4 C 281.6 206.4 281.5 206.4 281.5 206.4 L 276.7 204.6 C 276.6 204.5 276.5 204.5 276.5 204.4 C 276.4 204.3 276.4 204.2 276.4 204.1 C 276.4 204 276.4 203.9 276.5 203.8 L 277.3 202.3 L 278.3 199 C 278.3 198.9 278.4 198.8 278.5 198.8 C 278.5 198.7 278.6 198.6 278.7 198.6 L 286.8 196.4 C 286.9 196.3 287 196.4 287.2 196.4Z M 285.6 210.2 L 282.6 212.8 C 282.5 212.8 282.4 212.9 282.2 212.9 C 282.1 212.9 282 212.8 281.9 212.7 C 281.8 212.6 281.7 212.5 281.7 212.4 L 281.7 211.3 C 281.7 211.2 281.8 211.1 281.8 211 C 281.8 211 281.9 210.9 281.9 210.8 L 283.8 209.5 C 283.9 209.4 284 209.4 284.1 209.3 L 285.2 209.3 C 285.4 209.4 285.4 209.4 285.5 209.5 C 285.6 209.5 285.7 209.6 285.7 209.7 C 285.8 209.8 285.8 209.9 285.7 210 C 285.7 210.1 285.7 210.2 285.6 210.2Z"},
{id:"38",path:"M 280.4 323.4 C 280.5 323.5 280.6 323.5 280.7 323.7 L 281.5 325.4 C 281.5 325.5 281.5 325.6 281.5 325.7 C 281.5 325.8 281.4 325.9 281.4 325.9 L 271 336.1 L 267 344.9 C 267 344.9 266.9 345 266.9 345.1 C 266.8 345.1 266.7 345.1 266.7 345.2 L 262 346.4 C 261.8 346.4 261.7 346.4 261.6 346.3 C 261.5 346.3 261.4 346.2 261.4 346.1 L 254.8 333.2 C 254.8 333.1 254.8 333 254.8 332.9 C 254.8 332.8 254.9 332.7 255 332.6 C 255 332.5 255.1 332.5 255.2 332.5 L 268.2 331.3 L 268.2 331.2 L 268.2 331.2 L 271.5 326.3 C 271.6 326.2 271.7 326.1 271.8 326.1 L 280.1 323.4 C 280.2 323.3 280.3 323.3 280.4 323.4Z M 226.7 321.2 C 226.7 321.3 226.7 321.4 226.7 321.5 L 224 327.5 C 224 327.6 223.9 327.7 223.9 327.7 C 223.8 327.8 223.7 327.8 223.6 327.8 L 222.9 327.8 C 222.7 327.8 222.6 327.7 222.5 327.7 C 222.4 327.6 222.4 327.4 222.4 327.3 L 222.4 324.3 L 218.2 316.6 C 218.1 316.5 218.1 316.4 218.1 316.3 C 218.1 316.2 218.2 316.1 218.3 316 L 220.8 313.4 C 220.8 313.4 220.9 313.3 221 313.3 C 221 313.3 221.1 313.3 221.2 313.3 L 225.2 313.6 C 225.3 313.6 225.4 313.7 225.5 313.8 C 225.6 313.8 225.6 313.9 225.7 314.1 L 226.7 321.2Z M 247.8 341.2 C 247.8 341.3 247.8 341.4 247.8 341.5 C 247.7 341.6 247.7 341.7 247.6 341.8 L 243.7 344.7 C 243.6 344.8 243.4 344.8 243.3 344.8 C 243.2 344.8 243.1 344.7 243 344.7 L 239.8 341.6 C 239.7 341.5 239.6 341.4 239.6 341.3 C 239.6 341.2 239.6 341.1 239.7 341 L 241.3 338.2 C 241.3 338.1 241.4 338 241.5 338 C 241.7 338 241.8 338 241.9 338 L 247.5 340.9 C 247.6 341 247.7 341.1 247.8 341.2Z M 212.6 355.7 C 212.6 355.6 212.6 355.5 212.6 355.3 C 212.7 355.2 212.7 355.2 212.9 355.1 L 216 353.4 L 218.9 350.6 C 219 350.5 219.1 350.4 219.3 350.4 C 219.4 350.4 219.5 350.5 219.6 350.6 L 221.1 351.8 C 221.2 351.9 221.2 352 221.2 352.2 C 221.2 352.3 221.2 352.4 221.1 352.5 L 218.6 355.6 L 218.6 358.9 C 218.6 359 218.5 359.1 218.4 359.2 C 218.3 359.3 218.2 359.4 218.1 359.4 C 218 359.4 217.9 359.4 217.8 359.3 L 212.8 356 C 212.7 355.9 212.6 355.8 212.6 355.7Z"},
{id:"35",path:"M 303.8 341.6 C 303.9 341.7 304 341.7 304.1 341.8 C 304.2 341.9 304.2 342 304.2 342.2 L 304 344 L 304 344 L 305.8 346.2 C 305.9 346.2 305.9 346.3 305.9 346.3 C 305.9 346.4 305.9 346.5 305.9 346.6 L 304.6 352.2 C 304.6 352.3 304.5 352.4 304.4 352.5 L 298.4 356.4 C 298.3 356.4 298.2 356.5 298.2 356.5 C 298.1 356.5 298 356.4 297.9 356.4 L 291.7 352.5 C 291.5 352.4 291.5 352.3 291.5 352.2 L 290.2 347.3 C 290.1 347.2 290.1 347.1 290.2 347 C 290.2 346.9 290.3 346.8 290.4 346.8 L 294.6 343.4 L 294.6 340.5 C 294.5 340.4 294.6 340.3 294.6 340.2 C 294.7 340.1 294.8 340.1 294.9 340.1 C 294.9 340 295 340 295.2 340 L 303.8 341.6Z M 370.6 300.5 C 370.7 300.5 370.7 300.6 370.8 300.8 C 370.8 300.9 370.8 301 370.7 301.1 L 369.1 304.6 L 369.1 308.1 C 369.1 308.2 369.1 308.3 369 308.4 C 369 308.5 368.9 308.5 368.9 308.6 L 358.8 314.2 C 358.7 314.3 358.6 314.3 358.5 314.3 L 356 314.3 C 355.8 314.3 355.7 314.3 355.7 314.2 C 355.6 314.1 355.5 314 355.5 313.9 C 355.4 313.8 355.4 313.7 355.5 313.6 L 356.9 310.8 L 356.9 307.2 C 356.9 307.1 356.9 307 356.9 307 C 357 306.9 357 306.8 357.1 306.8 L 364 303.2 C 364 303.2 364.1 303.2 364.2 303.2 C 364.2 303.1 364.3 303.2 364.4 303.2 L 366.9 304.2 L 368.4 299.9 C 368.5 299.8 368.5 299.7 368.6 299.7 C 368.7 299.6 368.8 299.6 368.9 299.5 C 369 299.5 369.1 299.6 369.2 299.6 L 370.6 300.5Z M 356 318.8 L 356.9 324.3 C 356.9 324.4 356.9 324.5 356.9 324.7 L 355.1 327.3 L 355.1 327.4 L 356.6 330.6 C 356.6 330.6 356.6 330.7 356.6 330.8 C 356.6 330.8 356.6 330.9 356.6 331 L 354 336.9 C 354 337 353.9 337.1 353.9 337.1 C 353.8 337.1 353.7 337.2 353.7 337.2 L 345.6 339.3 L 340.9 344.7 C 340.8 344.7 340.7 344.8 340.6 344.8 C 340.5 344.8 340.4 344.8 340.3 344.8 L 336.5 343 C 336.4 342.9 336.3 342.8 336.3 342.7 C 336.3 342.6 336.2 342.5 336.3 342.4 C 336.3 342.3 336.4 342.2 336.5 342.1 C 336.5 342 336.6 342 336.8 342 L 339 342 L 345.1 337.4 L 345.1 334 C 345 333.9 345.1 333.9 345.1 333.8 L 348.2 329 L 351.5 320.4 C 351.6 320.3 351.7 320.2 351.8 320.1 L 355.3 318.4 C 355.4 318.3 355.5 318.3 355.6 318.3 C 355.7 318.4 355.8 318.4 355.9 318.5 C 355.9 318.6 356 318.7 356 318.8Z"},
{id:"52",path:"M 152.2 337.9 L 159.9 337.9 L 159.9 345.6 L 152.2 345.6 L 152.2 337.9"},{id:"51",path:"M 77.5 318.9 L 85.2 318.9 L 85.2 326.6 L 77.5 326.6 L 77.5 318.9"},{id:"11",path:"M 55.7 295.8 L 55.7 295.7 L 49 290.1 L 50.4 285.8 L 64.8 281.5 L 85 279.3 L 74.4 294.2 C 74.3 294.2 74.3 294.2 74.3 294.2 C 74.2 294.3 74.2 294.5 74.2 294.8 C 74.2 294.8 74.2 294.9 74.2 294.9 C 74.3 295.2 74.4 295.4 74.5 295.5 L 82.8 303.9 L 74.9 315 L 59.3 307.1 L 54 298.2 L 55.5 297.3 C 55.5 297.3 55.6 297.3 55.6 297.2 C 55.7 297.2 55.8 297 55.9 296.6 C 55.9 296.1 55.9 295.8 55.7 295.8Z"},
{id:"21",path:"M 19.6 268.4 L 19.6 248.2 L 33.9 234.3 C 46.9 239.3 54.4 242.1 56.2 242.8 L 57.2 248.4 L 49.3 248.4 C 49.2 248.4 49.1 248.4 49.1 248.5 L 48.7 248.7 C 48.7 248.7 48.6 248.7 48.6 248.8 L 44.3 253.6 C 44.2 253.7 44.2 253.7 44.2 253.7 C 44.1 253.9 44.1 254.2 44.3 254.6 C 44.5 255.1 44.8 255.3 45 255.3 L 48.6 255.3 L 48.6 282.8 L 32.8 268.5 C 32.7 268.4 32.6 268.4 32.5 268.4 L 19.6 268.4Z"},{id:"41",path:"M 59.3 249.8 C 59.3 249.6 59.4 249.5 59.4 249.4 C 59.4 249.3 59.4 249.3 59.4 249.3 L 58.2 242.7 L 71.8 235.8 L 79.8 256 L 79.8 256 C 79.8 256.2 80 256.4 80.3 256.5 C 80.5 256.6 80.8 256.6 81 256.6 L 81.1 256.6 L 88.4 253.7 L 99.7 268.8 L 86.8 277.1 L 64.6 279.5 C 64.6 279.5 64.5 279.5 64.5 279.5 L 50.6 283.7 L 50.6 254.3 C 50.6 254.1 50.5 253.9 50.3 253.6 C 50 253.3 49.8 253.2 49.6 253.3 L 47.2 253.3 L 49.8 250.4 L 58.4 250.4 C 58.5 250.4 58.7 250.4 58.8 250.3 C 58.9 250.3 58.9 250.3 59 250.2 C 59.1 250.1 59.2 249.9 59.3 249.8Z"},
{id:"29",path:"M 87.9 278.8 L 101.4 270.1 L 111.1 272.2 L 114.3 281.2 L 114.3 281.2 C 114.3 281.4 114.5 281.6 114.7 281.7 L 114.7 281.7 L 125.3 288 L 108.3 288.3 C 108.2 288.4 108.2 288.4 108.1 288.4 C 108 288.4 108 288.5 107.9 288.5 L 100.5 296.7 L 84.3 302.7 L 76.5 294.7 L 87.9 278.8Z"},{id:"14",path:"M 112.3 227.3 L 112.3 227.3 C 112.4 227.4 112.4 227.4 112.5 227.4 L 112.5 248.5 C 112.4 248.7 112.5 248.8 112.5 248.9 C 112.5 249 112.5 249 112.6 249 L 119.6 262.6 L 115.6 262.6 C 115.4 262.7 115.2 262.7 115.1 262.8 C 114.9 262.9 114.7 263 114.7 263.2 L 111.3 270.2 L 101.7 268.1 L 89.6 251.9 L 89.6 251.8 C 89.4 251.7 89.3 251.5 89.1 251.5 C 88.9 251.4 88.6 251.4 88.4 251.5 C 88.4 251.5 88.4 251.5 88.4 251.5 C 88.4 251.6 88.3 251.6 88.3 251.6 L 81.3 254.3 L 73.7 234.9 L 77.3 233.1 C 77.4 233 77.4 232.9 77.5 232.8 L 78.1 231.7 C 78.1 231.6 78.1 231.5 78.1 231.4 L 76.5 224.5 L 92 215 L 92 215 L 92 215 L 112.3 227.3Z"},
{id:"23",path:"M 166.8 234.5 L 164.3 236.1 L 164.3 236.1 C 164.1 236.2 158.9 242.3 148.5 254.6 L 134.6 254.6 C 134.4 254.6 134.2 254.6 134.1 254.8 L 121.7 262.3 L 114.5 248.3 L 114.5 227.8 L 139.2 227.8 C 139.2 227.8 139.3 227.8 139.3 227.8 L 159.7 222.3 L 163.6 223.8 L 166.8 234.5Z"},{id:"18",path:"M 164.7 239.1 L 170.4 241 L 174.5 245.6 L 168.4 257.3 L 160.9 268.9 L 156.8 267.5 C 156.7 267.4 156.4 267.4 156.1 267.5 C 155.7 267.7 155.5 267.8 155.5 268 L 155.5 268 L 147.2 287 L 129 287.9 L 116.1 280.2 L 113 271.4 L 116.2 264.7 L 121.3 264.7 C 121.4 264.7 121.5 264.6 121.7 264.6 C 121.7 264.6 121.7 264.5 121.8 264.5 C 121.8 264.5 121.8 264.5 121.9 264.5 L 134.9 256.6 L 149 256.6 C 149.1 256.6 149.2 256.5 149.4 256.5 C 149.4 256.4 149.5 256.4 149.6 256.3 C 149.6 256.3 149.7 256.3 149.7 256.2 L 164.7 239.1Z"},
{id:"04",path:"M 176.7 246.6 L 181 246.6 L 179.9 252.7 C 179.8 252.9 179.8 253.1 179.9 253.5 C 180 253.9 180.2 254.1 180.3 254.2 L 191.1 265.1 L 184.1 279.9 L 177.2 288.4 L 174.2 283.8 L 174.1 283.8 C 174 283.5 173.7 283.3 173.3 283.3 L 167 283.3 C 166.9 283.3 166.8 283.3 166.7 283.4 L 166.4 283.6 C 166.3 283.6 166.3 283.6 166.2 283.7 L 161.2 289.1 L 149.3 287.1 L 156.9 269.7 L 160.9 271.1 C 161 271.2 161.4 271.1 161.9 270.9 C 162 270.8 162.1 270.8 162.1 270.7 L 170.1 258.3 C 170.2 258.2 170.2 258.1 170.2 258.1 L 170.2 258 L 170.1 258.3 L 176.7 246.6Z"},
{id:"30",path:"M 189.6 230.4 C 189.8 230.7 190.1 230.8 190.4 230.9 C 190.4 230.9 190.5 230.9 190.5 230.9 C 190.8 231 191.1 230.9 191.4 230.8 L 191.4 230.8 L 196.1 228.6 C 196.3 228.5 196.4 228.4 196.6 228.2 C 196.6 228.2 196.7 228.1 196.7 228.1 C 196.8 227.9 196.9 227.6 196.9 227.4 L 196.9 227.3 L 197.9 218.2 L 205.8 213.4 L 209.5 216.8 L 206.9 226.8 L 206.9 226.7 C 206.8 227 206.8 227.3 206.9 227.5 L 209.1 237.7 C 209.1 238 209.2 238.2 209.4 238.4 L 209.4 238.4 L 216.1 246.7 C 216.1 246.7 216.1 246.7 216.1 246.7 C 216.1 246.8 216.2 246.8 216.2 246.8 L 215.1 249.5 L 215.1 249.5 C 215 249.6 215 249.8 215 249.9 C 215 250.2 215 250.3 215.2 250.5 L 217.7 253.9 L 203.1 255.4 C 202.9 255.5 202.7 255.5 202.6 255.6 L 193 262.8 L 183 252.6 L 184.3 245.4 L 184.3 245.3 C 184.3 245.1 184.3 244.8 184.2 244.5 C 184.2 244.5 184.1 244.4 184.1 244.4 C 184 244.2 183.8 244 183.6 243.9 C 183.3 243.6 183.1 243.5 182.8 243.6 L 176.6 243.6 L 173.2 239.6 L 177.9 232.9 L 188.2 228.6 L 189.6 230.4Z"},
{id:"02",path:"M 206.1 207.4 C 206.1 207.4 206.1 207.4 206.1 207.4 C 206.3 207.5 206.5 207.6 206.7 207.5 L 211.2 207.5 L 211.2 210.7 L 210.4 213.5 L 207.1 210.5 L 207.1 210.5 C 206.9 210.3 206.6 210.1 206.2 210 C 205.9 210 205.6 210.1 205.3 210.3 L 205.3 210.3 L 195.7 216 L 195.7 216 C 195.5 216 195.4 216.2 195.2 216.4 C 195 216.6 195 216.8 194.9 217.1 L 194.9 217.2 L 194 226.3 L 191.2 227.6 L 189.8 225.9 L 189.8 225.9 C 189.6 225.6 189.3 225.4 189 225.4 C 188.7 225.3 188.4 225.3 188.1 225.5 L 188.1 225.5 L 175.9 230.7 C 175.9 230.7 175.8 230.7 175.7 230.8 L 170.6 238 L 168.2 237.2 L 169.4 236.4 C 169.7 236.2 169.9 236 170 235.7 C 170.1 235.4 170.1 235.1 170 234.7 L 170 234.7 L 166.2 222.2 L 166.2 222.2 C 166.1 222 166 221.8 165.9 221.7 C 165.7 221.4 165.6 221.3 165.3 221.3 C 165.3 221.2 165.3 221.2 165.3 221.2 L 161.3 219.6 L 163.4 213.7 C 163.5 213.6 163.5 213.5 163.4 213.4 L 159.9 192.1 L 167.3 190.7 L 172 195.3 C 172.1 195.4 172.2 195.4 172.3 195.5 C 172.4 195.5 172.5 195.6 172.5 195.6 C 172.6 195.6 172.7 195.6 172.8 195.6 C 172.8 195.6 172.8 195.6 172.9 195.6 L 188.2 193.2 C 188.3 193.1 188.4 193.1 188.5 193.1 L 188.5 193 L 195.2 189.2 C 195.3 189.3 195.4 189.3 195.5 189.4 C 195.5 189.4 195.5 189.4 195.5 189.4 L 203.6 192.9 L 200.9 199.8 C 200.7 200.1 200.7 200.3 200.8 200.6 C 200.8 200.8 200.9 201.1 201.1 201.3 L 205.5 207 C 205.6 207.1 205.8 207.3 206.1 207.4Z"},
{id:"13",path:"M 105.1 186.7 L 105 187 L 108.5 183 L 119.2 183 L 119.2 185.5 L 117 189.3 L 117 189.3 C 116.9 189.4 116.9 189.7 117 190.1 C 117 190.1 117 190.1 117.1 190.1 C 117.2 190.4 117.3 190.6 117.4 190.6 C 117.4 190.7 117.5 190.7 117.5 190.7 C 124.1 193.2 127.5 194.4 127.8 194.3 L 127.7 194.3 L 142.7 186.5 L 153.1 186.5 L 157.8 191.7 L 161.4 213.4 C 159.8 217.3 159 219.3 159 219.3 L 138.8 224.8 L 113.9 224.8 L 93.8 212.6 L 101.3 192 C 103.6 189.1 104.8 187.3 105.1 186.7Z"},{id:"06",path:"M 35 199.9 C 35.1 199.8 35.1 199.7 35.1 199.6 C 35.1 199.4 35.1 199.3 35 199.3 L 28.5 190.4 L 38.8 187.7 L 38.8 193.9 C 38.8 194 38.9 194.2 39.1 194.4 C 39.2 194.6 39.4 194.8 39.5 194.8 C 39.5 194.8 39.5 194.8 39.6 194.8 L 63 200.3 C 63.1 200.3 63.2 200.3 63.3 200.3 L 93.8 189.3 C 93.9 189.3 93.9 189.3 94 189.3 C 94 189.3 94 189.3 94.1 189.4 C 94.4 189.6 94.7 189.6 94.9 189.6 L 100.2 188.8 L 98.6 190.6 C 98.6 190.6 98.5 190.7 98.5 190.7 L 90.7 212.3 L 74.1 222.5 C 74 222.6 73.9 222.7 73.8 222.8 L 73.4 223.9 C 73.3 223.9 73.3 224 73.4 224.2 L 74.9 230.9 L 56.9 240 L 35 231.6 L 35.1 231.7 C 34.9 231.6 33.5 231.2 30.8 230.5 L 24.4 223 L 25.6 211.8 L 35 199.9Z"},
{id:"10",path:"M 67.7 155.8 C 67.7 155.8 67.8 155.8 67.9 155.7 L 72.2 154 L 82.4 161.2 L 81.3 167.8 C 81.2 167.8 81.2 167.9 81.3 167.9 L 81.4 168.6 C 81.4 168.6 81.4 168.7 81.4 168.8 L 92 187.8 L 62.8 198.3 L 40.8 193.1 L 40.8 186.4 C 40.8 186.1 40.7 186 40.6 185.8 C 40.5 185.6 40.4 185.5 40.2 185.5 C 40.2 185.4 40.2 185.4 40.2 185.4 C 40 185.4 39.8 185.4 39.6 185.4 L 27.4 188.7 L 21.7 176.2 L 35.1 176.2 C 35.4 176.2 35.6 176.1 35.8 175.9 C 36 175.7 36.1 175.4 36.1 175.2 L 36.1 156.1 L 39.5 154.4 C 39.8 154.5 40.1 154.6 40.4 154.6 L 48.7 154.6 C 48.8 154.6 48.8 154.6 48.9 154.6 L 49.5 154.3 C 49.6 154.3 49.6 154.3 49.7 154.2 L 57.7 147.3 L 66.4 155.4 C 66.4 155.5 66.5 155.5 66.6 155.6 L 67.7 155.8Z"},
{id:"45",path:"M 97.5 160.5 C 97.6 160.5 97.6 160.4 97.7 160.4 L 101.8 156 L 104 158 C 104.1 158 104.1 158 104.1 158.1 L 105.8 159.7 C 105.8 159.8 105.9 159.8 106 159.8 L 107 160.1 C 107.1 160.1 107.2 160.1 107.3 160.1 L 116.8 156.8 L 131.1 161.7 L 124.4 167.3 C 124.3 167.4 124.3 167.4 124.3 167.5 C 124.2 167.6 124.2 167.6 124.2 167.7 L 124.2 169.2 C 124.2 169.3 124.2 169.3 124.3 169.4 C 124.3 169.5 124.3 169.5 124.4 169.6 L 126.2 171.2 C 126.2 171.2 126.3 171.3 126.4 171.3 L 127.6 171.5 C 127.7 171.5 127.8 171.4 127.9 171.4 L 141.8 164.1 L 146.3 164.1 L 147.6 170.8 C 147.6 170.8 147.6 170.8 147.6 170.9 C 147.6 170.9 147.7 171 147.7 171.1 C 147.7 171.1 147.7 171.1 147.8 171.1 L 153.4 179.3 L 152.6 184.6 L 142.4 184.6 C 142.3 184.5 142.1 184.6 142 184.7 L 127.2 192.4 L 119.3 189.3 L 121.1 186.3 L 121 186.3 C 121.1 186 121.2 184.6 121.2 182 C 121.2 181.8 121.1 181.6 120.9 181.3 C 120.6 181 120.4 180.9 120.2 181 L 108.1 181 C 108 181 107.9 181 107.8 181 L 107.5 181.2 C 107.4 181.3 107.4 181.3 107.3 181.3 L 103.7 185.5 C 102.9 185.3 102.5 185.3 102.3 185.4 L 102.3 185.4 L 94.7 186.5 L 84.3 167.8 L 85.3 161.9 L 96.7 160.9 C 96.8 160.8 96.8 160.8 96.9 160.8 L 97.5 160.5Z"},
{id:"37",path:"M 68.5 121.4 C 68.6 121.3 68.7 121.1 68.7 121 L 69.7 117.7 L 85.9 120.9 C 85.9 120.9 86 120.9 86 120.9 L 86 120.9 L 88.8 121.3 L 88.8 131.3 L 78.4 141 L 78.4 141.1 C 78.3 141.1 78.2 141.2 78.2 141.3 C 78.1 141.5 78 141.6 78.1 141.8 L 78.1 146.4 L 72.1 151.2 C 72 151.2 71.9 151.2 71.9 151.2 C 71.5 151.1 71.2 151.1 71.1 151.2 L 67.7 152.6 L 58.8 144.2 C 58.7 144.1 58.6 144.1 58.5 144.1 L 57.1 144.1 C 57 144 56.9 144.1 56.8 144.2 L 48.2 151.6 L 41.3 151.6 L 43.3 144.3 C 43.3 144.3 43.3 144.2 43.4 144.2 C 43.4 144.2 43.4 144.1 43.4 144.1 L 43.4 131.9 C 43.4 131.8 43.4 131.7 43.4 131.7 C 43.4 131.6 43.3 131.6 43.3 131.5 L 40.7 124.9 L 42.2 124.9 C 42.4 124.9 42.6 124.8 42.8 124.7 C 42.8 124.7 42.8 124.7 42.8 124.7 L 53.8 115.5 L 67.4 121.6 C 67.4 121.6 67.4 121.6 67.4 121.6 C 67.6 121.6 67.7 121.7 67.9 121.7 C 67.9 121.7 68 121.6 68.1 121.6 C 68.1 121.6 68.2 121.6 68.3 121.5 C 68.3 121.5 68.4 121.5 68.5 121.4Z"},
{id:"05",path:"M 90.7 132.1 C 90.7 132 90.8 131.8 90.8 131.7 L 90.8 121.6 L 103.1 123.3 L 115.2 139.1 L 104.8 154.6 L 102.8 152.7 C 102.7 152.7 102.6 152.6 102.6 152.6 C 102.5 152.6 102.4 152.6 102.4 152.6 L 101 152.7 C 100.8 152.7 100.7 152.8 100.6 152.9 L 95.9 157.9 L 84.4 159 L 74.4 152 L 79.7 147.6 C 79.8 147.6 79.8 147.5 79.9 147.4 L 79.9 147.4 C 79.9 147.3 79.9 147.3 80 147.2 C 80 147 80.1 146.9 80.1 146.8 L 80.1 142.2 L 90.5 132.5 C 90.5 132.4 90.5 132.4 90.6 132.3 C 90.6 132.3 90.6 132.2 90.7 132.1Z"},
{id:"40",path:"M 122.9 110.4 C 122.9 110.4 122.9 110.4 122.9 110.4 L 136.9 106.8 L 144.3 115.6 L 135.2 120.5 C 135.2 120.5 135.1 120.5 135.1 120.6 L 116.6 137.6 L 104.8 122.3 L 110.7 112.5 L 122.9 110.4Z"},{id:"28",path:"M 135.3 133.8 L 135.3 134.9 C 135.3 135 135.3 135.1 135.4 135.2 L 146.4 150.8 L 148.2 161.1 L 141.5 161.1 C 141.4 161.1 141.3 161.1 141.3 161.1 L 140.9 161.2 C 140.8 161.2 140.8 161.2 140.8 161.3 L 128.9 167.5 L 135.1 162.2 C 135.1 162.2 135.2 162.1 135.2 162 C 135.3 161.9 135.3 161.9 135.3 161.8 L 135 160.1 C 134.9 160 134.9 159.9 134.8 159.8 C 134.8 159.8 134.7 159.7 134.6 159.7 L 117.3 153.8 C 117.3 153.8 117.2 153.8 117.2 153.8 L 116.5 153.8 C 116.4 153.7 116.4 153.8 116.3 153.8 L 107.2 156.9 L 107 156.7 L 117.7 140.7 C 117.7 140.7 117.7 140.7 117.8 140.7 C 117.8 140.6 117.8 140.4 117.9 140.3 L 136 123.8 L 139 127.2 L 135.3 133.6 C 135.3 133.6 135.2 133.7 135.3 133.8Z"},
{id:"47",path:"M 83.7 88.5 L 86.8 81.3 L 94.6 79.4 L 94.6 92.9 C 94.6 93 94.7 93.2 94.8 93.4 C 94.9 93.6 95.1 93.8 95.4 93.8 L 120.7 99.9 L 121.6 108.6 L 109.9 110.6 C 109.9 110.6 109.9 110.6 109.9 110.6 C 109.7 110.7 109.6 110.7 109.6 110.8 L 109.6 110.8 L 109.5 110.8 C 109.4 110.9 109.3 111 109.2 111.1 L 109.2 111.1 L 103.1 121.3 L 87.1 119 L 87.1 106.5 C 87.1 106.4 87.1 106.4 87.1 106.4 C 87.1 106.3 87.1 106.3 87.1 106.3 L 83.7 88.5Z"},{path:"M 191.2 360.9 L 191.2 316.2 L 223.8 283.6 L 377.3 283.6 L 191.2 360.9"},
{id:"03",path:"M 239.3 207.7 L 243.8 208.8 L 245.9 211.7 L 224.8 227.2 C 224.7 227.2 224.7 227.2 224.7 227.3 C 224.6 227.4 224.5 227.5 224.5 227.6 L 224.5 227.6 L 217.5 243.7 L 211.9 236.8 L 209.9 227.2 L 213.9 211.9 L 222.3 214.6 L 222.3 214.6 C 222.6 214.7 222.9 214.7 223.1 214.5 L 239.3 207.7Z"},{id:"46",path:"M 198.4 161.4 L 201.3 159.7 L 205.1 161.8 L 204.9 163.4 L 199.2 163.4 L 198.4 161.4Z M 231.4 193.5 C 231.4 193.6 231.4 193.7 231.5 193.9 C 231.5 193.9 231.5 194 231.5 194 L 237.8 206.2 L 222.6 212.6 L 214.2 210 L 214.2 206.1 C 214.2 205.7 214.1 205.3 213.8 205 C 213.5 204.7 213.1 204.5 212.7 204.6 L 207.5 204.6 L 204 200.1 L 207 192.6 C 207.1 192.2 207.1 191.9 207 191.5 L 207 191.5 C 206.8 191.1 206.5 190.8 206.2 190.7 L 197.5 187 L 199.2 180.1 L 202.4 178.6 C 202.6 178.5 202.8 178.4 202.9 178.3 C 202.9 178.2 203 178.2 203 178.1 C 203.1 178 203.1 177.9 203.2 177.7 C 203.2 177.7 203.2 177.7 203.2 177.6 L 205.7 168 L 206.4 167.9 L 206.5 167.9 C 206.5 167.9 206.5 167.9 206.5 167.9 L 214.2 166.9 C 214.2 166.9 214.3 166.9 214.3 166.9 L 218.3 173.3 C 218.3 173.3 218.4 173.3 218.4 173.4 C 218.4 173.4 218.5 173.4 218.5 173.5 C 218.6 173.6 218.8 173.7 219 173.7 L 232.8 175.6 L 231.4 193.5 L 231.4 193.5Z"},
{id:"12",path:"M 233.8 135.9 L 244.2 137.2 L 251.8 144.2 L 233.3 173.6 L 219.8 171.8 L 216.2 165.8 L 231 152.1 C 231 152.1 231 152 231 152 C 231.1 151.8 231.2 151.6 231.3 151.4 L 231.3 151.4 C 231.4 151.1 231.5 150.8 231.4 150.6 L 231.4 150.6 L 228.9 140.4 L 233.8 135.9Z"},{id:"44",path:"M 233.5 132.8 C 233.5 132.8 233.4 132.8 233.4 132.8 C 232.8 132.8 232.5 132.9 232.3 133.2 L 226.2 138.8 C 226.1 138.8 225.9 139.1 225.8 139.5 L 225.8 139.5 C 225.7 139.9 225.6 140.2 225.8 140.4 L 228.3 150.5 L 213.9 163.9 L 213.8 163.9 L 207.8 164.7 L 208.3 161.2 C 208.3 160.8 208.2 160.5 208.1 160.3 L 208.1 160.3 C 207.9 160 207.7 159.8 207.5 159.7 C 207.5 159.6 207.4 159.6 207.4 159.6 L 202 156.7 L 202 156.7 C 201.8 156.6 201.5 156.5 201.2 156.5 C 201 156.5 200.7 156.6 200.5 156.7 L 196.8 158.8 L 188 150 L 195.3 144.6 C 195.4 144.5 195.4 144.4 195.5 144.4 C 195.5 144.3 195.5 144.2 195.5 144.1 L 194.6 131.7 L 207.6 122.4 L 222.2 122.4 C 222.3 122.4 222.4 122.4 222.5 122.3 C 222.5 122.3 222.6 122.2 222.7 122.2 L 226.5 115.7 L 241.7 123.5 L 243.1 134 L 233.5 132.8Z"},
{id:"50",path:"M 226.2 113.3 C 226.1 113.2 225.9 113.2 225.8 113.3 C 225.7 113.3 225.6 113.4 225.5 113.5 L 221.4 120.4 L 207.2 120.4 C 207 120.4 206.9 120.4 206.8 120.5 L 193.5 130 L 181.7 120.9 L 175.5 112.6 L 176.1 112.3 L 178.9 114.2 C 179 114.2 179.1 114.3 179.2 114.3 L 183.1 114.3 C 183.2 114.3 183.3 114.2 183.4 114.2 C 183.5 114.1 183.5 114 183.6 113.9 C 183.6 113.8 183.6 113.7 183.6 113.7 L 181.8 105.2 L 187.3 100.4 C 187.4 100.3 187.4 100.3 187.5 100.2 C 187.5 100.1 187.5 100 187.5 100 L 186.5 92.1 L 195.8 94.9 C 196 95 196.1 95 196.2 94.9 C 196.3 94.9 196.4 94.8 196.4 94.7 L 200.9 87.7 C 201 87.6 201 87.5 201 87.4 C 201 87.3 201 87.2 200.9 87.2 L 198.3 83.6 L 202.2 70.3 L 208.8 64.8 L 215.7 79 L 215.7 90.1 C 215.7 90.2 215.7 90.3 215.7 90.3 C 215.8 90.4 215.8 90.5 215.9 90.5 L 233.1 105.6 L 237.2 113.4 C 237.2 113.4 237.3 113.5 237.4 113.6 C 237.5 113.6 237.6 113.6 237.7 113.6 L 245.5 113 L 246.5 115.4 L 242.3 121.8 L 226.2 113.3Z"},
{id:"19",path:"M 141.9 126.1 L 138.5 122.2 L 146.5 117.8 C 146.5 117.8 146.6 117.7 146.6 117.7 L 159.2 118.7 L 168.3 127.3 C 168.4 127.3 168.5 127.4 168.6 127.4 C 168.6 127.4 168.7 127.4 168.8 127.4 L 180.3 123.6 L 191.7 132.4 L 192.4 143 L 185.6 148 L 178.2 139.5 L 178.2 139.5 C 178 139.3 177.8 139.2 177.7 139.2 C 177.4 139.1 177.2 139.1 176.9 139.3 L 177 139.3 L 158.9 147.4 L 158.9 147.4 C 158.8 147.4 158.7 147.5 158.6 147.6 C 158.4 147.7 158.3 147.9 158.3 148.1 L 156.9 156.7 L 150.9 159.2 L 149.3 150 C 149.3 149.9 149.3 149.9 149.3 149.9 L 149.1 149.5 C 149.1 149.4 149.1 149.4 149.1 149.4 L 138.4 134.2 L 142.1 127.8 C 142.1 127.7 142.2 127.6 142.2 127.5 L 142 126.3 C 142 126.2 141.9 126.1 141.9 126.1Z"},
{id:"16",path:"M 151.4 162.5 C 151.4 162.5 151.4 162.4 151.4 162.3 L 151.2 161.2 L 158.2 158.3 L 158.2 158.3 C 158.3 158.2 158.4 158.1 158.6 158 C 158.7 157.8 158.8 157.7 158.8 157.5 L 160.2 148.9 L 177.2 141.4 L 184.3 149.5 L 184.3 149.6 C 184.2 149.8 184.4 150.2 184.8 150.7 C 185 151.1 185.2 151.4 185.4 151.6 L 195.3 161.5 L 196.7 165.4 L 196.7 165.4 C 196.8 165.6 197 165.9 197.3 166.1 C 197.3 166.1 197.3 166.1 197.3 166.1 C 197.5 166.3 197.8 166.3 198.1 166.4 L 203.1 166.4 L 200.5 176.2 L 197.3 177.7 C 197.1 177.8 196.9 178 196.8 178.1 C 196.6 178.3 196.6 178.5 196.5 178.7 L 194.4 187 L 194.4 187 C 194.3 187.1 194.3 187.3 194.3 187.5 L 187.8 191.2 L 173 193.5 L 168.3 188.9 C 168.2 188.8 168.2 188.8 168.1 188.8 L 167.7 188.6 C 167.6 188.6 167.5 188.6 167.4 188.6 L 159.1 190.1 L 154.6 185.2 L 155.5 179.3 C 155.5 179.3 155.5 179.2 155.5 179.2 C 155.5 179.1 153.5 176.1 149.5 170.2 L 148.4 164.1 L 149.9 164.1 C 150 164 150 164 150.1 164 C 150.2 164 150.2 163.9 150.3 163.9 L 151.3 162.7 C 151.3 162.7 151.4 162.6 151.4 162.5Z"},
{id:"42",path:"M 168.7 86 L 175 86.8 L 176.3 93.3 C 176.4 93.3 176.4 93.4 176.5 93.5 C 176.5 93.6 176.6 93.6 176.7 93.6 C 176.8 93.7 176.9 93.7 177 93.6 L 183.5 91.9 L 184.4 99 L 178.7 103.9 C 178.7 104 178.6 104.1 178.6 104.2 C 178.5 104.2 178.5 104.3 178.6 104.4 L 180 111.3 L 179.9 111.3 L 176.8 109.1 C 176.7 109.1 176.6 109.1 176.6 109.1 C 176.5 109 176.4 109 176.3 109.1 L 171.3 110.8 C 171.2 110.9 171.2 110.9 171.1 111 C 171 111.1 171 111.2 171 111.3 C 171 111.4 171 111.5 171.1 111.6 L 178.2 121.2 L 169.3 124.1 L 160.6 115.9 C 160.5 115.8 160.4 115.8 160.3 115.8 L 146.9 114.7 L 146.8 114.7 C 146.6 114.7 146.5 114.7 146.4 114.8 L 138.5 105.6 L 144.3 95.5 L 146.8 98.6 L 146.9 98.6 C 146.9 98.8 147.2 98.8 147.7 98.8 C 148.1 98.7 148.3 98.7 148.4 98.6 C 148.4 98.5 148.4 98.5 148.4 98.5 L 153.6 90.7 C 153.7 90.7 153.8 90.8 153.9 90.8 L 163.8 90.8 C 163.9 90.7 164.1 90.7 164.2 90.6 L 168.7 86Z"},
{id:"26",path:"M 154.5 66.3 C 154.5 66.3 154.5 66.3 154.6 66.3 L 155.8 69 C 155.8 69.1 155.9 69.1 155.9 69.2 L 156.6 69.8 C 156.6 69.8 156.7 69.9 156.8 69.9 L 176.8 75.5 L 186.4 82.5 L 181.4 89.1 C 181.3 89.1 181.3 89.2 181.3 89.3 C 181.2 89.3 181.2 89.4 181.3 89.4 L 178.8 90.1 L 177.6 84.5 C 177.6 84.3 177.5 84.3 177.5 84.2 C 177.4 84.1 177.3 84.1 177.2 84.1 L 167.9 82.9 C 167.9 82.8 167.8 82.8 167.7 82.9 C 167.6 82.9 167.6 82.9 167.5 83 L 162.8 87.8 L 154.1 87.8 L 148.8 80.9 L 149.7 67.5 L 154.4 66.3 L 154.5 66.3Z"},
{id:"43",path:"M 267.7 108.5 L 276.3 103.9 L 283.1 115.7 L 266.8 121.9 C 266.7 121.9 266.6 122 266.6 122 L 257.7 132.5 C 257.5 132.5 257.4 132.8 257.5 133.2 C 257.6 133.6 257.6 133.8 257.8 133.9 C 257.8 133.9 257.8 133.9 257.8 133.9 L 261.3 136.4 L 253.8 142 L 246.3 135.1 L 245 122.9 L 249.2 116.9 L 249.2 116.9 C 249.3 116.7 249.4 116.5 249.5 116.3 L 262.6 113.2 C 262.7 113.2 262.7 113.2 262.7 113.2 C 262.8 113.1 262.9 113.1 263.1 113 L 267.7 108.5Z"}],SKIP=["Ceuta","Melilla","Santa Cruz De Tenerife",
"Palmas (Las)"],skip=!0;function skipProv(c){return skip&&0<=SKIP.indexOf(c)}var CMIN=[0,255,0],CMU=[255,255,0],CMAX=[255,0,0],CNA="#ccc";function reprojectLatLon(c){var f=new OpenLayers.Projection("EPSG:4326");c=new OpenLayers.LonLat(c[1],c[0]);c.transform(f,openMap.getProjectionObject());return c}function array2color(c){return"rgb("+c.join(",")+")"}
function pickColor(c,f,a,t){if(c>a||c<f)return"#000";"undefined"==typeof t&&(t=(f+a)/2);var z=CMIN,w=CMAX;c<t?(a=t,w=CMU):(f=t,z=CMU);t=[];for(var y=0;3>y;y++){var x=z[y]+(c-f)*(w[y]-z[y])/(a-f);t[y]=0>x?0:Math.round(Math.min(255,x))}return array2color(t)}function circle2path(c,f,a){return"M"+c+","+(f-a)+"A"+a+","+a+",0,1,1,"+(c-0.1)+","+(f-a)+"z"}
function raphaelUpdate(){var c=theGasole.stats,f=[],a;for(a in c.provinces)!skipProv(a)&&c.provinces[a].hasOwnProperty(TYPE)&&f.push(c.provinces[a][TYPE].mu);var t=Math.min.apply(null,f),z=Math.max.apply(null,f);paper.forEach(function(a){if(a.pname)if(skipProv(a.pname))a.hide();else{a.show();var f=c.provinces[a.pname],x=f.hasOwnProperty(TYPE)?f[TYPE].mu:null,r=x?pickColor(x,t,z):CNA;a.getBBox();x&&Math.sqrt(f[TYPE].n);a.attr({fill:r})}})}
function raphaelSelectProvince(c){if("string"==typeof c)for(var f=htmlsvg.length;f--;)htmlsvg[f].id==c&&(c=htmlsvg[f].e);if(c.isSelected)c.attr("stroke-width",0),c.isSelected=!1;else{var a=theGasole.stats.provinces[c.pname][TYPE].g,f=reprojectLatLon([a[0],a[2]]),a=reprojectLatLon([a[1],a[3]]);openMap.zoomToExtent([f.lon,f.lat,a.lon,a.lat]);c.attr("stroke-width",3);c.isSelected=!0}}
function raphaelInit(){var c=theGasole;paper=Raphael("raphael");for(var f=0,a=htmlsvg.length;f<a;f++){var t=htmlsvg[f].id;if(t){var z=paper.path(htmlsvg[f].path).attr({stroke:"#fff","stroke-width":0});htmlsvg[f].e=z;z.pname=getProvName(t);z.click(function(){raphaelSelectProvince(this)});z.hover(function(){this.attr({opacity:0.5});document.getElementById("prov-current").textContent=this.pname},function(){this.attr({opacity:1});document.getElementById("prov-current").textContent="Provincias"},z,z);
z.node.setAttribute("class","prov")}}paper.setViewBox(-50,0,450,400,!0);raphaelUpdate(c)}
function updateMarkers(){markersLayer.clearMarkers();if(!(10>openMap.getZoom())){var c=markersLayer.getExtent(),f=theGasole.info,a;for(a in REGIONS)if(REGIONS[a].selected){var t=f[a],z;for(z in t){var w=t[z],y;for(y in w){var x=w[y];if(x.o.hasOwnProperty(TYPE)&&x.ll){var r=x.ll;if(c.containsLonLat(r)){var E=new OpenLayers.Icon(null,new OpenLayers.Size(30,20)),x=getLogo(x.l);E.imageDiv.className="logo "+(x||"otra");r=new OpenLayers.Marker(r,E);r.station=encodeName(a)+"/"+encodeName(z)+"/"+encodeName(y);
r.events.register("click",r,function(){window.location="/ficha/"+this.station});markersLayer.addMarker(r)}}}}}}}
function openMapinit(){openMap=function(){var a=new OpenLayers.Projection("EPSG:3857");map=new OpenLayers.Map("openmap");openMapOSM=new OpenLayers.Layer.OSM("OpenStreet Map");openMapOSM.projection=a;map.addLayer(openMapOSM);return map}();var c=reprojectLatLon(MAP_LIMITS.slice(0,2)),f=reprojectLatLon(MAP_LIMITS.slice(2,4));openMap.zoomToExtent([c.lon,c.lat,f.lon,f.lat]);priceLayer=function(){var a=new OpenLayers.Layer.Vector("Precio: Ret\u00edcula coloreada");a.hasResolution=!0;openMap.addLayer(a);
return a}();heatLayer=function(){var a=new OpenLayers.Layer.Heatmap("Concentraci\u00f3n: Mapa de calor",openMap,openMapOSM,{radius:5,gradient:{"0.5":"cyan","0.7":"blue",1:"magenta"}},{isBaseLayer:!1,opacity:0.2,projection:new OpenLayers.Projection("EPSG:4326")});openMap.addLayer(a);return a}();markersLayer=function(){var a=new OpenLayers.Layer.Markers("Marcadores de gasolineras");openMap.addLayer(a);gasoleProcess(theGasole.info,function(a){a.g&&(a.ll=reprojectLatLon(a.g))});openMap.events.register("zoomend",
a,updateMarkers);openMap.events.register("moveend",a,updateMarkers);return a}()}
function updatePriceGrid(){if(theGrid){priceLayer.removeAllFeatures();var c=theGrid.pmin,f=theGrid.pmax,a=theGrid.grid,t=[],z;for(z in a){var w=a[z].x,y;for(y in a[z]){var x=a[z][y],r=x.y,x=pickColor(x.p,c,f),r=(new OpenLayers.Bounds(w,r,w+GRID_RESOLUTION,r+GRID_RESOLUTION)).toGeometry(),r=new OpenLayers.Feature.Vector(r);r.style={fillColor:x,strokeColor:"#fff",strokeWidth:1,fillOpacity:0.5};t.push(r)}}priceLayer.addFeatures(t)}}
function updateHeatMap(){var c={max:1,data:[]},f=c.data,a={},t;for(t in REGIONS)REGIONS[t].selected&&(a[t]=theGasole.info[t]);gasoleProcess(a,function(a){a.ll&&a.o[TYPE]&&f.push({lonlat:a.ll,count:1})});heatLayer.setDataSet(c)}
function initControl(){function c(a){function c(a){a=GRID_RESOLUTION+2E4*a;0>=a||3E5<a||(GRID_RESOLUTION=a,w.textContent="Resoluci\u00f3n: "+a/1E3+" km.",computePriceGrid(),updatePriceGrid())}if(!a.querySelector(".spinner")){var f=document.createElement("div");f.className="spinner";var w=document.createElement("div");w.textContent="Resoluci\u00f3n: "+GRID_RESOLUTION/1E3+" km.";var t=document.createElement("div");t.className="button up";f.appendChild(t);var y=document.createElement("div");y.className=
"button down";f.appendChild(y);f.appendChild(w);a.appendChild(f);t.onclick=function(a){stopEvent(a);c(1)};y.onclick=function(a){stopEvent(a);c(-1)}}}initOptions();initProvinces();initToolbar();addEvent(document.getElementById("hidet"),"change",function(){var a=this.checked;d3.selectAll(".description").attr("class",a?"no description":"description")});addEvent(document.getElementById("stack"),"change",function(){histogram.stacked=this.checked;histogram.draw()});addEvent(document.getElementById("spread"),
"change",function(){circles.spread=this.checked;circles.draw()});addEvent(document,"click",function(){document.getElementsByClassName("picker").length||(document.getElementById("prov-list").className=document.getElementById("type-list").className="")});for(var f=document.getElementById("layers-list"),a=0,t=openMap.layers.length;a<t;a++){var z=openMap.layers[a],w=document.createElement("li");z.getVisibility()&&(w.className="on");var y=document.createElement("div");y.className="layer-name";y.textContent=
z.name;w.appendChild(y);f.appendChild(w);z.hasResolution&&new c(w);addEvent(w,"click",function(){var a=this.getElementsByClassName("layer-name")[0].textContent;if(a=openMap.getLayersByName(a)[0]){var c="on"!=this.className;a.setVisibility(c);this.className=c?"on":""}})}}
function Circles(c){this.spread=!1;this.draw=function(){function c(a,f,w){w||(w=d3.select(sa.selectAll("rect")[0][a]));f?(w.attr("fill","#fff").transition().duration(50).attr("y",5).attr("height",15),sa.selectAll("text")[0][a].style.display="block"):(w.attr("fill",function(a){return a}).transition().duration(50).attr("y",10).attr("height",10),sa.selectAll("text")[0][a].style.display="none")}function a(a,w,t,y,x){sa.selectAll(".item").remove();var r=sa.selectAll(".item").data(a).enter().append("g").attr("class",
"item").attr("transform",function(a,c){return"translate("+4*c+",0)"});r.append("rect").attr("x",0).attr("y",10).attr("width",4).attr("height",10).datum(function(a,c){return w?c%2?w[0]:w[1]:a.c}).attr("fill",function(a,c){return a}).on("mouseover",function(a,w){c(w,!0,d3.select(this));t&&t(w)}).on("mouseout",function(a,w){c(w,!1,d3.select(this));y&&y(w)}).on("mousedown",function(a,c){x&&x(c)});r.append("text").data(a).text(function(a,c){return c+1+". "+a.name}).attr("text-anchor","middle").style("display",
"none")}function t(){ra.select(".x.axis").transition().duration(500).call(fa);var a=ra.select(".y.axis");a.transition().duration(500).call(Ka);a.selectAll("text").style("font-size",".8em").attr("transform","translate(-15,0)")}function z(){a(N,null,function(a){y(oa.selectAll(".circle")[0][a])},function(a){x(oa.selectAll(".circle")[0][a])},function(a){E(oa.selectAll(".circle")[0][a])})}function w(a){var c=a.name,f={},w={};f[c]=theInfo[c];gasoleProcess(f,function(a,c,f,t){a.o[TYPE]&&(w[f]?w[f]++:w[f]=
1)});c=[prettyName(c)];c.push(a.n+" puntos de venta");c.push(" en "+Object.keys(w).length+" ciudades");c.push("Precio medio: "+a.p.toFixed(3)+" \u20ac/l");return c}function y(a){a=d3.select(a);if(a.attr("r")==H){var c=a.data()[0];a.attr("opacity",1);showTooltip("pinfo",ra,w(c),{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5},{cx:pa(c.p),cy:Y(c.n),r:c.r+2})}}function x(a){a=d3.select(a);parseInt(a.attr("r"))!=R&&(a.attr("opacity",0.8),r("pinfo"))}function r(a){ra.select("#"+a).remove()}function E(y){function x(a){a=
d3.select(a);var c=a[0][0].__data__,f=[c.name];a.attr("fill",D).attr("stroke-width",4);f.push(c.n+" puntos de venta");f.push("Precio medio: "+c.mu.toFixed(3)+" \u20ac/l");showTooltip("tinfo",ra,f,{r:100,fill:H,stroke:"#fff","stroke-width":3},{cx:pa(c.mu),cy:Y(c.n),r:0,stroke:"#fff"})}function fa(a){d3.select(a).attr("fill",B).attr("stroke-width",1);r("tinfo")}y=d3.select(y);var E=y.data()[0];if(parseInt(y.attr("r"))==R)ra.attr("class","chart"),pa.domain([L,da]),Y.domain([la,xa]),t(),oa.selectAll(".city").remove(),
Na.transition().duration(500).ease("bounce").attr("r",function(a){return a.r}),r("pinfo"),z();else{ra.attr("class","chart white");var B=E.c,D=d3.rgb(B).darker().toString(),H=d3.rgb(B).brighter([0.4]).toString();r("pinfo");y={r:100,fill:D,stroke:"#fff","stroke-width":5};showTooltip("pinfo",ra,w(E),y,{corner:!0});var S=E.name;Na.transition().duration(500).attr("r",function(a){return a.name==S?R:0});y=theInfo[S];var N=theStats.provinces[S][TYPE],E=[],sa=0,Q;for(Q in y){var V=y[Q],Ka=new Stats,Ga;for(Ga in V){var La=
V[Ga].o[TYPE];La&&Ka.add(La,[ea,Q,Ga])}Ka.n&&(Ka.n>sa&&(sa=Ka.n),Ka.name=Q,E.push(Ka))}E.sort(function(a,c){return sortName(a.name,c.name)});pa.domain([N.min,N.max]);Y.domain([1,sa]);t();Q=oa.selectAll(".city").data(E);a(E,[D,H],function(a){x(oa.selectAll(".city")[0][a])},function(a){fa(oa.selectAll(".city")[0][a])});Q.enter().append("rect").attr("class","city").attr("x",function(a){return pa(a.mu)-5}).attr("y",function(a){return Y(a.n)-5}).attr("width",0).attr("height",0).attr("stroke","#fff").attr("fill",
B).transition().duration(200).ease("bounce").attr("width",10).attr("height",10);Q.on("mouseover",function(a,w){x(this);c(w,!0)});Q.on("mouseout",function(a,w){fa(this);c(w,!1)})}}var R=3E3,B=theStats.stats[TYPE];showChartContainer("circles",null!=B);if(B){var S=d3.select("#circles"),D=theStats.provinces,N=[],H=20,V=[],L=B.min,da=B.max,la=1E4,xa=0,ea;for(ea in REGIONS)if((B=D[ea])&&B[TYPE]){var B=B[TYPE],Q=B.n,Ga="#"+REGIONS[ea].color,La=B.mu;V.push(La);this.spread?N.push({name:ea,p:La,n:Q,c:Ga,r:H,
min:B.min,max:B.max}):N.push({name:ea,p:La,n:Q,c:Ga,r:H,min:0,max:0});Q>xa&&(xa=Q);Q&&Q<la&&(la=Q)}else N.push({name:ea,p:0,n:0,c:"#ccc",r:0,min:0,max:0});!this.spread&&1<V.length&&(L=d3.min(V),da=d3.max(V));N.sort(function(a,c){return sortName(a.name,c.name)});divWidth=parseInt(S.style("width").split("px")[0]);divHeight=parseInt(S.style("height").split("px")[0]);var D=5+H,V=50+H,B=divWidth-V-(5+H),Q=divHeight-D-(50+H),pa=d3.scale.linear().domain([L,da]).range([0,B]),Y=d3.scale.log().domain([la,xa]).range([Q,
H]),fa=d3.svg.axis().scale(pa).orient("bottom").ticks(5).tickFormat(d3.format(".3f")),Ka=d3.svg.axis().scale(Y).orient("left").ticks(10).tickFormat(d3.format(".0f")),ra=S.select(".chart");null==ra[0][0]&&(ra=S.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform","translate("+V+","+D+")").attr("width",B+"px").attr("height",Q+"px"),ra.append("g").attr("class","shapes"),ra.append("g").attr("class","x axis").attr("transform","translate(0,"+Q+")"),
ra.append("g").attr("class","y axis"),ra.append("g").attr("class","legend").attr("transform","translate(0,"+(Q+40)+")"));var oa=ra.select(".shapes"),sa=ra.select(".legend");t();z();S=oa.selectAll(".spread.min").data(N);S.transition().duration(500).attr("x1",function(a){return a.min?pa(a.min):pa(a.p)}).attr("y1",function(a){return a.n?Y(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.min?pa(a.p)-H:pa(a.p)}).attr("y2",function(a){return a.n?Y(a.n):d3.select(this).attr("y2")}).attr("stroke-width",
function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});S.enter().append("line").attr("class","spread min").attr("x1",function(a){return a.min?pa(a.min):pa(a.p)}).attr("y1",function(a){return a.n?Y(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.min?pa(a.p)-H:pa(a.p)}).attr("y2",function(a){return a.n?Y(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});S=oa.selectAll(".spread.max").data(N);S.transition().duration(300).attr("x1",
function(a){return a.max?pa(a.max):pa(a.p)}).attr("y1",function(a){return a.n?Y(a.n):d3.select(this).attr("y1")}).attr("x2",function(a){return a.max?pa(a.p)+H:pa(a.p)}).attr("y2",function(a){return a.n?Y(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});S.enter().append("line").attr("class","spread max").attr("x1",function(a){return a.max?pa(a.max):d3.select(this).attr("x2")}).attr("y1",function(a){return a.n?Y(a.n):d3.select(this).attr("y1")}).attr("x2",
function(a){return a.max?pa(a.p)+H:d3.select(this).attr("x2")}).attr("y2",function(a){return a.n?Y(a.n):d3.select(this).attr("y2")}).attr("stroke-width",function(a){return a.n?5:0}).attr("stroke",function(a){return a.c});var Na=oa.selectAll(".circle").data(N);Na.transition().duration(500).attr("cx",function(a){return a.p?pa(a.p):d3.select(this).attr("cx")}).attr("cy",function(a){return a.n?Y(a.n):d3.select(this).attr("cy")}).attr("fill",function(a){return a.c}).transition().duration(500).ease("bounce").attr("r",
function(a){return a.r});Na.enter().append("circle").attr("class","circle").attr("cx",function(a){return pa(a.p)}).attr("cy",function(a){return a.n?Y(a.n):0}).attr("r",0).attr("fill",function(a){return a.c}).attr("opacity",0.8).transition().delay(500).duration(500).ease("bounce").attr("r",function(a){return a.r});Na.exit().transition().duration(500).attr("r",0).remove();Na.on("mouseover",function(a,c){y(this)});Na.on("mouseout",function(a,c){x(this)});Na.on("mousedown",function(a,c){E(this)})}}}
function Brands(c){this.draw=function(){var c=theStats.stats[TYPE];showChartContainer("brands",null!=c);if(c){var a=d3.select("#brands"),t=theStats.provinces,z=c.brands,c=[],w=1E3,y=0,x;for(x in t){var r=t[x][TYPE];if(r){var r=r.brands,E;for(E in r){var R=r[E],B=R.mu;B<w&&(w=B);B>y&&(y=B);c.push({prov:x,brand:E,n:R.n,price:R.mu})}}}x=Object.keys(t);E=Object.keys(z);z=Math.max(400,30*x.length+70);a.style("height",z+"px");divWidth=parseInt(a.style("width").split("px")[0]);var t=divWidth-170-30,z=z-
40-30,S=d3.scale.ordinal().domain(x).rangePoints([0,z]),D=d3.scale.ordinal().domain(E).rangePoints([0,t]);x=d3.svg.axis().scale(D).orient("top");E=d3.svg.axis().scale(S).orient("left");var N=a.select(".chart");null==N[0][0]&&(N=a.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform","translate(170,40)").attr("width",t+"px").attr("height",z+"px"),N.append("g").attr("class","x axis"),N.append("g").attr("class","y axis"));N.select(".x.axis").transition().duration(500).call(x);
N.select(".x.axis").selectAll("text").style("font-size",".7em").style("text-anchor","center").attr("dy","-15px");N.select(".y.axis").transition().duration(500).call(E);N.select(".y.axis").selectAll("text").style("font-size",".7em").style("text-anchor","end").attr("dx","-15px");a=N.selectAll("circle").data(c);a.attr().transition().duration(500).attr("cx",function(a){return D(a.brand)}).attr("cy",function(a){return S(a.prov)}).attr("r",function(a){return 4+Math.sqrt(a.n)}).attr("fill",function(a){return pickColor(a.price,
w,y)});a.enter().append("circle").attr("cx",function(a){return D(a.brand)}).attr("cy",function(a){return S(a.prov)}).attr("r",0).attr("fill",function(a){return pickColor(a.price,w,y)}).attr("stroke","#fff").transition().duration(500).ease("bounce").attr("r",function(a){return 4+Math.sqrt(a.n)});a.exit().remove();a.on("mouseover",function(a,c){var w="otras"==a.brand,f=[a.brand+(w?" marcas en ":" en ")+prettyName(a.prov)];f.push((w?"tienen ":"tiene ")+a.n+" puntos de venta");f.push("con un precio medio de:");
f.push(a.price.toFixed(3)+" \u20ac/l");showTooltip("pinfo",N,f,{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5},{cx:D(a.brand),cy:S(a.prov),r:8+Math.sqrt(a.n)})});a.on("mouseout",function(a,c){N.select("#pinfo").remove()})}}}
function computePriceGrid(){if(theStats.stats[TYPE]){var c=theStats.stats[TYPE].g,f=reprojectLatLon([c[0],c[2]]),a=reprojectLatLon([c[1],c[3]]),c=a.lon-f.lon,a=a.lat-f.lat,t=Math.ceil(c/GRID_RESOLUTION);Math.ceil(a/GRID_RESOLUTION);var z=f.lon-(t*GRID_RESOLUTION-c)/2,w=f.lat-(t*GRID_RESOLUTION-a)/2,y={},x=100,r=0,E=Math.floor;gasoleProcess(theInfo,function(a){if(a.ll&&a.o[TYPE]){var c=a.o[TYPE];c<x?x=c:c>r&&(r=c);var f=E((a.ll.lon-z)/GRID_RESOLUTION);y[f]||(y[f]={x:z+f*GRID_RESOLUTION});f=y[f];a=
E((a.ll.lat-w)/GRID_RESOLUTION);f[a]||(f[a]={y:w+a*GRID_RESOLUTION,p:c,n:1});a=f[a];a.p=(a.p*a.n+c)/++a.n}});theGrid={pmin:x,pmax:r,ox:z,oy:w,grid:y}}}
function computeHistograms(c){function f(){for(var a=[],f=c;f--;)a[f]=0;return a}function a(a,c,f){a.n++;1==a.n?a.max=a.min=a.mu=c:(c>a.max?a.max=c:c<a.min&&(a.min=c),a.mu=(a.mu*(a.n-1)+c)/a.n);f&&a.hist[f]++}var t=theStats.stats,z=theStats.provinces,w;for(w in t){for(var y=t[w],x=[],r=y.min,E=y.max,R=(E-r)/c,B=0;B<c;B++)x[B]=r+B*R;x.push(E);y.bins=x;y.brands={};y.hist=f();y.step=R;for(var S in z)if(z[S].hasOwnProperty(w)){r=z[S][w];r.brands={};r.hist=f();var E=theInfo[S],D;for(D in E){var R=E[D],
N;for(N in R){var H=R[N];if(H.o.hasOwnProperty(w)){for(var B=checkBrand(H.l),H=H.o[w],V=x.length-1;V--&&!(x[V]<H););a(r,H,V);a(y,H,V);r.brands[B]||(r.brands[B]={n:0});a(r.brands[B],H);y.brands[B]||(y.brands[B]={n:0});a(y.brands[B],H)}}}}}}
function updateAll(c){"undefined"==typeof c&&(c=!0);if(c){theInfo={};for(p in REGIONS)REGIONS[p].selected&&!skipProv(p)&&(theInfo[p]=theGasole.info[p]);theStats=new GasoleStats(theInfo,[TYPE]);computeHistograms(NBINS);computePriceGrid()}histogram.draw();circles.draw();brands.draw();raphaelUpdate();updateHeatMap();updateMarkers();updatePriceGrid()}
function showChartContainer(c,f){document.getElementById(c+"-container").className=f?"chart":"chart off";f||(document.getElementById(c).style.height="")}
function Histogram(){this.stacked=!1;this.draw=function(){var c=theStats.stats[TYPE];showChartContainer("histogram",null!=c);if(c){var f=theStats.provinces,a=c.bins,t=[],z=0,w;for(w in f){var y=f[w][TYPE];y&&(t.push({name:w,hist:y.hist,color:"#"+REGIONS[w].color}),y=d3.max(y.hist),y>z&&(z=y))}this.stacked&&(z=d3.max(c.hist));c=t.length;w=z;var z=d3.select("#histogram"),f=parseInt(z.style("width").split("px")[0]),y=parseInt(z.style("height").split("px")[0]),f=f-50-20,x=y-20-30,r=d3.scale.linear().domain(d3.extent(a)).range([0,
f]),E=d3.scale.linear().domain([0,w]).range([x,0]),R=d3.svg.axis().scale(r).tickFormat(d3.format(",.3f")).orient("bottom").tickValues(a);w=d3.svg.axis().scale(E).orient("left").ticks(5).tickFormat(d3.format(".0f"));var y=r(a[1]),B=z.select(".chart");null==B[0][0]&&(B=z.append("svg").attr("width","100%").attr("height","100%").append("g").attr("class","chart").attr("transform","translate(50,20)").attr("width",f+"px").attr("height",x+"px"),B.append("g").attr("class","x axis").attr("transform","translate(0,"+
x+")"),B.append("g").attr("class","y axis"));1<c&&(grid=B.selectAll(".grid").data(a),grid.enter().insert("rect",":first-child").attr("class","grid").attr("x",function(c,f){return r(a[f])}).attr("y",0).attr("width",y).attr("height",x).attr("fill",function(a,c){return c%2?"#ccc":"#eee"}).transition().duration(1E3).attr("opacity",0.2));B.select(".x.axis").transition().duration(500).call(R);z=B.select(".y.axis");z.transition().duration(500).call(w);z.selectAll("text").style("font-size",".8em");var S=
y-8;this.stacked||(S/=c);var D=this,c=B.selectAll(".serie").data(t);c.transition().duration(500).attr("transform",function(a,c){return"translate("+(4+(D.stacked?0:c*S))+",0)"});c.enter().append("g").attr("class","serie").attr("transform",function(a,c){return"translate("+(4+(D.stacked?0:c*S))+",0)"});c.exit().selectAll("rect").transition().duration(500).attr("height",0);c.exit().transition().delay(500).remove();c.each(function(c,f){var w=c.color,y=d3.select(this).selectAll("rect").data(c.hist);y.attr("fill",
w).transition().duration(500).attr("x",function(c,f){return r(a[f])}).attr("width",S).transition().delay(500).duration(500).attr("y",function(a,c){var w=a;if(D.stacked)for(var y=0;y<f;y++)w+=t[y].hist[c];return E(w)}).attr("height",function(a,c){return x-E(a)});y.enter().append("rect").attr("class","bar").attr("x",function(c,f){return r(a[f])}).attr("y",x).attr("width",S).attr("height",0).attr("fill",w).transition().delay(500).duration(500).attr("y",function(a,c){var w=a;if(D.stacked)for(var y=0;y<
f;y++)w+=t[y].hist[c];return E(w)}).attr("height",function(a,c){return x-E(a)});y.exit().remove();y.on("mouseover",function(c,w){var y=a[w].toFixed(3),x=a[w+1].toFixed(3),r=["En "+prettyName(t[f].name)];r.push("hay "+c+" puntos de venta");r.push("de "+FUEL_OPTIONS[TYPE].name);r.push("entre "+y+" y "+x+" \u20ac/l");showTooltip("tooltip",B,r,{r:100,fill:"#7e2516",stroke:"#333","stroke-width":5})});y.on("mouseout",function(a,c){B.select("#tooltip").remove()})})}}}
function showTooltip(c,f,a,t,z){c=f.append("g").attr("id",c);var w=-Math.floor(a.length/2),y,x;if(z&&z.corner)x=y=100;else{var r=d3.mouse(f.node()),E=z?z.cx:r[0],r=z?z.cy:r[1],R=parseInt(f.attr("width").split("px")[0]);f=parseInt(f.attr("height").split("px")[0]);y=E+(E<R/2?100:-100);x=r+(r<f/2?100:-100)}z&&z.hasOwnProperty("r")&&(R=x-z.cy,f=y-z.cx,E=Math.sqrt(Math.pow(R,2)+Math.pow(f,2)),r=z.r+4,R=R/E*r,f=f/E*r,c.append("circle").attr("cx",z.cx).attr("cy",z.cy).attr("r",z.r).attr("stroke",z.stroke||
"#333").attr("stroke-width",2).attr("fill","none"),c.append("line").attr("x1",z.cx+f).attr("y1",z.cy+R).attr("x2",z.cx+f).attr("y2",z.cy+R).attr("stroke",z.stroke||"#333").attr("stroke-width",2).transition().duration(200).attr("x2",y).attr("y2",x));c.append("circle").call(function(a){for(var c in t)a.attr(c,t[c]);a.attr("cx",y).attr("cy",x).attr("r",0).transition().delay(200).duration(200).ease("bounce").attr("r",t.r)});z=c.append("text");z.attr("x",y).attr("y",x).attr("text-anchor","middle").attr("fill",
"#fff").attr("font-size","0em").transition().delay(200).attr("font-size",".9em");z.selectAll("tspan").data(a).enter().append("tspan").attr("x",y).attr("y",function(a,c){return x+20*(c+w)}).text(function(a){return a})}var toolbarPosition=0;
function initToolbar(){toolbarPosition=document.getElementById("toolbar").getBoundingClientRect().top;addEvent(window,"scroll",function(){var c=document.getElementById("toolbar");window.scrollY>=toolbarPosition?(c.style.position="fixed",c.style.top=0):c.style.position="relative"})}function dropList(c){stopEvent(c);c=this.getAttribute("class");this.setAttribute("class",c?"":"on")}
function initProvinces(){function c(a,c){"undefined"===typeof c&&(c="on"!=a.className);a.className=c?"on":"";a.id.split("-");var f=REGIONS[a.textContent],w=a.getElementsByClassName("config")[0];if(c&&!w){w=document.createElement("div");w.className="config";var y=document.createElement("input");y.value=Raphael.getColor().slice(1);y.className="color";f.color=new jscolor.color(y,{pickerPosition:"right",pickerClosable:!0});addEvent(y,"change",function(){updateAll(!1)});w.appendChild(y);a.appendChild(w)}f.selected=
c}document.getElementById("checkall").onclick=function(a){var f="on"!=this.className;this.textContent=(f?"Desmarcar":"Marcar")+" Todas";this.className=f?"on":"";provs=document.getElementById("province").getElementsByTagName("li");for(var z=2,w=provs.length;z<w;z++)c(provs[z],f);updateAll();return stopEvent(a)};document.getElementById("hide").onclick=function(a){var c="on"!=this.className;this.className=c?"on":"";skip=c;raphaelUpdate();return stopEvent(a)};var f=document.getElementById("whyhide");
f.onmouseover=function(a){var c=document.createElement("div");c.innerHTML="<p>Estas regiones disfrutan de un r\u00e9mien tributario espec\u00edfico que hace que en ellas los precios del combustible sean sensiblemente inferiores a la media</p>";c.innerHTML+="<p>Por este motivo puede ser conveniente su exclusi\u00f3n de los gr\u00e1ficos para que los colore\u2026</p>";c.id="explainhide";c.style.left=a.clientX-document.body.scrollLeft+"px";c.style.top=a.clientY+document.body.scrollTop+"px";document.body.appendChild(c)};
f.onmouseout=function(){document.body.removeChild(document.getElementById("explainhide"))};initProvLinks("province",function(a){c(this);raphaelSelectProvince(this.id.split("-")[1]);updateAll();return stopEvent(a)});document.getElementById("prov-list").onclick=dropList}function filterProvinces(){for(var c=0,f=document.getElementById("province").getElementsByTagName("li").length;c<f;c++);}
function initOptions(){function c(a){for(var c=document.getElementById("type").getElementsByTagName("li"),f=c.length;0<f;){var x=c[--f];x.className=x.className.replace(" on","");x.id.match(a)&&(x.className+=" on")}TYPE=a}var f=document.getElementById("type"),a;for(a in FUEL_OPTIONS){var t=document.createElement("li");t.id="o-"+a;t.textContent=FUEL_OPTIONS[a].name;t.className="T_"+FUEL_OPTIONS[a]["short"];f.appendChild(t);t.onclick=function(a){stopEvent(a);c(this.id.split("-")[1]);updateAll()}}document.getElementById("type-list").onclick=
dropList;c(TYPE)}addEvent(window,"load",function(){new Gasole(function(){infoDiv=document.getElementById("info");theGasole=this;openMapinit();raphaelInit();initControl();updateAll()})});function searchLocation(c){var f="",a="",t="";"object"==typeof c?(f=c.geometry.location.lat(),a=c.geometry.location.lng(),t=encodeURI(c.formatted_address)):"string"==typeof c&&(a=c.split("##"),t=a[0],f=a[1],a=a[2]);c=document.getElementById("search-d").getAttribute("value");window.location="/resultados/"+t+"/"+f+"/"+a+"/"+c}
function showLoader(){document.getElementById("results-title").textContent="Buscando\u2026";var c=document.getElementById("results-list");c.innerHTML="";var f=new Image;f.src="/img/search-loader.gif";c.appendChild(f)}function initGeoloc(){var c=document.getElementById("current-loc");navigator.geolocation?c.addEventListener("click",loadCurrentPosition):c.style.display="none"}
function showResult(c,f){document.getElementById("results").style.display="block";var a=document.getElementById("results-list");a.innerHTML="";if(f==google.maps.GeocoderStatus.OK){for(var t=0,z=0,w=0;w<c.length;w++){var y=c[w].formatted_address;if(y.match(/Espa\u00f1a$/)){console.log(typeof c[w]);t++;var z=w,x=document.createElement("li"),r=document.createElement("a");x.appendChild(r);r.textContent=y;r.href="#";r.setAttribute("loc",[c[w].formatted_address,c[w].geometry.location.lat(),c[w].geometry.location.lng()].join("##"));
r.addEventListener("click",function(){searchLocation(this.getAttribute("loc"))});a.appendChild(x)}}if(1==t){searchLocation(c[z]);return}if(1<t){document.getElementById("results-title").textContent="Encontrados "+t+" lugares:";return}}a.innerHTML="<li>No se ha podido encontrar el lugar. Int\u00e9ntalo de nuevo</li>"}
function loadCurrentPosition(){showLoader();navigator.geolocation.getCurrentPosition(function(c){var f=new google.maps.Geocoder;c=new google.maps.LatLng(c.coords.latitude,c.coords.longitude);f.geocode({latLng:c},showResult)},function(c){switch(c.code){case c.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case c.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case c.TIMEOUT:console.log("The request to get user location timed out.");break;
case c.UNKNOWN_ERROR:console.log("An unknown error occurred.")}})}function geoCode(){showLoader();var c=document.getElementById("address").value;(new google.maps.Geocoder).geocode({address:c,region:"es"},showResult)}
function mySlider(c){function f(a){var c=a.getElementsByClassName("val")[0],f=parseFloat(a.getAttribute("newval")),y=parseFloat(a.getAttribute("max")),x=parseFloat(a.getAttribute("min"));c.style.width=(f-x)*a.clientWidth/(y-x)-5+"px";c.textContent="Radio: "+f.toFixed(1)+" km.";a.setAttribute("value",f)}c.style.position="relative";var a=document.createElement("div");a.style.position="absolute";a.style.left="0";a.style.top="0";a.textContent="Radio: "+c.getAttribute("value")+" km.";a.className="val";
c.appendChild(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0";a.style.top="0";a.className="new-val";a.style.display="none";c.appendChild(a);c.setAttribute("newval",c.getAttribute("value"));f(c);c.addEventListener("mousemove",function(a){var c=this.getElementsByClassName("new-val")[0];c.style.display="block";var f=a.clientX-this.getBoundingClientRect().left;c.style.width=f-5+"px";a=parseFloat(this.getAttribute("max"));var y=parseFloat(this.getAttribute("min")),x=parseFloat(this.getAttribute("step")),
f=y+f*(a-y)/this.clientWidth,f=parseInt(f/x)*x;f<y&&(f=y);f>a&&(f=a);c.textContent="Radio: "+f.toFixed(1)+" km.";this.setAttribute("newval",f)});c.addEventListener("click",function(a){this.getElementsByClassName("new-val")[0].style.display="none";f(this)});c.addEventListener("mouseout",function(a){this.getElementsByClassName("new-val")[0].style.display="none"})}
window.addEventListener("load",function(){for(var c=document.getElementsByClassName("my-slider"),f=0;f<c.length;f++)mySlider(c[f]);if(c=document.getElementById("map")){c=c.getElementsByClassName("prov");for(f=0;f<c.length;f++)c[f].addEventListener("click",function(){})}initGeoloc()});/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2013-04-08
 @link    http://jscolor.com
*/
var jscolor={dir:"/img/jscolor/",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var c=jscolor.detectDir();jscolor.dir=!1!==c?c:"jscolor/"}return jscolor.dir},detectDir:function(){for(var c=location.href,f=document.getElementsByTagName("base"),a=0;a<f.length;a+=1)f[a].href&&(c=f[a].href);f=document.getElementsByTagName("script");
for(a=0;a<f.length;a+=1)if(f[a].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(f[a].src))return c=(new jscolor.URI(f[a].src)).toAbsolute(c),c.path=c.path.replace(/[^\/]+$/,""),c.query=null,c.fragment=null,c.toString();return!1},bind:function(){for(var c=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),f=document.getElementsByTagName("input"),a=0;a<f.length;a+=1){var t;if(!f[a].color&&f[a].className&&(t=f[a].className.match(c))){var z={};if(t[3])try{z=(new Function("return ("+t[3]+")"))()}catch(w){}f[a].color=
new jscolor.color(f[a],z)}}},preload:function(){for(var c in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(c)&&jscolor.loadImage(c)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(c){jscolor.imgRequire[c]=!0},loadImage:function(c){jscolor.imgLoaded[c]||(jscolor.imgLoaded[c]=new Image,jscolor.imgLoaded[c].src=jscolor.getDir()+c)},fetchElement:function(c){return"string"===typeof c?document.getElementById(c):c},addEvent:function(c,
f,a){c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a)},fireEvent:function(c,f){if(c)if(document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(f,!0,!0);c.dispatchEvent(a)}else if(document.createEventObject)a=document.createEventObject(),c.fireEvent("on"+f,a);else if(c["on"+f])c["on"+f]()},getElementPos:function(c){var f=c,a=0,t=0;if(f.offsetParent){do a+=f.offsetLeft,t+=f.offsetTop;while(f=f.offsetParent)}for(;(c=c.parentNode)&&"BODY"!==c.nodeName.toUpperCase();)a-=
c.scrollLeft,t-=c.scrollTop;return[a,t]},getElementSize:function(c){return[c.offsetWidth,c.offsetHeight]},getRelMousePos:function(c){var f=0,a=0;c||(c=window.event);"number"===typeof c.offsetX?(f=c.offsetX,a=c.offsetY):"number"===typeof c.layerX&&(f=c.layerX,a=c.layerY);return{x:f,y:a}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(c){function f(a){for(var c="";a;)if("../"===a.substr(0,3)||"./"===a.substr(0,2))a=a.replace(/^\.+/,"").substr(1);else if("/./"===a.substr(0,3)||"/."===a)a="/"+a.substr(3);else if("/../"===a.substr(0,4)||"/.."===a)a="/"+a.substr(4),c=c.replace(/\/?[^\/]*$/,"");else if("."===a||".."===a)a="";else{var f=a.match(/^\/?[^\/]*/)[0];a=a.substr(f.length);c+=f}return c}this.authority=this.scheme=null;this.path=
"";this.fragment=this.query=null;this.parse=function(a){a=a.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=a[3]?a[2]:null;this.authority=a[5]?a[6]:null;this.path=a[7];this.query=a[9]?a[10]:null;this.fragment=a[12]?a[13]:null;return this};this.toString=function(){var a="";null!==this.scheme&&(a=a+this.scheme+":");null!==this.authority&&(a=a+"//"+this.authority);null!==this.path&&(a+=this.path);null!==this.query&&(a=a+"?"+this.query);null!==
this.fragment&&(a=a+"#"+this.fragment);return a};this.toAbsolute=function(a){a=new jscolor.URI(a);var c=new jscolor.URI;if(null===a.scheme)return!1;null!==this.scheme&&this.scheme.toLowerCase()===a.scheme.toLowerCase()&&(this.scheme=null);null!==this.scheme?(c.scheme=this.scheme,c.authority=this.authority,c.path=f(this.path),c.query=this.query):(null!==this.authority?(c.authority=this.authority,c.path=f(this.path),c.query=this.query):(""===this.path?(c.path=a.path,c.query=null!==this.query?this.query:
a.query):("/"===this.path.substr(0,1)?c.path=f(this.path):(c.path=null!==a.authority&&""===a.path?"/"+this.path:a.path.replace(/[^\/]+$/,"")+this.path,c.path=f(c.path)),c.query=this.query),c.authority=a.authority),c.scheme=a.scheme);c.fragment=this.fragment;return c};c&&this.parse(c)},color:function(c,f){function a(a,c,f){if(null===a)return[f,f,f];var w=Math.floor(a),y=f*(1-c);a=f*(1-c*(w%2?a-w:1-(a-w)));switch(w){case 6:case 0:return[f,a,y];case 1:return[a,f,y];case 2:return[y,f,a];case 3:return[y,
a,f];case 4:return[a,y,f];case 5:return[f,y,a]}}function t(a,f){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(D.pickerCloseText)};for(var x=
0;x<jscolor.images.sld[1];x+=4){var r=document.createElement("div");r.style.height="4px";r.style.fontSize="1px";r.style.lineHeight="0";jscolor.picker.sld.appendChild(r)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);
jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}x=jscolor.picker;x.box.onmouseup=x.box.onmouseout=function(){c.focus()};x.box.onmousedown=function(){H=!0};x.box.onmousemove=function(a){if(da||la)da&&E(a),la&&R(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),B()};"ontouchstart"in window&&x.box.addEventListener("touchmove",function(a){var c=
{offsetX:a.touches[0].pageX-xa.X,offsetY:a.touches[0].pageY-xa.Y};if(da||la)da&&E(c),la&&R(c),B();a.stopPropagation();a.preventDefault()},!1);x.padM.onmouseup=x.padM.onmouseout=function(){da&&(da=!1,jscolor.fireEvent(V,"change"))};x.padM.onmousedown=function(a){switch(N){case 0:0===D.hsv[2]&&D.fromHSV(null,null,1);break;case 1:0===D.hsv[1]&&D.fromHSV(null,1,null)}la=!1;da=!0;E(a);B()};"ontouchstart"in window&&x.padM.addEventListener("touchstart",function(a){xa={X:a.target.offsetParent.offsetLeft,
Y:a.target.offsetParent.offsetTop};this.onmousedown({offsetX:a.touches[0].pageX-xa.X,offsetY:a.touches[0].pageY-xa.Y})});x.sldM.onmouseup=x.sldM.onmouseout=function(){la&&(la=!1,jscolor.fireEvent(V,"change"))};x.sldM.onmousedown=function(a){da=!1;la=!0;R(a);B()};"ontouchstart"in window&&x.sldM.addEventListener("touchstart",function(a){xa={X:a.target.offsetParent.offsetLeft,Y:a.target.offsetParent.offsetTop};this.onmousedown({offsetX:a.touches[0].pageX-xa.X,offsetY:a.touches[0].pageY-xa.Y})});r=z(D);
x.box.style.width=r[0]+"px";x.box.style.height=r[1]+"px";x.boxB.style.position="fixed";x.boxB.style.left=a+"px";x.boxB.style.top=f+"px";x.boxB.style.zIndex=D.pickerZIndex;x.boxB.setAttribute("class","picker");x.pad.style.width=jscolor.images.pad[0]+"px";x.pad.style.height=jscolor.images.pad[1]+"px";x.padB.style.position="absolute";x.padB.style.left=D.pickerFace+"px";x.padB.style.top=D.pickerFace+"px";x.padB.setAttribute("class","pickerpad");x.padM.style.position="absolute";x.padM.style.left="0";x.padM.style.top=
"0";x.padM.style.width=D.pickerFace+2*D.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";x.padM.style.height=x.box.style.height;x.padM.style.cursor="crosshair";x.sld.style.overflow="hidden";x.sld.style.width=jscolor.images.sld[0]+"px";x.sld.style.height=jscolor.images.sld[1]+"px";x.sldB.style.display=D.slider?"block":"none";x.sldB.style.position="absolute";x.sldB.style.right=D.pickerFace+"px";x.sldB.style.top=D.pickerFace+"px";x.sldB.setAttribute("class","pickerslider");x.sldM.style.display=
D.slider?"block":"none";x.sldM.style.position="absolute";x.sldM.style.right="0";x.sldM.style.top="0";x.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+D.pickerFace+2*D.pickerInset+"px";x.sldM.style.height=x.box.style.height;try{x.sldM.style.cursor="pointer"}catch(t){x.sldM.style.cursor="hand"}x.btn.style.display=D.pickerClosable?"block":"none";x.btn.style.position="absolute";x.btn.style.left=D.pickerFace+"px";x.btn.style.bottom=D.pickerFace+"px";x.btn.style.padding="0 15px";x.btn.style.height=
"18px";x.btn.style.border=D.pickerInset+"px solid";x.btn.setAttribute("class","pickerclose");x.btn.onmousedown=function(){D.hidePicker()};switch(N){case 0:var S="hs.png";break;case 1:S="hv.png"}x.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";x.padM.style.backgroundRepeat="no-repeat";x.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";x.sldM.style.backgroundRepeat="no-repeat";x.pad.style.backgroundImage="url('"+jscolor.getDir()+S+"')";x.pad.style.backgroundRepeat=
"no-repeat";x.pad.style.backgroundPosition="0 0";w();y();jscolor.picker.owner=D;document.getElementsByTagName("body")[0].appendChild(x.boxB)}function z(a){return[2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[0]+(a.slider?2*a.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),a.pickerClosable?4*a.pickerInset+3*a.pickerFace+jscolor.images.pad[1]+a.pickerButtonHeight:2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[1]]}function w(){switch(N){case 0:var c=1;break;case 1:c=2}var f=Math.round(D.hsv[0]/
6*(jscolor.images.pad[0]-1)),c=Math.round((1-D.hsv[c])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=D.pickerFace+D.pickerInset+f-Math.floor(jscolor.images.cross[0]/2)+"px "+(D.pickerFace+D.pickerInset+c-Math.floor(jscolor.images.cross[1]/2))+"px";f=jscolor.picker.sld.childNodes;switch(N){case 0:for(var w=a(D.hsv[0],D.hsv[1],1),c=0;c<f.length;c+=1)f[c].style.backgroundColor="rgb("+100*w[0]*(1-c/f.length)+"%,"+100*w[1]*(1-c/f.length)+"%,"+100*w[2]*(1-c/f.length)+"%)";break;
case 1:var x,y=[D.hsv[2],0,0],c=Math.floor(D.hsv[0]),r=c%2?D.hsv[0]-c:1-(D.hsv[0]-c);switch(c){case 6:case 0:w=[0,1,2];break;case 1:w=[1,0,2];break;case 2:w=[2,0,1];break;case 3:w=[2,1,0];break;case 4:w=[1,2,0];break;case 5:w=[0,2,1]}for(c=0;c<f.length;c+=1)x=1-1/(f.length-1)*c,y[1]=y[0]*(1-x*r),y[2]=y[0]*(1-x),f[c].style.backgroundColor="rgb("+100*y[w[0]]+"%,"+100*y[w[1]]+"%,"+100*y[w[2]]+"%)"}}function y(){switch(N){case 0:var a=2;break;case 1:a=1}a=Math.round((1-D.hsv[a])*(jscolor.images.sld[1]-
1));jscolor.picker.sldM.style.backgroundPosition="0 "+(D.pickerFace+D.pickerInset+a-Math.floor(jscolor.images.arrow[1]/2))+"px"}function x(){return jscolor.picker&&jscolor.picker.owner===D}function r(){V!==c&&D.importColor()}function E(a){var c=jscolor.getRelMousePos(a);a=c.x-D.pickerFace-D.pickerInset;c=c.y-D.pickerFace-D.pickerInset;switch(N){case 0:D.fromHSV(a*(6/(jscolor.images.pad[0]-1)),1-c/(jscolor.images.pad[1]-1),null,La);break;case 1:D.fromHSV(a*(6/(jscolor.images.pad[0]-1)),null,1-c/(jscolor.images.pad[1]-
1),La)}}function R(a){a=jscolor.getRelMousePos(a).y-D.pickerFace-D.pickerInset;switch(N){case 0:D.fromHSV(null,null,1-a/(jscolor.images.sld[1]-1),Ga);break;case 1:D.fromHSV(null,1-a/(jscolor.images.sld[1]-1),null,Ga)}}function B(){D.onImmediateChange&&("string"===typeof D.onImmediateChange?new Function(D.onImmediateChange):D.onImmediateChange).call(D)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=c;this.onImmediateChange=null;this.hsv=[0,0,
1];this.rgb=[1,1,1];this.minH=0;this.maxH=6;this.minS=0;this.maxS=1;this.minV=0;this.maxV=1;this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="x";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor=
"ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var S in f)f.hasOwnProperty(S)&&(this[S]=f[S]);this.hidePicker=function(){x()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=function(){if(!x()){var a=jscolor.getElementPos(c),f=jscolor.getElementSize(c),w=jscolor.getViewPos(),y=jscolor.getViewSize(),r=z(this),E,B,R;switch(this.pickerPosition.toLowerCase()){case "left":E=1;B=0;R=-1;break;
case "right":E=1;B=0;R=1;break;case "top":E=0;B=1;R=-1;break;default:E=0,R=B=1}var D=(f[B]+r[B])/2,a=this.pickerSmartPosition?[-w[E]+a[E]+r[E]>y[E]?-w[E]+a[E]+f[E]/2>y[E]/2&&0<=a[E]+f[E]-r[E]?a[E]+f[E]-r[E]:a[E]:a[E],-w[B]+a[B]+f[B]+r[B]-D+D*R>y[B]?-w[B]+a[B]+f[B]/2>y[B]/2&&0<=a[B]+f[B]-D-D*R?a[B]+f[B]-D-D*R:a[B]+f[B]-D+D*R:0<=a[B]+f[B]-D+D*R?a[B]+f[B]-D+D*R:a[B]+f[B]-D-D*R]:[a[E],a[B]+f[B]-D+D*R];t(a[E],a[B])}};this.importColor=function(){V?this.adjust?!this.required&&/^\s*$/.test(V.value)?(V.value=
"",L.style.backgroundImage=L.jscStyle.backgroundImage,L.style.backgroundColor=L.jscStyle.backgroundColor,L.style.color=L.jscStyle.color,this.exportColor(ea|Q)):this.fromString(V.value)||this.exportColor():this.fromString(V.value,ea)||(L.style.backgroundImage=L.jscStyle.backgroundImage,L.style.backgroundColor=L.jscStyle.backgroundColor,L.style.color=L.jscStyle.color,this.exportColor(ea|Q)):this.exportColor()};this.exportColor=function(a){if(!(a&ea)&&V){var c=this.toString();this.caps&&(c=c.toUpperCase());
this.hash&&(c="#"+c);V.value=c}!(a&Q)&&L&&(L.style.backgroundImage="none",L.style.backgroundColor="#"+this.toString(),L.style.color=0.5>0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]?"#FFF":"#000");!(a&Ga)&&x()&&w();!(a&La)&&x()&&y()};this.fromHSV=function(c,f,w,x){null!==c&&(c=Math.max(0,this.minH,Math.min(6,this.maxH,c)));null!==f&&(f=Math.max(0,this.minS,Math.min(1,this.maxS,f)));null!==w&&(w=Math.max(0,this.minV,Math.min(1,this.maxV,w)));this.rgb=a(null===c?this.hsv[0]:this.hsv[0]=c,null===
f?this.hsv[1]:this.hsv[1]=f,null===w?this.hsv[2]:this.hsv[2]=w);this.exportColor(x)};this.fromRGB=function(c,f,w,x){null!==c&&(c=Math.max(0,Math.min(1,c)));null!==f&&(f=Math.max(0,Math.min(1,f)));null!==w&&(w=Math.max(0,Math.min(1,w)));c=null===c?this.rgb[0]:c;f=null===f?this.rgb[1]:f;var y=null===w?this.rgb[2]:w,r=Math.min(Math.min(c,f),y);w=Math.max(Math.max(c,f),y);var E=w-r;0===E?c=[null,0,w]:(c=c===r?3+(y-f)/E:f===r?5+(c-y)/E:1+(f-c)/E,c=[6===c?0:c,E/w,w]);null!==c[0]&&(this.hsv[0]=Math.max(0,
this.minH,Math.min(6,this.maxH,c[0])));0!==c[2]&&(this.hsv[1]=null===c[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,c[1])));this.hsv[2]=null===c[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,c[2]));c=a(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=c[0];this.rgb[1]=c[1];this.rgb[2]=c[2];this.exportColor(x)};this.fromString=function(a,c){var f=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return f?(6===f[1].length?this.fromRGB(parseInt(f[1].substr(0,2),16)/255,parseInt(f[1].substr(2,2),
16)/255,parseInt(f[1].substr(4,2),16)/255,c):this.fromRGB(parseInt(f[1].charAt(0)+f[1].charAt(0),16)/255,parseInt(f[1].charAt(1)+f[1].charAt(1),16)/255,parseInt(f[1].charAt(2)+f[1].charAt(2),16)/255,c),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var D=this,N="hvs"===this.pickerMode.toLowerCase()?1:0,H=!1,V=jscolor.fetchElement(this.valueElement),
L=jscolor.fetchElement(this.styleElement),da=!1,la=!1,xa={},ea=1,Q=2,Ga=4,La=8;jscolor.addEvent(c,"click",function(a){a.stopPropagation();a.preventDefault()});jscolor.addEvent(c,"focus",function(){D.pickerOnfocus&&D.showPicker()});jscolor.addEvent(c,"blur",function(){H?H=!1:window.setTimeout(function(){H||(V===c&&D.importColor(),D.pickerOnfocus&&D.hidePicker());H=!1},0)});V&&(S=function(){D.fromString(V.value,ea);B()},jscolor.addEvent(V,"keyup",S),jscolor.addEvent(V,"input",S),jscolor.addEvent(V,
"blur",r),V.setAttribute("autocomplete","off"));L&&(L.jscStyle={backgroundImage:L.style.backgroundImage,backgroundColor:L.style.backgroundColor,color:L.style.color});switch(N){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();(function(c){var f=function(){var a=function(a){var c={data:[],heatmap:a};this.max=1;this.get=function(a){return c[a]};this.set=function(a,f){c[a]=f}};a.prototype={addDataPoint:function(a,c){if(!(0>a||0>c)){var f=this.get("heatmap"),r=this.get("data");r[a]||(r[a]=[]);r[a][c]||(r[a][c]=0);r[a][c]+=3>arguments.length?1:arguments[2];this.set("data",r);this.max<r[a][c]?(f.get("actx").clearRect(0,0,f.get("width"),f.get("height")),this.setDataSet({max:r[a][c],data:r},!0)):f.drawAlpha(a,c,r[a][c],!0)}},
setDataSet:function(a,c){var f=this.get("heatmap"),r=[],E=a.data,z=E.length;f.clear();this.max=a.max;f.get("legend")&&f.get("legend").update(a.max);if(null!=c&&c)for(var B in E){if(void 0!==B)for(var t in E[B])void 0!==t&&f.drawAlpha(B,t,E[B][t],!1)}else for(;z--;)B=E[z],f.drawAlpha(B.x,B.y,B.count,!1),r[B.x]||(r[B.x]=[]),r[B.x][B.y]||(r[B.x][B.y]=0),r[B.x][B.y]=B.count;f.colorize();this.set("data",E)},exportDataSet:function(){var a=this.get("data"),c=[],f;for(f in a)if(void 0!==f)for(var r in a[f])void 0!==
r&&c.push({x:parseInt(f,10),y:parseInt(r,10),count:a[f][r]});return{max:this.max,data:c}},generateRandomDataSet:function(a){var c=this.get("heatmap"),f=c.get("width"),c=c.get("height"),r={},E=Math.floor(1E3*Math.random()+1);r.max=E;for(var t=[];a--;)t.push({x:Math.floor(Math.random()*f+1),y:Math.floor(Math.random()*c+1),count:Math.floor(Math.random()*E+1)});r.data=t;this.setDataSet(r)}};var c=function(a){this.config=a;var c={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(a){return c[a]};
this.set=function(a,f){c[a]=f};this.init()};c.prototype={init:function(){var a=this.config,c=a.title||"Legend",f=a.position,r=a.offset||10,a=document.createElement("ul"),E="";this.processGradientObject();E=-1<f.indexOf("t")?E+("top:"+r+"px;"):E+("bottom:"+r+"px;");E=-1<f.indexOf("l")?E+("left:"+r+"px;"):E+("right:"+r+"px;");f=document.createElement("div");f.style.cssText="border-radius:5px;position:absolute;"+E+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;";
f.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+c+"</h3>";a.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;";c=document.createElement("div");c.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",this.createGradientImage(),");"].join("");f.appendChild(a);f.appendChild(c);this.set("element",f);this.set("labelsEl",a);this.update(1)},
processGradientObject:function(){var a=this.config.gradient,c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push({stop:f,value:a[f]});c.sort(function(a,c){return a.stop-c.stop});c.unshift({stop:0,value:"rgba(0,0,0,0)"});this.set("gradientArr",c)},createGradientImage:function(){var a=this.get("gradientArr"),c=a.length,f=document.createElement("canvas"),r=f.getContext("2d"),E;f.width="256";f.height="15";E=r.createLinearGradient(0,5,256,10);for(var t=0;t<c;t++)E.addColorStop(1/(c-1)*t,a[t].value);r.fillStyle=
E;r.fillRect(0,5,256,10);r.strokeStyle="black";r.beginPath();for(t=0;t<c;t++)r.moveTo((256*1/(c-1)*t>>0)+0.5,0),r.lineTo((256*1/(c-1)*t>>0)+0.5,0==t?15:5);r.moveTo(255.5,0);r.lineTo(255.5,15);r.moveTo(255.5,4.5);r.lineTo(0,4.5);r.stroke();this.set("ctx",r);return f.toDataURL()},getElement:function(){return this.get("element")},update:function(a){for(var c=this.get("gradientArr"),f=this.get("ctx"),r=this.get("labelsEl"),E,t="",B,z=0;z<c.length;z++)E=a*c[z].stop>>0,B=f.measureText(E).width/2>>0,0==
z&&(B=0),z==c.length-1&&(B*=2),t+='<li style="position:absolute;left:'+(((256*1/(c.length-1)*z||0)>>0)-B+0.5)+'px">'+E+"</li>";r.innerHTML=t}};var f=function(c){var f={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1E3,r:0,t:1E3,b:0},debug:!1};this.store=new a(this);this.get=function(a){return f[a]};this.set=function(a,c){f[a]=c};this.configure(c);this.init()};f.prototype={configure:function(a){this.set("radius",
a.radius||40);this.set("element",a.element instanceof Object?a.element:document.getElementById(a.element));this.set("visible",null!=a.visible?a.visible:!0);this.set("max",a.max||!1);this.set("gradient",a.gradient||{"0.45":"rgb(0,0,255)","0.55":"rgb(0,255,255)","0.65":"rgb(0,255,0)","0.95":"yellow",1:"rgb(255,0,0)"});this.set("opacity",parseInt(255/(100/a.opacity),10)||180);this.set("width",a.width||0);this.set("height",a.height||0);this.set("debug",a.debug);a.legend&&(a=a.legend,a.gradient=this.get("gradient"),
this.set("legend",new c(a)))},resize:function(){var a=this.get("element"),c=this.get("canvas"),f=this.get("acanvas");c.width=f.width=this.get("width")||a.style.width.replace(/px/,"")||this.getWidth(a);this.set("width",c.width);c.height=f.height=this.get("height")||a.style.height.replace(/px/,"")||this.getHeight(a);this.set("height",c.height)},init:function(){var a=document.createElement("canvas"),c=document.createElement("canvas"),f=a.getContext("2d"),r=c.getContext("2d"),t=this.get("element");this.initColorPalette();
this.set("canvas",a);this.set("ctx",f);this.set("acanvas",c);this.set("actx",r);this.resize();a.style.cssText=c.style.cssText="position:absolute;top:0;left:0;z-index:10000000;";this.get("visible")||(a.style.display="none");t.appendChild(a);this.get("legend")&&t.appendChild(this.get("legend").getElement());this.get("debug")&&document.body.appendChild(c);r.shadowOffsetX=15E3;r.shadowOffsetY=15E3;r.shadowBlur=15},initColorPalette:function(){var a=document.createElement("canvas"),c=this.get("gradient"),
f,r;a.width="1";a.height="256";a=a.getContext("2d");f=a.createLinearGradient(0,0,1,256);r=a.getImageData(0,0,1,1);r.data[0]=r.data[3]=64;r.data[1]=r.data[2]=0;a.putImageData(r,0,0);r=a.getImageData(0,0,1,1);this.set("premultiplyAlpha",60>r.data[0]||70<r.data[0]);for(var t in c)f.addColorStop(t,c[t]);a.fillStyle=f;a.fillRect(0,0,1,256);this.set("gradient",a.getImageData(0,0,1,256).data)},getWidth:function(a){var c=a.offsetWidth;a.style.paddingLeft&&(c+=a.style.paddingLeft);a.style.paddingRight&&(c+=
a.style.paddingRight);return c},getHeight:function(a){var c=a.offsetHeight;a.style.paddingTop&&(c+=a.style.paddingTop);a.style.paddingBottom&&(c+=a.style.paddingBottom);return c},colorize:function(a,c){var f=this.get("width"),r=this.get("radius"),t=this.get("height"),z=this.get("actx"),B=this.get("ctx"),S=3*r,r=this.get("premultiplyAlpha"),D=this.get("gradient"),N=this.get("opacity"),H=this.get("bounds"),V,L,da;null!=a&&null!=c?(a+S>f&&(a=f-S),0>a&&(a=0),0>c&&(c=0),c+S>t&&(c=t-S),V=a,f=c,L=a+S,t=
c+S):(V=0>H.l?0:H.l,L=H.r>f?f:H.r,f=0>H.t?0:H.t,t=H.b>t?t:H.b);z=z.getImageData(V,f,L-V,t-f);t=z.data;S=t.length;for(L=3;L<S;L+=4)if(da=t[L],H=4*da)da=da<N?da:N,t[L-3]=D[H],t[L-2]=D[H+1],t[L-1]=D[H+2],r&&(t[L-3]/=255/da,t[L-2]/=255/da,t[L-1]/=255/da),t[L]=da;z.data=t;B.putImageData(z,V,f)},drawAlpha:function(a,c,f,r){var t=this.get("radius"),z=this.get("actx");this.get("max");var B=this.get("bounds"),S=a-1.5*t>>0,D=c-1.5*t>>0,N=a+1.5*t>>0,H=c+1.5*t>>0;z.shadowColor="rgba(0,0,0,"+(f?f/this.store.max:
"0.1")+")";z.shadowOffsetX=15E3;z.shadowOffsetY=15E3;z.shadowBlur=15;z.beginPath();z.arc(a-15E3,c-15E3,t,0,2*Math.PI,!0);z.closePath();z.fill();r?this.colorize(S,D):(S<B.l&&(B.l=S),D<B.t&&(B.t=D),N>B.r&&(B.r=N),H>B.b&&(B.b=H))},setVisibility:function(a){this.set("visible",a);this.get("canvas").style.display=a?"block":"none"},toggleDisplay:function(){this.setVisibility(!this.get("visible"))},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var a=this.get("width"),c=this.get("height");
this.store.set("data",[]);this.get("ctx").clearRect(0,0,a,c);this.get("actx").clearRect(0,0,a,c)},cleanup:function(){this.get("element").removeChild(this.get("canvas"))}};return{create:function(a){return new f(a)},util:{mousePosition:function(a){var c,f;a.layerX?(c=a.layerX,f=a.layerY):a.offsetX&&(c=a.offsetX,f=a.offsetY);if("undefined"!=typeof c)return[c,f]}}}}();c.h337=c.heatmapFactory=f})(window);OpenLayers.Layer.Heatmap=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:!1,heatmap:null,mapLayer:null,tmpData:{},initialize:function(c,f,a,t,z){var w=document.createElement("div");OpenLayers.Layer.prototype.initialize.apply(this,[c,z]);w.style.cssText="position:absolute;width:"+f.size.w+"px;height:"+f.size.h+"px;";this.div.appendChild(w);t.element=w;this.mapLayer=a;this.map=f;this.heatmap=h337.create(t);c=function(){this.tmpData.max&&this.updateLayer()};f.events.register("zoomend",this,c);f.events.register("moveend",
this,c)},updateLayer:function(){var c=this.getPixelOffset(),f=this.heatmap.get("element");f.style.top=(0<c.y?"-"+c.y:Math.abs(c.y))+"px";f.style.left=(0<c.x?"-"+c.x:Math.abs(c.x))+"px";this.setDataSet(this.tmpData)},getPixelOffset:function(){var c=this.mapLayer.map.layerContainerOrigin,c=new OpenLayers.LonLat(c.lon,c.lat),c=this.mapLayer.getViewPortPxFromLonLat(c),f=this.mapLayer.map.center,f=new OpenLayers.LonLat(f.lon,f.lat),f=this.mapLayer.getViewPortPxFromLonLat(f);return{x:c.x-f.x,y:c.y-f.y}},
setDataSet:function(c){var f={},a=c.data,t=a.length,z,w;f.max=c.max;for(f.data=[];t--;)z=a[t],w=z.lonlat,(w=this.roundPixels(this.getViewPortPxFromLonLat(w)))&&f.data.push({x:w.x,y:w.y,count:z.count});this.tmpData=c;this.heatmap.store.setDataSet(f)},roundPixels:function(c){if(0>c.x||0>c.y)return!1;c.x>>=0;c.y>>=0;return c},addDataPoint:function(c){var f=this.roundPixels(this.mapLayer.getViewPortPxFromLonLat(c)),a={lonlat:c};2==arguments.length&&(a.count=arguments[1]);this.tmpData.data.push(a);f&&
(f=[f.x,f.y],2==arguments.length&&f.push(arguments[1]),this.heatmap.store.addDataPoint.apply(this.heatmap.store,f))},toggle:function(){this.heatmap.toggleDisplay()},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},setVisibility:function(c){this.heatmap.setVisibility(c)},CLASS_NAME:"OpenLayers.Layer.Heatmap"});d3=function(){function c(b){return null!=b&&!isNaN(b)}function f(b){return b.length}function a(b,g){try{for(var u in g)Object.defineProperty(b.prototype,u,{value:g[u],enumerable:!1})}catch(a){b.prototype=g}}function t(){}function z(){}function w(b,g,u){return function(){var a=u.apply(g,arguments);return a===g?b:a}}function y(b,g){if(g in b)return g;g=g.charAt(0).toUpperCase()+g.substring(1);for(var u=0,a=pe.length;u<a;++u){var U=pe[u]+g;if(U in b)return U}}function x(b){for(var g=-1,u=b.length,a=
[];++g<u;)a.push(b[g]);return a}function r(){}function E(){}function R(b){function g(){for(var g=u,a=-1,Z=g.length,d;++a<Z;)(d=g[a].on)&&d.apply(this,arguments);return b}var u=[],a=new t;g.on=function(g,d){var ha=a.get(g),c;if(2>arguments.length)return ha&&ha.on;ha&&(ha.on=null,u=u.slice(0,c=u.indexOf(ha)).concat(u.slice(c+1)),a.remove(g));d&&u.push(a.set(g,{on:d}));return b};return g}function B(){n.event.preventDefault()}function S(){for(var b=n.event,g;g=b.sourceEvent;)b=g;return b}function D(b){for(var g=
new E,u=0,a=arguments.length;++u<a;)g[arguments[u]]=R(g);g.of=function(u,a){return function(Z){try{var d=Z.sourceEvent=n.event;Z.target=b;n.event=Z;g[Z.type].apply(u,a)}finally{n.event=d}}};return g}function N(b){Ad(b,ia);return b}function H(b){return function(){return Bd(b,this)}}function V(b){return function(){return Cd(b,this)}}function L(b,g){function u(){this.removeAttribute(b)}function a(){this.removeAttributeNS(b.space,b.local)}function U(){this.setAttribute(b,g)}function d(){this.setAttributeNS(b.space,
b.local,g)}function ha(){var u=g.apply(this,arguments);null==u?this.removeAttribute(b):this.setAttribute(b,u)}function c(){var u=g.apply(this,arguments);null==u?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,u)}b=n.ns.qualify(b);return null==g?b.local?a:u:"function"===typeof g?b.local?c:ha:b.local?d:U}function da(b){return b.trim().replace(/\s+/g," ")}function la(b){return RegExp("(?:^|\\s+)"+n.requote(b)+"(?:\\s+|$)","g")}function xa(b,g){function u(){for(var u=-1;++u<
U;)b[u](this,g)}function a(){for(var u=-1,Z=g.apply(this,arguments);++u<U;)b[u](this,Z)}b=b.trim().split(/\s+/).map(ea);var U=b.length;return"function"===typeof g?a:u}function ea(b){var g=la(b);return function(u,a){if(U=u.classList)return a?U.add(b):U.remove(b);var U=u.getAttribute("class")||"";a?(g.lastIndex=0,g.test(U)||u.setAttribute("class",da(U+" "+b))):u.setAttribute("class",da(U.replace(g," ")))}}function Q(b,g,u){function a(){this.style.removeProperty(b)}function U(){this.style.setProperty(b,
g,u)}function d(){var a=g.apply(this,arguments);null==a?this.style.removeProperty(b):this.style.setProperty(b,a,u)}return null==g?a:"function"===typeof g?d:U}function Ga(b,g){function u(){delete this[b]}function a(){this[b]=g}function U(){var u=g.apply(this,arguments);null==u?delete this[b]:this[b]=u}return null==g?u:"function"===typeof g?U:a}function La(b){return function(){return qe(this,b)}}function pa(b){arguments.length||(b=n.ascending);return function(g,u){return!g-!u||b(g.__data__,u.__data__)}}
function Y(b,g){for(var u=0,a=b.length;u<a;u++)for(var U=b[u],d=0,ha=U.length,c;d<ha;d++)(c=U[d])&&g(c,d,u);return b}function fa(b){Ad(b,kb);return b}function Ka(b,g,u){function a(){var g=this[ha];g&&(this.removeEventListener(b,g,g.$),delete this[ha])}function d(){var U=X(g,tb(arguments));a.call(this);this.addEventListener(b,this[ha]=U,U.$=u);U._=g}function q(){var g=RegExp("^__on([^.]+)"+n.requote(b)+"$"),u,a;for(a in this)if(u=a.match(g)){var d=this[a];this.removeEventListener(u[1],d,d.$);delete this[a]}}
var ha="__on"+b,c=b.indexOf("."),X=ra;0<c&&(b=b.substring(0,c));var h=Dd.get(b);h&&(b=h,X=oa);return c?g?d:a:g?r:q}function ra(b,g){return function(u){var a=n.event;n.event=u;g[0]=this.__data__;try{b.apply(this,g)}finally{n.event=a}}}function oa(b,g){var u=ra(b,g);return function(b){var g=b.relatedTarget;(!g||g!==this&&!(g.compareDocumentPosition(this)&8))&&u.call(this,b)}}function sa(b){var g="selectstart."+b,u="dragstart."+b,a="click."+b,d=n.select(Oa).on(g,B).on(u,B),q=ub.style,ha=q[Ed];q[Ed]=
"none";return function(b){d.on(g,null).on(u,null);q[Ed]=ha;if(b){var c=function(){d.on(a,null)};d.on(a,function(){B();c()},!0);setTimeout(c,0)}}}function Na(b,g){var u=b.ownerSVGElement||b;if(u.createSVGPoint){var a=u.createSVGPoint();if(0>Fd&&(Oa.scrollX||Oa.scrollY)){var u=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),d=u[0][0].getScreenCTM();Fd=!(d.f||d.e);u.remove()}Fd?(a.x=g.pageX,a.y=g.pageY):(a.x=g.clientX,a.y=g.clientY);
a=a.matrixTransform(b.getScreenCTM().inverse());return[a.x,a.y]}u=b.getBoundingClientRect();return[g.clientX-u.left-b.clientLeft,g.clientY-u.top-b.clientTop]}function Xa(){}function Ya(b,g,u){return new ba(b,g,u)}function ba(b,g,u){this.h=b;this.s=g;this.l=u}function ka(b,g,u){function a(b){360<b?b-=360:0>b&&(b+=360);return 60>b?d+(q-d)*b/60:180>b?q:240>b?d+(q-d)*(240-b)/60:d}var d,q;b=isNaN(b)?0:0>(b%=360)?b+360:b;g=isNaN(g)?0:0>g?0:1<g?1:g;u=0>u?0:1<u?1:u;q=0.5>=u?u*(1+g):u+g-u*g;d=2*u-q;return Ea(Math.round(255*
a(b+120)),Math.round(255*a(b)),Math.round(255*a(b-120)))}function ma(b){return 1<b?W/2:-1>b?-W/2:Math.asin(b)}function va(b){return(b=Math.sin(b/2))*b}function za(b,g,u){return new Aa(b,g,u)}function Aa(b,g,u){this.h=b;this.c=g;this.l=u}function wa(b,g,u){isNaN(b)&&(b=0);isNaN(g)&&(g=0);return Ba(u,Math.cos(b*=$)*g,Math.sin(b)*g)}function Ba(b,g,u){return new Vb(b,g,u)}function Vb(b,g,u){this.l=b;this.a=g;this.b=u}function Gc(b,g,u){b=(b+16)/116;u=b-u/200;g=nc(b+g/500)*se;b=nc(b)*te;u=nc(u)*ue;return Ea(na(3.2404542*
g-1.5371385*b-0.4985314*u),na(-0.969266*g+1.8760108*b+0.041556*u),na(0.0556434*g-0.2040259*b+1.0572252*u))}function Hc(b,g,u){return 0<b?za(Math.atan2(u,g)*qa,Math.sqrt(g*g+u*u),b):za(NaN,NaN,b)}function nc(b){return 0.206893034<b?b*b*b:(b-4/29)/7.787037}function Eb(b){return 0.008856<b?Math.pow(b,1/3):7.787037*b+4/29}function na(b){return Math.round(255*(0.00304>=b?12.92*b:1.055*Math.pow(b,1/2.4)-0.055))}function Ea(b,g,u){return new Ub(b,g,u)}function Ub(b,g,u){this.r=b;this.g=g;this.b=u}function vb(b){return 16>
b?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function Fb(b,g,u){var a=0,d=0,q=0,c,G;if(c=/([a-z]+)\((.*)\)/i.exec(b))switch(G=c[2].split(","),c[1]){case "hsl":return u(parseFloat(G[0]),parseFloat(G[1])/100,parseFloat(G[2])/100);case "rgb":return g(oc(G[0]),oc(G[1]),oc(G[2]))}if(u=Ic.get(b))return g(u.r,u.g,u.b);null!=b&&"#"===b.charAt(0)&&(4===b.length?(a=b.charAt(1),a+=a,d=b.charAt(2),d+=d,q=b.charAt(3),q+=q):7===b.length&&(a=b.substring(1,3),d=b.substring(3,5),q=b.substring(5,7)),
a=parseInt(a,16),d=parseInt(d,16),q=parseInt(q,16));return g(a,d,q)}function Wb(b,g,u){var a=Math.min(b/=255,g/=255,u/=255),d=Math.max(b,g,u),q=d-a,c=(d+a)/2;q?(a=0.5>c?q/(d+a):q/(2-d-a),b=60*(b==d?(g-u)/q+(g<u?6:0):g==d?(u-b)/q+2:(b-g)/q+4)):(b=NaN,a=0<c&&1>c?0:b);return Ya(b,a,c)}function Jc(b,g,u){b=pc(b);g=pc(g);u=pc(u);var a=Eb((0.4124564*b+0.3575761*g+0.1804375*u)/se),d=Eb((0.2126729*b+0.7151522*g+0.072175*u)/te);b=Eb((0.0193339*b+0.119192*g+0.9503041*u)/ue);return Ba(116*d-16,500*(a-d),200*
(d-b))}function pc(b){return 0.04045>=(b/=255)?b/12.92:Math.pow((b+0.055)/1.055,2.4)}function oc(b){var g=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*g):g}function ga(b){return"function"===typeof b?b:function(){return b}}function Da(b){return b}function eb(b){return function(g,u,a){2===arguments.length&&"function"===typeof u&&(a=u,u=null);return qc(g,u,b,a)}}function qc(b,g,u,a){function d(){var b=X.status,g;if(!b&&X.responseText||200<=b&&300>b||304===b){try{g=u.call(q,X)}catch(a){c.error.call(q,
a);return}c.load.call(q,g)}else c.error.call(q,X)}var q={},c=n.dispatch("progress","load","error"),G={},X=new XMLHttpRequest,h=null;Oa.XDomainRequest&&(!("withCredentials"in X)&&/^(http(s)?:)?\/\//.test(b))&&(X=new XDomainRequest);"onload"in X?X.onload=X.onerror=d:X.onreadystatechange=function(){3<X.readyState&&d()};X.onprogress=function(b){var g=n.event;n.event=b;try{c.progress.call(q,X)}finally{n.event=g}};q.header=function(b,g){b=(b+"").toLowerCase();if(2>arguments.length)return G[b];null==g?delete G[b]:
G[b]=g+"";return q};q.mimeType=function(b){if(!arguments.length)return g;g=null==b?null:b+"";return q};q.responseType=function(b){if(!arguments.length)return h;h=b;return q};q.response=function(b){u=b;return q};["get","post"].forEach(function(b){q[b]=function(){return q.send.apply(q,[b].concat(tb(arguments)))}});q.send=function(u,a,d){2===arguments.length&&"function"===typeof a&&(d=a,a=null);X.open(u,b,!0);null!=g&&!("accept"in G)&&(G.accept=g+",*/*");if(X.setRequestHeader)for(var U in G)X.setRequestHeader(U,
G[U]);null!=g&&X.overrideMimeType&&X.overrideMimeType(g);null!=h&&(X.responseType=h);if(null!=d)q.on("error",d).on("load",function(b){d(null,b)});X.send(null==a?null:a);return q};q.abort=function(){X.abort();return q};n.rebind(q,c,"on");return null==a?q:q.get(Gd(a))}function Gd(b){return 1===b.length?function(g,u){b(null==g?u:null)}:b}function rc(){var b=Gb(),b=sc()-b;24<b?(isFinite(b)&&(clearTimeout(Kc),Kc=setTimeout(rc,b)),Lc=0):(Lc=1,ve(rc))}function Gb(){for(var b=Date.now(),g=Mc;g;)b>=g.time&&
(g.flush=g.callback(b-g.time)),g=g.next;return b}function sc(){for(var b,g=Mc,u=Infinity;g;)g.flush?g=b?b.next=g.next:Mc=g.next:(g.time<u&&(u=g.time),g=(b=g).next);Nc=b;return u}function wb(b,g){return g-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function tc(b){return b+""}function xb(){}function Xb(b,g,u){var a=u.s=b+g,d=a-b;u.t=b-(a-d)+(g-d)}function lb(b,g){if(b&&we.hasOwnProperty(b.type))we[b.type](b,g)}function uc(b,g,u){var a=-1;u=b.length-u;var d;for(g.lineStart();++a<u;)d=b[a],g.point(d[0],d[1]);
g.lineEnd()}function Oc(b,g){var u=-1,a=b.length;for(g.polygonStart();++u<a;)uc(b[u],g,1);g.polygonEnd()}function Pc(){function b(b,g){b*=$;g=g*$/2+W/4;var u=b-a,c=Math.cos(g),h=Math.sin(g),e=q*h,l=d*c+e*Math.cos(u),u=e*Math.sin(u);Hb.add(Math.atan2(u,l));a=b;d=c;q=h}var g,u,a,d,q;Sa.point=function(c,G){Sa.point=b;a=(g=c)*$;d=Math.cos(G=(u=G)*$/2+W/4);q=Math.sin(G)};Sa.lineEnd=function(){b(g,u)}}function fb(b){var g=b[0];b=b[1];var u=Math.cos(b);return[u*Math.cos(g),u*Math.sin(g),Math.sin(b)]}function Ib(b,
g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]}function Pa(b,g){return[b[1]*g[2]-b[2]*g[1],b[2]*g[0]-b[0]*g[2],b[0]*g[1]-b[1]*g[0]]}function Jb(b,g){b[0]+=g[0];b[1]+=g[1];b[2]+=g[2]}function Ha(b,g){return[b[0]*g,b[1]*g,b[2]*g]}function Yb(b){var g=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=g;b[1]/=g;b[2]/=g}function Kb(b){return[Math.atan2(b[1],b[0]),ma(b[2])]}function Lb(b,g){return Math.abs(b[0]-g[0])<aa&&Math.abs(b[1]-g[1])<aa}function Zb(b,g){b*=$;var u=Math.cos(g*=$);gb(u*Math.cos(b),u*Math.sin(b),
Math.sin(g))}function gb(b,g,u){++vc;mb+=(b-mb)/vc;nb+=(g-nb)/vc;hb+=(u-hb)/vc}function wc(){function b(b,d){b*=$;var c=Math.cos(d*=$),G=c*Math.cos(b),c=c*Math.sin(b),X=Math.sin(d),h=Math.atan2(Math.sqrt((h=u*X-a*c)*h+(h=a*G-g*X)*h+(h=g*c-u*G)*h),g*G+u*c+a*X);$b+=h;Ua+=h*(g+(g=G));Va+=h*(u+(u=c));Qa+=h*(a+(a=X));gb(g,u,a)}var g,u,a;Za.point=function(d,q){d*=$;var c=Math.cos(q*=$);g=c*Math.cos(d);u=c*Math.sin(d);a=Math.sin(q);Za.point=b;gb(g,u,a)}}function yb(){Za.point=Zb}function ac(){function b(b,
g){b*=$;var u=Math.cos(g*=$),c=u*Math.cos(b),u=u*Math.sin(b),h=Math.sin(g),e=d*h-q*u,l=q*c-a*h,f=a*u-d*c,n=Math.sqrt(e*e+l*l+f*f),m=a*c+d*u+q*h,s=n&&-(1<m?0:-1>m?W:Math.acos(m))/n,n=Math.atan2(n,m);zb+=s*e;Ab+=s*l;ib+=s*f;$b+=n;Ua+=n*(a+(a=c));Va+=n*(d+(d=u));Qa+=n*(q+(q=h));gb(a,d,q)}var g,u,a,d,q;Za.point=function(c,G){g=c;u=G;Za.point=b;c*=$;var X=Math.cos(G*=$);a=X*Math.cos(c);d=X*Math.sin(c);q=Math.sin(G);gb(a,d,q)};Za.lineEnd=function(){b(g,u);Za.lineEnd=yb;Za.point=Zb}}function Mb(){return!0}
function xc(b,g,u,a,d){var q=[],c=[];b.forEach(function(b){if(!(0>=(g=b.length-1))){var g,u=b[0],a=b[g];if(Lb(u,a)){d.lineStart();for(a=0;a<g;++a)d.point((u=b[a])[0],u[1]);d.lineEnd()}else b={point:u,points:b,other:null,visited:!1,entry:!0,subject:!0},u={point:u,points:[u],other:b,visited:!1,entry:!1,subject:!1},b.other=u,q.push(b),c.push(u),b={point:a,points:[a],other:null,visited:!1,entry:!1,subject:!0},u={point:a,points:[a],other:b,visited:!1,entry:!0,subject:!1},b.other=u,q.push(b),c.push(u)}});
c.sort(g);yc(q);yc(c);if(q.length){if(u){b=1;u=!u(c[0].point);for(g=c.length;b<g;++b)c[b].entry=u=!u}u=q[0];for(var G,X;;){for(g=u;g.visited;)if((g=g.next)===u)return;G=g.points;d.lineStart();do{g.visited=g.other.visited=!0;if(g.entry){if(g.subject)for(b=0;b<G.length;b++)d.point((X=G[b])[0],X[1]);else a(g.point,g.next.point,1,d);g=g.next}else{if(g.subject){G=g.prev.points;for(b=G.length;0<=--b;)d.point((X=G[b])[0],X[1])}else a(g.point,g.prev.point,-1,d);g=g.prev}g=g.other;G=g.points}while(!g.visited);
d.lineEnd()}}}function yc(b){if(g=b.length){for(var g,u=0,a=b[0],d;++u<g;)a.next=d=b[u],d.prev=a,a=d;a.next=d=b[0];d.prev=a}}function Qc(b,g,u,a){return function(d){function q(g,u){b(g,u)&&d.point(g,u)}function c(b,g){f.point(b,g)}function G(){m.point=c;f.lineStart()}function X(){m.point=q;f.lineEnd()}function h(b,g){F.point(b,g);v.push([b,g])}function e(){F.lineStart();v=[]}function l(){h(v[0][0],v[0][1]);F.lineEnd();var b=F.clean(),g=A.buffer(),u=g.length;v.pop();J.push(v);v=null;if(u)if(b&1){var b=
g[0],u=b.length-1,g=-1,a;for(d.lineStart();++g<u;)d.point((a=b[g])[0],a[1]);d.lineEnd()}else 1<u&&b&2&&g.push(g.pop().concat(g.shift())),s.push(g.filter(cc))}var f=g(d),m={point:q,lineStart:G,lineEnd:X,polygonStart:function(){m.point=h;m.lineStart=e;m.lineEnd=l;s=[];J=[];d.polygonStart()},polygonEnd:function(){m.point=q;m.lineStart=G;m.lineEnd=X;s=n.merge(s);s.length?xc(s,Hd,null,u,d):a(J)&&(d.lineStart(),u(null,null,1,d),d.lineEnd());d.polygonEnd();s=J=null},sphere:function(){d.polygonStart();d.lineStart();
u(null,null,1,d);d.lineEnd();d.polygonEnd()}},s,A=Rc(),F=g(A),J,v;return m}}function cc(b){return 1<b.length}function Rc(){var b=[],g;return{lineStart:function(){b.push(g=[])},point:function(b,a){g.push([b,a])},lineEnd:r,buffer:function(){var u=b;b=[];g=null;return u},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function Hd(b,g){return(0>(b=b.point)[0]?b[1]-W/2-aa:W/2-b[1])-(0>(g=g.point)[0]?g[1]-W/2-aa:W/2-g[1])}function Sc(b,g){var u=b[0],a=b[1],d=[Math.sin(u),-Math.cos(u),
0],q=0,c=!1,G=!1,X=0;Hb.reset();for(var h=0,e=g.length;h<e;++h){var l=g[h],f=l.length;if(f){for(var n=l[0],m=n[0],s=n[1]/2+W/4,A=Math.sin(s),F=Math.cos(s),s=1;;){s===f&&(s=0);b=l[s];var J=b[0],bc=b[1]/2+W/4,v=Math.sin(bc),M=Math.cos(bc),C=J-m,P=Math.abs(C)>W,A=A*v;Hb.add(Math.atan2(A*Math.sin(C),F*M+A*Math.cos(C)));Math.abs(bc)<aa&&(G=!0);q+=P?C+(0<=C?2:-2)*W:C;P^m>=u^J>=u&&(n=Pa(fb(n),fb(b)),Yb(n),n=Pa(d,n),Yb(n),n=(P^0<=C?-1:1)*ma(n[2]),a>n&&(X+=P^0<=C?1:-1));if(!s++)break;m=J;A=v;F=M;n=b}Math.abs(q)>
aa&&(c=!0)}}return(!G&&!c&&0>Hb||q<-aa)^X&1}function Id(b){function g(b,g){return Math.cos(b)*Math.cos(g)>d}function u(b,g,u){var a=fb(b),q=fb(g),Z=[1,0,0],q=Pa(a,q),c=Ib(q,q),a=q[0],G=c-a*a;if(!G)return!u&&b;c=d*c/G;G=-d*a/G;a=Pa(Z,q);Z=Ha(Z,c);q=Ha(q,G);Jb(Z,q);q=Ib(Z,a);c=Ib(a,a);G=q*q-c*(Ib(Z,Z)-1);if(!(0>G)){var ha=Math.sqrt(G),G=Ha(a,(-q-ha)/c);Jb(G,Z);G=Kb(G);if(!u)return G;u=b[0];var h=g[0];b=b[1];g=g[1];var X;h<u&&(X=u,u=h,h=X);var e=h-u,l=Math.abs(e-W)<aa,f=l||e<aa;!l&&g<b&&(X=b,b=g,g=X);
if(f?l?0<b+g^G[1]<(Math.abs(G[0]-u)<aa?b:g):b<=G[1]&&G[1]<=g:e>W^(u<=G[0]&&G[0]<=h))return g=Ha(a,(-q+ha)/c),Jb(g,Z),[G,Kb(g)]}}function a(g,u){var d=q?b:W-b,Z=0;g<-d?Z|=1:g>d&&(Z|=2);u<-d?Z|=4:u>d&&(Z|=8);return Z}var d=Math.cos(b),q=0<d,c=[b,0],G=Math.abs(d)>aa,h=e(b,6*$);return Qc(g,function(b){var d,U,c,ha,h;return{lineStart:function(){ha=c=!1;h=1},point:function(X,e){var l=[X,e],f,n=g(X,e),m=q?n?0:a(X,e):n?a(X+(0>X?W:-W),e):0;!d&&(ha=c=n)&&b.lineStart();if(n!==c&&(f=u(d,l),Lb(d,f)||Lb(l,f)))l[0]+=
aa,l[1]+=aa,n=g(l[0],l[1]);if(n!==c)h=0,n?(b.lineStart(),f=u(l,d),b.point(f[0],f[1])):(f=u(d,l),b.point(f[0],f[1]),b.lineEnd()),d=f;else if(G&&d&&q^n){var s;if(!(m&U)&&(s=u(l,d,!0)))h=0,q?(b.lineStart(),b.point(s[0][0],s[0][1]),b.point(s[1][0],s[1][1]),b.lineEnd()):(b.point(s[1][0],s[1][1]),b.lineEnd(),b.lineStart(),b.point(s[0][0],s[0][1]))}n&&(!d||!Lb(d,l))&&b.point(l[0],l[1]);d=l;c=n;U=m},lineEnd:function(){c&&b.lineEnd();d=null},clean:function(){return h|(ha&&c)<<1}}},h,function(b){return Sc(c,
b)})}function Tc(b,g,u,a){function d(a,q){return Math.abs(a[0]-b)<aa?0<q?0:3:Math.abs(a[0]-u)<aa?0<q?2:1:Math.abs(a[1]-g)<aa?0<q?1:0:0<q?3:2}function q(b,g){return c(b.point,g.point)}function c(b,g){var u=d(b,1),a=d(g,1);return u!==a?u-a:0===u?g[1]-b[1]:1===u?b[0]-g[0]:2===u?b[1]-g[1]:g[0]-b[0]}return function(G){function h(q){q=d(q,-1);return e([0===q||3===q?b:u,1<q?a:g])}function e(b){for(var g=0,u=J.length,a=b[1],d=0;d<u;++d)for(var q=1,Z=J[d],U=Z.length,c=Z[0],G;q<U;++q)G=Z[q],c[1]<=a?G[1]>a&&
0<(G[0]-c[0])*(b[1]-c[1])-(b[0]-c[0])*(G[1]-c[1])&&++g:G[1]<=a&&0>(G[0]-c[0])*(b[1]-c[1])-(b[0]-c[0])*(G[1]-c[1])&&--g,c=G;return 0!==g}function l(q,G,h,X){var e=0,re=0;if(null==q||(e=d(q,h))!==(re=d(G,h))||0>c(q,G)^0<h){do X.point(0===e||3===e?b:u,1<e?a:g);while((e=(e+h+4)%4)!==re)}else X.point(G[0],G[1])}function f(d,q){b<=d&&(d<=u&&g<=q&&q<=a)&&G.point(d,q)}function m(d,q){d=Math.max(-Uc,Math.min(Uc,d));q=Math.max(-Uc,Math.min(Uc,q));var U=b<=d&&d<=u&&g<=q&&q<=a;J&&v.push([d,q]);if(t)bc=d,C=q,
P=U,t=!1,U&&(G.lineStart(),G.point(d,q));else if(U&&r)G.point(d,q);else{var c=[I,T],ha=[d,q],h;h=ha[0]-c[0];var X=ha[1]-c[1],e=[0,1];Math.abs(h)<aa&&Math.abs(X)<aa?h=b<=c[0]&&c[0]<=u&&g<=c[1]&&c[1]<=a:dc(b-c[0],h,e)&&dc(c[0]-u,-h,e)&&dc(g-c[1],X,e)&&dc(c[1]-a,-X,e)?(1>e[1]&&(ha[0]=c[0]+e[1]*h,ha[1]=c[1]+e[1]*X),0<e[0]&&(c[0]+=e[0]*h,c[1]+=e[0]*X),h=!0):h=!1;h?(r||(G.lineStart(),G.point(c[0],c[1])),G.point(ha[0],ha[1]),U||G.lineEnd()):U&&(G.lineStart(),G.point(d,q))}I=d;T=q;r=U}var s=G,A=Rc(),F,J,
v,M={point:f,lineStart:function(){M.point=m;J&&J.push(v=[]);t=!0;r=!1;I=T=NaN},lineEnd:function(){F&&(m(bc,C),P&&r&&A.rejoin(),F.push(A.buffer()));M.point=f;r&&G.lineEnd()},polygonStart:function(){G=A;F=[];J=[]},polygonEnd:function(){G=s;(F=n.merge(F)).length?(G.polygonStart(),xc(F,q,h,l,G),G.polygonEnd()):e([b,g])&&(G.polygonStart(),G.lineStart(),l(null,null,1,G),G.lineEnd(),G.polygonEnd());F=J=v=null}},bc,C,P,I,T,r,t;return M}}function dc(b,g,u){if(Math.abs(g)<aa)return 0>=b;b/=g;if(0<g){if(b>u[1])return!1;
b>u[0]&&(u[0]=b)}else{if(b<u[0])return!1;b<u[1]&&(u[1]=b)}return!0}function $a(b,g){function u(u,a){return u=b(u,a),g(u[0],u[1])}b.invert&&g.invert&&(u.invert=function(u,a){return u=g.invert(u,a),u&&b.invert(u[0],u[1])});return u}function Nb(b){var g=0,u=W/3,a=Ob(b);b=a(g,u);b.parallels=function(b){return!arguments.length?[180*(g/W),180*(u/W)]:a(g=b[0]*W/180,u=b[1]*W/180)};return b}function ec(b,g){function u(b,g){var u=Math.sqrt(q-2*d*Math.sin(g))/d;return[u*Math.sin(b*=d),c-u*Math.cos(b)]}var a=
Math.sin(b),d=(a+Math.sin(g))/2,q=1+a*(2*d-a),c=Math.sqrt(q)/d;u.invert=function(b,g){var u=c-g;return[Math.atan2(b,u)/d,ma((q-(b*b+u*u)*d*d)/(2*d))]};return u}function ja(){function b(b,g){Vc+=d*b-a*g;a=b;d=g}var g,u,a,d;Bb.point=function(q,c){Bb.point=b;g=a=q;u=d=c};Bb.lineEnd=function(){b(g,u)}}function Wc(){function b(b,g){c.push("M",b,",",g,q)}function g(b,g){c.push("M",b,",",g);G.point=u}function u(b,g){c.push("L",b,",",g)}function a(){G.point=b}function d(){c.push("Z")}var q=ob(4.5),c=[],G=
{point:b,lineStart:function(){G.point=g},lineEnd:a,polygonStart:function(){G.lineEnd=d},polygonEnd:function(){G.lineEnd=a;G.point=b},pointRadius:function(b){q=ob(b);return G},result:function(){if(c.length){var b=c.join("");c=[];return b}}};return G}function ob(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function ab(b,g){mb+=b;nb+=g;++hb}function fc(){function b(b,a){var d=b-g,c=a-u,d=Math.sqrt(d*d+c*c);Ua+=d*(g+b)/2;Va+=d*(u+a)/2;Qa+=d;ab(g=b,u=a)}var g,u;bb.point=
function(a,d){bb.point=b;ab(g=a,u=d)}}function zc(){bb.point=ab}function Xc(){function b(b,g){var u=b-a,c=g-d,u=Math.sqrt(u*u+c*c);Ua+=u*(a+b)/2;Va+=u*(d+g)/2;Qa+=u;u=d*b-a*g;zb+=u*(a+b);Ab+=u*(d+g);ib+=3*u;ab(a=b,d=g)}var g,u,a,d;bb.point=function(q,c){bb.point=b;ab(g=a=q,u=d=c)};bb.lineEnd=function(){b(g,u)}}function Ac(b){function g(g,u){b.moveTo(g,u);b.arc(g,u,c,0,2*W)}function u(g,u){b.moveTo(g,u);G.point=a}function a(g,u){b.lineTo(g,u)}function d(){G.point=g}function q(){b.closePath()}var c=
4.5,G={point:g,lineStart:function(){G.point=u},lineEnd:d,polygonStart:function(){G.lineEnd=q},polygonEnd:function(){G.lineEnd=d;G.point=g},pointRadius:function(b){c=b;return G},result:r};return G}function Ia(b){function g(g){function a(u,d){u=b(u,d);g.point(u[0],u[1])}function d(){J=NaN;I.point=c;g.lineStart()}function c(a,d){var Z=fb([a,d]),U=b(a,d);u(J,v,F,M,C,P,J=U[0],v=U[1],F=a,M=Z[0],C=Z[1],P=Z[2],q,g);g.point(J,v)}function Z(){I.point=a;g.lineEnd()}function U(){d();I.point=h;I.lineEnd=e}function h(b,
g){c(l=b,g);f=J;n=v;m=M;s=C;A=P;I.point=c}function e(){u(J,v,F,M,C,P,f,n,l,m,s,A,q,g);I.lineEnd=Z;Z()}var l,f,n,m,s,A,F,J,v,M,C,P,I={point:a,lineStart:d,lineEnd:Z,polygonStart:function(){g.polygonStart();I.lineStart=U},polygonEnd:function(){g.polygonEnd();I.lineStart=d}};return I}function u(g,q,c,h,e,l,f,n,m,s,A,F,J,v){var M=f-g,C=n-q,P=M*M+C*C;if(P>4*a&&J--){var I=h+s,T=e+A,r=l+F,t=Math.sqrt(I*I+T*T+r*r),K=Math.asin(r/=t),x=Math.abs(Math.abs(r)-1)<aa?(c+m)/2:Math.atan2(T,I),w=b(x,K),K=w[0],w=w[1],
z=K-g,y=w-q,Wa=C*z-M*y;if(Wa*Wa/P>a||0.3<Math.abs((M*z+C*y)/P-0.5)||h*s+e*A+l*F<d)u(g,q,c,h,e,l,K,w,x,I/=t,T/=t,r,J,v),v.point(K,w),u(K,w,x,I,T,r,f,n,m,s,A,F,J,v)}}var a=0.5,d=Math.cos(30*$),q=16;g.precision=function(b){if(!arguments.length)return Math.sqrt(a);q=0<(a=b*b)&&16;return g};return g}function ca(b){var g=Ia(function(g,a){return b([g*qa,a*qa])});return function(b){b=g(b);return{point:function(g,a){b.point(g*$,a*$)},sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},
polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}}function cb(b){return Ob(function(){return b})()}function Ob(b){function g(b){b=G(b[0]*$,b[1]*$);return[b[0]*e+v,M-b[1]*e]}function a(b){return(b=G.invert((b[0]-v)/e,(M-b[1])/e))&&[b[0]*qa,b[1]*qa]}function d(){G=$a(h=Ca(A,F,J),q);var b=q(m,s);v=l-b[0]*e;M=f+b[1]*e;return c()}function c(){r&&(r.valid=!1,r=null);return g}var q,h,G,X=Ia(function(b,g){b=q(b,g);return[b[0]*e+v,M-b[1]*e]}),e=150,l=480,f=250,m=0,s=0,A=0,F=
0,J=0,v,M,C=xe,P=Da,I=null,T=null,r;g.stream=function(b){r&&(r.valid=!1);r=Bc(h,C(X(P(b))));r.valid=!0;return r};g.clipAngle=function(b){if(!arguments.length)return I;C=null==b?(I=b,xe):Id((I=+b)*$);return c()};g.clipExtent=function(b){if(!arguments.length)return T;T=b;P=null==b?Da:Tc(b[0][0],b[0][1],b[1][0],b[1][1]);return c()};g.scale=function(b){if(!arguments.length)return e;e=+b;return d()};g.translate=function(b){if(!arguments.length)return[l,f];l=+b[0];f=+b[1];return d()};g.center=function(b){if(!arguments.length)return[m*
qa,s*qa];m=b[0]%360*$;s=b[1]%360*$;return d()};g.rotate=function(b){if(!arguments.length)return[A*qa,F*qa,J*qa];A=b[0]%360*$;F=b[1]%360*$;J=2<b.length?b[2]%360*$:0;return d()};n.rebind(g,X,"precision");return function(){q=b.apply(this,arguments);g.invert=q.invert&&a;return d()}}function Bc(b,g){return{point:function(a,d){d=b(a*$,d*$);a=d[0];g.point(a>W?a-2*W:a<-W?a+2*W:a,d[1])},sphere:function(){g.sphere()},lineStart:function(){g.lineStart()},lineEnd:function(){g.lineEnd()},polygonStart:function(){g.polygonStart()},
polygonEnd:function(){g.polygonEnd()}}}function db(b,g){return[b,g]}function Ca(b,g,a){return b?g||a?$a(d(b),h(g,a)):d(b):g||a?h(g,a):db}function gc(b){return function(g,a){return g+=b,[g>W?g-2*W:g<-W?g+2*W:g,a]}}function d(b){var g=gc(b);g.invert=gc(-b);return g}function h(b,g){function a(b,g){var u=Math.cos(g),e=Math.cos(b)*u,u=Math.sin(b)*u,l=Math.sin(g),f=l*d+e*c;return[Math.atan2(u*q-f*h,e*d-l*c),ma(f*q+u*h)]}var d=Math.cos(b),c=Math.sin(b),q=Math.cos(g),h=Math.sin(g);a.invert=function(b,g){var a=
Math.cos(g),u=Math.cos(b)*a,a=Math.sin(b)*a,e=Math.sin(g),l=e*q-a*h;return[Math.atan2(a*q+e*h,u*d+l*c),ma(l*d-u*c)]};return a}function e(b,g){var a=Math.cos(b),d=Math.sin(b);return function(c,q,h,G){if(null!=c){if(c=l(a,c),q=l(a,q),0<h?c<q:c>q)c+=2*h*W}else c=b+2*h*W,q=b;for(var e,f=h*g;0<h?c>q:c<q;c-=f)G.point((e=Kb([a,-d*Math.cos(c),-d*Math.sin(c)]))[0],e[1])}}function l(b,g){var a=fb(g);a[0]-=b;Yb(a);var d=1<-a[1]?0:-1>-a[1]?W:Math.acos(-a[1]);return((0>-a[2]?-d:d)+2*Math.PI-aa)%(2*Math.PI)}function s(b,
g,a){var d=n.range(b,g-aa,a).concat(g);return function(b){return d.map(function(g){return[b,g]})}}function m(b,g,a){var d=n.range(b,g-aa,a).concat(g);return function(b){return d.map(function(g){return[g,b]})}}function v(b){return b.source}function C(b){return b.target}function I(b,g,a,d){var c=Math.cos(g),q=Math.sin(g),h=Math.cos(d),G=Math.sin(d),e=c*Math.cos(b),l=c*Math.sin(b),f=h*Math.cos(a),n=h*Math.sin(a),m=2*Math.asin(Math.sqrt(va(d-g)+c*h*va(a-b))),s=1/Math.sin(m);a=m?function(b){var g=Math.sin(b*=
m)*s,a=Math.sin(m-b)*s;b=a*e+g*f;var u=a*l+g*n,g=a*q+g*G;return[Math.atan2(u,b)*qa,Math.atan2(g,Math.sqrt(b*b+u*u))*qa]}:function(){return[b*qa,g*qa]};a.distance=m;return a}function pb(b,g){function a(g,u){var d=Math.cos(g),c=Math.cos(u),d=b(d*c);return[d*c*Math.sin(g),d*Math.sin(u)]}a.invert=function(b,a){var u=Math.sqrt(b*b+a*a),d=g(u),c=Math.sin(d),d=Math.cos(d);return[Math.atan2(b*c,u*d),Math.asin(u&&a*c/u)]};return a}function Wa(b,g){function a(b,g){var u=Math.abs(Math.abs(g)-W/2)<aa?0:q/Math.pow(Math.tan(W/
4+g/2),c);return[u*Math.sin(c*b),q-u*Math.cos(c*b)]}var d=Math.cos(b),c=b===g?Math.sin(b):Math.log(d/Math.cos(g))/Math.log(Math.tan(W/4+g/2)/Math.tan(W/4+b/2)),q=d*Math.pow(Math.tan(W/4+b/2),c)/c;if(!c)return Yc;a.invert=function(b,g){var a=q-g,u=(0<c?1:0>c?-1:0)*Math.sqrt(b*b+a*a);return[Math.atan2(b,a)/c,2*Math.atan(Math.pow(q/u,1/c))-W/2]};return a}function ye(b,g){function a(b,g){var u=q-g;return[u*Math.sin(c*b),q-u*Math.cos(c*b)]}var d=Math.cos(b),c=b===g?Math.sin(b):(d-Math.cos(g))/(g-b),q=
d/c+b;if(Math.abs(c)<aa)return db;a.invert=function(b,g){var a=q-g;return[Math.atan2(b,a)/c,q-(0<c?1:0>c?-1:0)*Math.sqrt(b*b+a*a)]};return a}function Yc(b,g){return[b,Math.log(Math.tan(W/4+g/2))]}function ze(b){var g=cb(b),a=g.scale,d=g.translate,c=g.clipExtent,q;g.scale=function(){var b=a.apply(g,arguments);return b===g?q?g.clipExtent(null):g:b};g.translate=function(){var b=d.apply(g,arguments);return b===g?q?g.clipExtent(null):g:b};g.clipExtent=function(b){var h=c.apply(g,arguments);if(h===g){if(q=
null==b){var e=W*a(),l=d();c([[l[0]-e,l[1]-e],[l[0]+e,l[1]+e]])}}else q&&(h=null);return h};return g.clipExtent(null)}function Jd(b,g){var a=Math.cos(g)*Math.sin(b);return[Math.log((1+a)/(1-a))/2,Math.atan2(Math.tan(g),Math.cos(b))]}function Zc(b){function g(g){function h(){e.push("M",q(b(ha),G))}for(var e=[],ha=[],l=-1,f=g.length,n,m=ga(a),s=ga(d);++l<f;)c.call(this,n=g[l],l)?ha.push([+m.call(this,n,l),+s.call(this,n,l)]):ha.length&&(h(),ha=[]);ha.length&&h();return e.length?e.join(""):null}var a=
jb,d=K,c=Mb,q=Ta,h=q.key,G=0.7;g.x=function(b){if(!arguments.length)return a;a=b;return g};g.y=function(b){if(!arguments.length)return d;d=b;return g};g.defined=function(b){if(!arguments.length)return c;c=b;return g};g.interpolate=function(b){if(!arguments.length)return h;h="function"===typeof b?q=b:(q=Kd.get(b)||Ta).key;return g};g.tension=function(b){if(!arguments.length)return G;G=b;return g};return g}function jb(b){return b[0]}function K(b){return b[1]}function Ta(b){return b.join("L")}function O(b){for(var g=
0,a=b.length,d=b[0],c=[d[0],",",d[1]];++g<a;)c.push("V",(d=b[g])[1],"H",d[0]);return c.join("")}function Ld(b){for(var g=0,a=b.length,d=b[0],c=[d[0],",",d[1]];++g<a;)c.push("H",(d=b[g])[0],"V",d[1]);return c.join("")}function $c(b,g){if(1>g.length||b.length!=g.length&&b.length!=g.length+2)return Ta(b);var a=b.length!=g.length,d="",c=b[0],q=b[1],h=g[0],G=h,e=1;a&&(d+="Q"+(q[0]-2*h[0]/3)+","+(q[1]-2*h[1]/3)+","+q[0]+","+q[1],c=b[1],e=2);if(1<g.length){G=g[1];q=b[e];e++;d+="C"+(c[0]+h[0])+","+(c[1]+
h[1])+","+(q[0]-G[0])+","+(q[1]-G[1])+","+q[0]+","+q[1];for(c=2;c<g.length;c++,e++)q=b[e],G=g[c],d+="S"+(q[0]-G[0])+","+(q[1]-G[1])+","+q[0]+","+q[1]}a&&(a=b[e],d+="Q"+(q[0]+2*G[0]/3)+","+(q[1]+2*G[1]/3)+","+a[0]+","+a[1]);return d}function Md(b,g){for(var a=[],d=(1-g)/2,c,q=b[0],h=b[1],G=1,e=b.length;++G<e;)c=q,q=h,h=b[G],a.push([d*(h[0]-c[0]),d*(h[1]-c[1])]);return a}function F(b){if(3>b.length)return Ta(b);var g=1,a=b.length,d=b[0],c=d[0],q=d[1],h=[c,c,c,(d=b[1])[0]],G=[q,q,q,d[1]],c=[c,",",q];
for(Cb(c,h,G);++g<a;)d=b[g],h.shift(),h.push(d[0]),G.shift(),G.push(d[1]),Cb(c,h,G);for(g=-1;2>++g;)h.shift(),h.push(d[0]),G.shift(),G.push(d[1]),Cb(c,h,G);return c.join("")}function Fa(b,g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]+b[3]*g[3]}function Cb(b,g,a){b.push("C",Fa(Ae,g),",",Fa(Ae,a),",",Fa(Be,g),",",Fa(Be,a),",",Fa(hc,g),",",Fa(hc,a))}function A(b,g){return(g[1]-b[1])/(g[0]-b[0])}function J(b,g,a,d){var c,q,h;b=d[b];c=b[0];q=b[1];b=d[g];g=b[0];h=b[1];b=d[a];return 0<(b[1]-q)*(g-c)-(h-q)*(b[0]-
c)}function M(b,g,a){return(a[0]-g[0])*(b[1]-g[1])<(a[1]-g[1])*(b[0]-g[0])}function P(b,g,a,d){var c=b[0],q=a[0],h=g[0]-c,G=d[0]-q;b=b[1];a=a[1];g=g[1]-b;d=d[1]-a;q=(G*(b-a)-d*(c-q))/(d*h-G*g);return[c+q*h,b+q*g]}function T(b,g){var a=b.map(function(b,g){return{index:g,x:b[0],y:b[1]}}).sort(function(b,g){return b.y<g.y?-1:b.y>g.y?1:b.x<g.x?-1:b.x>g.x?1:0}),d=null,c={list:[],leftEnd:null,rightEnd:null,init:function(){c.leftEnd=c.createHalfEdge(null,"l");c.rightEnd=c.createHalfEdge(null,"l");c.leftEnd.r=
c.rightEnd;c.rightEnd.l=c.leftEnd;c.list.unshift(c.leftEnd,c.rightEnd)},createHalfEdge:function(b,g){return{edge:b,side:g,vertex:null,l:null,r:null}},insert:function(b,g){g.l=b;g.r=b.r;b.r.l=g;b.r=g},leftBound:function(b){var g=c.leftEnd;do g=g.r;while(g!=c.rightEnd&&q.rightOf(g,b));return g=g.l},del:function(b){b.l.r=b.r;b.r.l=b.l;b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return null==b.edge?d:b.edge.region[b.side]},rightRegion:function(b){return null==
b.edge?d:b.edge.region[Nd[b.side]]}},q={bisect:function(b,g){var a={region:{l:b,r:g},ep:{l:null,r:null}},u=g.x-b.x,d=g.y-b.y;a.c=b.x*u+b.y*d+0.5*(u*u+d*d);(0<u?u:-u)>(0<d?d:-d)?(a.a=1,a.b=d/u,a.c/=u):(a.b=1,a.a=u/d,a.c/=d);return a},intersect:function(b,g){var a=b.edge,u=g.edge;if(!a||!u||a.region.r==u.region.r)return null;var d=a.a*u.b-a.b*u.a;if(1E-10>Math.abs(d))return null;var c=(a.c*u.b-u.c*a.b)/d,d=(u.c*a.a-a.c*u.a)/d,q=a.region.r,Z=u.region.r;q.y<Z.y||q.y==Z.y&&q.x<Z.x?q=b:(q=g,a=u);return(a=
c>=a.region.r.x)&&"l"===q.side||!a&&"r"===q.side?null:{x:c,y:d}},rightOf:function(b,g){var a=b.edge,u=a.region.r,d=g.x>u.x;if(d&&"l"===b.side)return 1;if(!d&&"r"===b.side)return 0;if(1===a.a){var c=g.y-u.y,q=g.x-u.x,Z=0,h=0;!d&&0>a.b||d&&0<=a.b?h=Z=c>=a.b*q:(h=g.x+g.y*a.b>a.c,0>a.b&&(h=!h),h||(Z=1));Z||(u=u.x-a.region.l.x,h=a.b*(q*q-c*c)<u*c*(1+2*q/u+a.b*a.b),0>a.b&&(h=!h))}else q=a.c-a.a*g.x,a=g.y-q,c=g.x-u.x,u=q-u.y,h=a*a>c*c+u*u;return"l"===b.side?h:!h},endPoint:function(b,a,u){b.ep[a]=u;b.ep[Nd[a]]&&
g(b)},distance:function(b,g){var a=b.x-g.x,u=b.y-g.y;return Math.sqrt(a*a+u*u)}},h={list:[],insert:function(b,g,a){b.vertex=g;b.ystar=g.y+a;a=0;for(var u=h.list,d=u.length;a<d;a++){var c=u[a];if(!(b.ystar>c.ystar||b.ystar==c.ystar&&g.x>c.vertex.x))break}u.splice(a,0,b)},del:function(b){for(var g=0,a=h.list,u=a.length;g<u&&a[g]!=b;++g);a.splice(g,1)},empty:function(){return 0===h.list.length},nextEvent:function(b){for(var g=0,a=h.list,u=a.length;g<u;++g)if(a[g]==b)return a[g+1];return null},min:function(){var b=
h.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return h.list.shift()}};c.init();for(var d=a.shift(),G=a.shift(),e,l,f,n,m,s,A,F,J;;)if(h.empty()||(e=h.min()),G&&(h.empty()||G.y<e.y||G.y==e.y&&G.x<e.x)){l=c.leftBound(G);f=c.right(l);A=c.rightRegion(l);J=q.bisect(A,G);s=c.createHalfEdge(J,"l");c.insert(l,s);if(F=q.intersect(l,s))h.del(l),h.insert(l,F,q.distance(F,G));l=s;s=c.createHalfEdge(J,"r");c.insert(l,s);(F=q.intersect(s,f))&&h.insert(s,F,q.distance(F,G));G=a.shift()}else if(h.empty())break;
else{l=h.extractMin();n=c.left(l);f=c.right(l);m=c.right(f);A=c.leftRegion(l);s=c.rightRegion(f);F=l.vertex;q.endPoint(l.edge,l.side,F);q.endPoint(f.edge,f.side,F);c.del(l);h.del(f);c.del(f);l="l";A.y>s.y&&(l=A,A=s,s=l,l="r");J=q.bisect(A,s);s=c.createHalfEdge(J,l);c.insert(n,s);q.endPoint(J,Nd[l],F);if(F=q.intersect(n,s))h.del(n),h.insert(n,F,q.distance(F,A));(F=q.intersect(s,m))&&h.insert(s,F,q.distance(F,A))}for(l=c.right(c.leftEnd);l!=c.rightEnd;l=c.right(l))g(l.edge)}function ic(b){return b.x}
function jc(b){return b.y}function ua(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Cc(b,g,a,d,c,q){if(!b(g,a,d,c,q)){var h=0.5*(a+c),G=0.5*(d+q);g=g.nodes;g[0]&&Cc(b,g[0],a,d,h,G);g[1]&&Cc(b,g[1],h,d,c,G);g[2]&&Cc(b,g[2],a,G,h,q);g[3]&&Cc(b,g[3],h,G,c,q)}}function Od(b,g){b=n.rgb(b);g=n.rgb(g);var a=b.r,d=b.g,c=b.b,q=g.r-a,h=g.g-d,G=g.b-c;return function(b){return"#"+vb(Math.round(a+q*b))+vb(Math.round(d+h*b))+vb(Math.round(c+G*b))}}function Ce(b){var g=[b.a,b.b],a=[b.c,b.d],d=De(g),
c=g[0]*a[0]+g[1]*a[1],q=-c;a[0]+=q*g[0];a[1]+=q*g[1];q=De(a)||0;g[0]*a[1]<a[0]*g[1]&&(g[0]*=-1,g[1]*=-1,d*=-1,c*=-1);this.rotate=(d?Math.atan2(g[1],g[0]):Math.atan2(-a[0],a[1]))*qa;this.translate=[b.e,b.f];this.scale=[d,q];this.skew=q?Math.atan2(c,q)*qa:0}function De(b){var g=Math.sqrt(b[0]*b[0]+b[1]*b[1]);g&&(b[0]/=g,b[1]/=g);return g}function qb(b,g){g-=b=+b;return function(a){return b+g*a}}function ad(b,g){var a=[],d=[],c,q=n.transform(b),h=n.transform(g),G=q.translate,e=h.translate,l=q.rotate,
f=h.rotate,s=q.skew,m=h.skew,q=q.scale,h=h.scale;G[0]!=e[0]||G[1]!=e[1]?(a.push("translate(",null,",",null,")"),d.push({i:1,x:qb(G[0],e[0])},{i:3,x:qb(G[1],e[1])})):e[0]||e[1]?a.push("translate("+e+")"):a.push("");l!=f?(180<l-f?f+=360:180<f-l&&(l+=360),d.push({i:a.push(a.pop()+"rotate(",null,")")-2,x:qb(l,f)})):f&&a.push(a.pop()+"rotate("+f+")");s!=m?d.push({i:a.push(a.pop()+"skewX(",null,")")-2,x:qb(s,m)}):m&&a.push(a.pop()+"skewX("+m+")");q[0]!=h[0]||q[1]!=h[1]?(c=a.push(a.pop()+"scale(",null,",",
null,")"),d.push({i:c-4,x:qb(q[0],h[0])},{i:c-2,x:qb(q[1],h[1])})):(1!=h[0]||1!=h[1])&&a.push(a.pop()+"scale("+h+")");c=d.length;return function(b){for(var g=-1,q;++g<c;)a[(q=d[g]).i]=q.x(b);return a.join("")}}function Ee(b,g){var a={},d={},c;for(c in b)c in g?a[c]=("transform"==c?ad:Pb)(b[c],g[c]):d[c]=b[c];for(c in g)c in b||(d[c]=g[c]);return function(b){for(c in a)d[c]=a[c](b);return d}}function Fe(b,g){var a,d,c=0,q=[],h=[],G,e;b+="";g+="";for(d=bd.lastIndex=0;a=bd.exec(g);++d)a.index&&q.push(g.substring(c,
a.index)),h.push({i:q.length,x:a[0]}),q.push(null),c=bd.lastIndex;c<g.length&&q.push(g.substring(c));d=0;for(G=h.length;(a=bd.exec(b))&&d<G;++d)if(e=h[d],e.x==a[0]){if(e.i)if(null==q[e.i+1]){q[e.i-1]+=e.x;q.splice(e.i,1);for(a=d+1;a<G;++a)h[a].i--}else{q[e.i-1]+=e.x+q[e.i+1];q.splice(e.i,2);for(a=d+1;a<G;++a)h[a].i-=2}else if(null==q[e.i+1])q[e.i]=e.x;else{q[e.i]=e.x+q[e.i+1];q.splice(e.i+1,1);for(a=d+1;a<G;++a)h[a].i--}h.splice(d,1);G--;d--}else e.x=qb(parseFloat(a[0]),parseFloat(e.x));for(;d<G;)e=
h.pop(),null==q[e.i+1]?q[e.i]=e.x:(q[e.i]=e.x+q[e.i+1],q.splice(e.i+1,1)),G--;return 1===q.length?null==q[0]?(e=h[0].x,function(b){return e(b)+""}):function(){return g}:function(b){for(d=0;d<G;++d)q[(e=h[d]).i]=e.x(b);return q.join("")}}function Pb(b,g){for(var a=n.interpolators.length,d;0<=--a&&!(d=n.interpolators[a](b,g)););return d}function Ge(b,g){var a=[],d=[],c=b.length,q=g.length,h=Math.min(b.length,g.length),G;for(G=0;G<h;++G)a.push(Pb(b[G],g[G]));for(;G<c;++G)d[G]=b[G];for(;G<q;++G)d[G]=
g[G];return function(b){for(G=0;G<h;++G)d[G]=a[G](b);return d}}function Uf(b){return function(g){return 0>=g?0:1<=g?1:b(g)}}function He(b){return function(g){return 1-b(1-g)}}function Ie(b){return function(g){return 0.5*(0.5>g?b(2*g):2-b(2-2*g))}}function Vf(b){return b*b}function Wf(b){return b*b*b}function Xf(b){return 1-Math.cos(b*W/2)}function Yf(b){return Math.pow(2,10*(b-1))}function Zf(b){return 1-Math.sqrt(1-b*b)}function $f(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:
b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function Je(b,g){g-=b;return function(a){return Math.round(b+g*a)}}function ag(b,g){g=g-(b=+b)?1/(g-b):0;return function(a){return(a-b)*g}}function bg(b,g){g=g-(b=+b)?1/(g-b):0;return function(a){return Math.max(0,Math.min(1,(a-b)*g))}}function cg(b){var g=b.source;b=b.target;var a;var d=b;if(g===d)a=g;else{a=Ke(g);for(var d=Ke(d),c=a.pop(),q=d.pop(),h=null;c===q;)h=c,c=a.pop(),q=d.pop();a=h}for(d=[g];g!==a;)g=g.parent,d.push(g);
for(g=d.length;b!==a;)d.splice(g,0,b),b=b.parent;return d}function Ke(b){for(var g=[],a=b.parent;null!=a;)g.push(b),b=a,a=a.parent;g.push(b);return g}function dg(b){b.fixed|=2}function eg(b){b.fixed&=-7}function fg(b){b.fixed|=4;b.px=b.x;b.py=b.y}function gg(b){b.fixed&=-5}function Le(b,g,a){var d=0,c=0;b.charge=0;if(!b.leaf)for(var q=b.nodes,h=q.length,G=-1,e;++G<h;)e=q[G],null!=e&&(Le(e,g,a),b.charge+=e.charge,d+=e.charge*e.cx,c+=e.charge*e.cy);b.point&&(b.leaf||(b.point.x+=Math.random()-0.5,b.point.y+=
Math.random()-0.5),g*=a[b.point.index],b.charge+=b.pointCharge=g,d+=g*b.point.x,c+=g*b.point.y);b.cx=d/b.charge;b.cy=c/b.charge}function Dc(b,g){n.rebind(b,g,"sort","children","value");b.nodes=b;b.links=hg;return b}function ig(b){return b.children}function jg(b){return b.value}function kg(b,g){return g.value-b.value}function hg(b){return n.merge(b.map(function(b){return(b.children||[]).map(function(a){return{source:b,target:a}})}))}function lg(b){return b.x}function mg(b){return b.y}function ng(b,
g,a){b.y0=g;b.y=a}function Pd(b){return n.range(b.length)}function Qd(b){var g=-1;b=b[0].length;for(var a=[];++g<b;)a[g]=0;return a}function og(b){for(var g=1,a=0,d=b[0][1],c,q=b.length;g<q;++g)if((c=b[g][1])>d)a=g,d=c;return a}function pg(b){return b.reduce(qg,0)}function qg(b,g){return b+g[1]}function rg(b,g){return Me(b,Math.ceil(Math.log(g.length)/Math.LN2+1))}function Me(b,g){for(var a=-1,d=+b[0],c=(b[1]-d)/g,q=[];++a<=g;)q[a]=c*a+d;return q}function sg(b){return[n.min(b),n.max(b)]}function Ne(b,
g){return b.parent==g.parent?1:2}function Rd(b){var g=b.children;return g&&g.length?g[0]:b._tree.thread}function Sd(b){var g=b.children,a;return g&&(a=g.length)?g[a-1]:b._tree.thread}function cd(b,g){var a=b.children;if(a&&(c=a.length))for(var d,c,q=-1;++q<c;)if(0<g(d=cd(a[q],g),b))b=d;return b}function tg(b,g){return b.x-g.x}function ug(b,g){return g.x-b.x}function vg(b,g){return b.depth-g.depth}function rb(b,g){function a(b,d){var c=b.children;if(c&&(f=c.length))for(var h,e=null,l=-1,f;++l<f;)h=
c[l],a(h,e),e=h;g(b,d)}a(b,null)}function wg(b,g){return b.value-g.value}function Td(b,g){var a=b._pack_next;b._pack_next=g;g._pack_prev=b;g._pack_next=a;a._pack_prev=g}function Oe(b,g){b._pack_next=g;g._pack_prev=b}function Pe(b,g){var a=g.x-b.x,d=g.y-b.y,c=b.r+g.r;return 0.999*c*c>a*a+d*d}function Qe(b){function g(b){d=Math.min(b.x-b.r,d);c=Math.max(b.x+b.r,c);q=Math.min(b.y-b.r,q);h=Math.max(b.y+b.r,h)}if((a=b.children)&&(A=a.length)){var a,d=Infinity,c=-Infinity,q=Infinity,h=-Infinity,e,l,f,n,
s,m,A;a.forEach(xg);e=a[0];e.x=-e.r;e.y=0;g(e);if(1<A&&(l=a[1],l.x=l.r,l.y=0,g(l),2<A)){f=a[2];Re(e,l,f);g(f);Td(e,f);e._pack_prev=f;Td(f,l);l=e._pack_next;for(n=3;n<A;n++){Re(e,l,f=a[n]);var F=0,J=1,v=1;for(s=l._pack_next;s!==l;s=s._pack_next,J++)if(Pe(s,f)){F=1;break}if(1==F)for(m=e._pack_prev;m!==s._pack_prev&&!Pe(m,f);m=m._pack_prev,v++);F?(J<v||J==v&&l.r<e.r?Oe(e,l=s):Oe(e=m,l),n--):(Td(e,f),l=f,g(f))}}e=(d+c)/2;l=(q+h)/2;for(n=s=0;n<A;n++)f=a[n],f.x-=e,f.y-=l,s=Math.max(s,f.r+Math.sqrt(f.x*
f.x+f.y*f.y));b.r=s;a.forEach(yg)}}function xg(b){b._pack_next=b._pack_prev=b}function yg(b){delete b._pack_next;delete b._pack_prev}function Se(b,g,a,d){var c=b.children;b.x=g+=d*b.x;b.y=a+=d*b.y;b.r*=d;if(c){b=-1;for(var q=c.length;++b<q;)Se(c[b],g,a,d)}}function Re(b,g,a){var d=b.r+a.r,c=g.x-b.x,q=g.y-b.y;if(d&&(c||q)){var h=g.r+a.r,e=c*c+q*q,h=h*h,d=d*d;g=0.5+(d-h)/(2*e);h=Math.sqrt(Math.max(0,2*h*(d+e)-(d-=e)*d-h*h))/(2*e);a.x=b.x+g*c+h*q;a.y=b.y+g*q-h*c}else a.x=b.x+d,a.y=b.y}function zg(b){return 1+
n.max(b,function(b){return b.y})}function Ag(b){return b.reduce(function(b,a){return b+a.x},0)/b.length}function Te(b){var g=b.children;return g&&g.length?Te(g[0]):b}function Ue(b){var g=b.children,a;return g&&(a=g.length)?Ue(g[a-1]):b}function Ud(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function Ve(b,g){var a=b.x+g[3],d=b.y+g[0],c=b.dx-g[1]-g[3],q=b.dy-g[0]-g[2];0>c&&(a+=c/2,c=0);0>q&&(d+=q/2,q=0);return{x:a,y:d,dx:c,dy:q}}function Qb(b){var g=b[0];b=b[b.length-1];return g<b?[g,b]:[b,g]}function dd(b){return b.rangeExtent?
b.rangeExtent():Qb(b.range())}function Bg(b,g,a,d){var c=a(b[0],b[1]),q=d(g[0],g[1]);return function(b){return q(c(b))}}function ed(b,g){var a=0,d=b.length-1,c=b[a],q=b[d],h;q<c&&(h=a,a=d,d=h,h=c,c=q,q=h);b[a]=g.floor(c);b[d]=g.ceil(q);return b}function We(b){return b?{floor:function(g){return Math.floor(g/b)*b},ceil:function(g){return Math.ceil(g/b)*b}}:Cg}function Dg(b,g,a,d){var c=[],q=[],h=0,e=Math.min(b.length,g.length)-1;b[e]<b[0]&&(b=b.slice().reverse(),g=g.slice().reverse());for(;++h<=e;)c.push(a(b[h-
1],b[h])),q.push(d(g[h-1],g[h]));return function(g){var a=n.bisect(b,g,1,e)-1;return q[a](c[a](g))}}function Xe(b,g,a,d){function c(){var l=2<Math.min(b.length,g.length)?Dg:Bg,U=d?bg:ag;h=l(b,g,U,a);e=l(g,b,U,Pb);return q}function q(b){return h(b)}var h,e;q.invert=function(b){return e(b)};q.domain=function(g){if(!arguments.length)return b;b=g.map(Number);return c()};q.range=function(b){if(!arguments.length)return g;g=b;return c()};q.rangeRound=function(b){return q.range(b).interpolate(Je)};q.clamp=
function(b){if(!arguments.length)return d;d=b;return c()};q.interpolate=function(b){if(!arguments.length)return a;a=b;return c()};q.ticks=function(g){return n.range.apply(n,kc(b,g))};q.tickFormat=function(g,a){return Vd(b,g,a)};q.nice=function(g){ed(b,We(g?kc(b,g)[2]:Ye(b)));return c()};q.copy=function(){return Xe(b,g,a,d)};return c()}function Wd(b,g){return n.rebind(b,g,"range","rangeRound","interpolate","clamp")}function Ye(b){b=Qb(b);return Math.pow(10,Math.round(Math.log(b[1]-b[0])/Math.LN10)-
1)}function kc(b,g){var a=Qb(b),d=a[1]-a[0],c=Math.pow(10,Math.floor(Math.log(d/g)/Math.LN10)),d=g/d*c;0.15>=d?c*=10:0.35>=d?c*=5:0.75>=d&&(c*=2);a[0]=Math.ceil(a[0]/c)*c;a[1]=Math.floor(a[1]/c)*c+0.5*c;a[2]=c;return a}function Vd(b,g,a){var d=-Math.floor(Math.log(kc(b,g)[2])/Math.LN10+0.01);return n.format(a?a.replace(Ze,function(b,g,a,u,c,h,e,l,f,n){return[g,a,u,c,h,e,l,f||"."+(d-2*("%"===n)),n].join("")}):",."+d+"f")}function $e(b,g,a,d,c){function q(g){return b(a(g))}q.invert=function(g){return d(b.invert(g))};
q.domain=function(g){if(!arguments.length)return c;0>g[0]?(a=Xd,d=Eg):(a=Yd,d=af);b.domain((c=g.map(Number)).map(a));return q};q.base=function(b){if(!arguments.length)return g;g=+b;return q};q.nice=function(){function d(b){return Math.pow(g,Math.floor(Math.log(b)/Math.log(g)))}function h(b){return Math.pow(g,Math.ceil(Math.log(b)/Math.log(g)))}b.domain(ed(c,a===Yd?{floor:d,ceil:h}:{floor:function(b){return-h(-b)},ceil:function(b){return-d(-b)}}).map(a));return q};q.ticks=function(){var c=Qb(b.domain()),
q=[];if(c.every(isFinite)){var h=Math.log(g),e=Math.floor(c[0]/h),h=Math.ceil(c[1]/h),l=d(c[0]),c=d(c[1]),U=g%1?2:g;if(a===Xd)for(q.push(-Math.pow(g,-e));e++<h;)for(var f=U-1;0<f;f--)q.push(-Math.pow(g,-e)*f);else{for(;e<h;e++)for(f=1;f<U;f++)q.push(Math.pow(g,e)*f);q.push(Math.pow(g,e))}for(e=0;q[e]<l;e++);for(h=q.length;q[h-1]>c;h--);q=q.slice(e,h)}return q};q.tickFormat=function(b,c){if(!arguments.length)return bf;2>arguments.length?c=bf:"function"!==typeof c&&(c=n.format(c));var h=Math.log(g),
e=Math.max(0.1,b/q.ticks().length),l=a===Xd?(U=-1E-12,Math.floor):(U=1E-12,Math.ceil),U;return function(b){return b/d(h*l(a(b)/h+U))<=e?c(b):""}};q.copy=function(){return $e(b.copy(),g,a,d,c)};return Wd(q,b)}function Yd(b){return Math.log(0>b?0:b)}function af(b){return Math.exp(b)}function Xd(b){return-Math.log(0<b?0:-b)}function Eg(b){return-Math.exp(-b)}function cf(b,g,a){function d(g){return b(c(g))}var c=fd(g),q=fd(1/g);d.invert=function(g){return q(b.invert(g))};d.domain=function(g){if(!arguments.length)return a;
b.domain((a=g.map(Number)).map(c));return d};d.ticks=function(b){return n.range.apply(n,kc(a,b))};d.tickFormat=function(b,g){return Vd(a,b,g)};d.nice=function(b){return d.domain(ed(a,We(b?kc(a,b)[2]:Ye(a))))};d.exponent=function(h){if(!arguments.length)return g;c=fd(g=h);q=fd(1/g);b.domain(a.map(c));return d};d.copy=function(){return cf(b.copy(),g,a)};return Wd(d,b)}function fd(b){return function(g){return 0>g?-Math.pow(-g,b):Math.pow(g,b)}}function df(b,g){function a(g){return q[((c.get(g)||c.set(g,
b.push(g)))-1)%q.length]}function d(g,a){return n.range(b.length).map(function(b){return g+a*b})}var c,q,h;a.domain=function(d){if(!arguments.length)return b;b=[];c=new t;for(var q=-1,h=d.length,e;++q<h;)c.has(e=d[q])||c.set(e,b.push(e));return a[g.t].apply(a,g.a)};a.range=function(b){if(!arguments.length)return q;q=b;h=0;g={t:"range",a:arguments};return a};a.rangePoints=function(c,e){2>arguments.length&&(e=0);var l=c[0],U=c[1],f=(U-l)/(Math.max(1,b.length-1)+e);q=d(2>b.length?(l+U)/2:l+f*e/2,f);
h=0;g={t:"rangePoints",a:arguments};return a};a.rangeBands=function(c,e,l){2>arguments.length&&(e=0);3>arguments.length&&(l=e);var U=c[1]<c[0],f=c[U-0],n=(c[1-U]-f)/(b.length-e+2*l);q=d(f+n*l,n);U&&q.reverse();h=n*(1-e);g={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(c,e,l){2>arguments.length&&(e=0);3>arguments.length&&(l=e);var U=c[1]<c[0],f=c[U-0],n=c[1-U],s=Math.floor((n-f)/(b.length-e+2*l));q=d(f+Math.round((n-f-(b.length-e)*s)/2),s);U&&q.reverse();h=Math.round(s*(1-e));g=
{t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return h};a.rangeExtent=function(){return Qb(g.a[0])};a.copy=function(){return df(b,g)};return a.domain(b)}function ef(b,g){function a(){var u=0,h=g.length;for(c=[];++u<h;)c[u-1]=n.quantile(b,u/h);return d}function d(b){if(!isNaN(b=+b))return g[n.bisect(c,b)]}var c;d.domain=function(g){if(!arguments.length)return b;b=g.filter(function(b){return!isNaN(b)}).sort(n.ascending);return a()};d.range=function(b){if(!arguments.length)return g;
g=b;return a()};d.quantiles=function(){return c};d.copy=function(){return ef(b,g)};return a()}function ff(b,g,a){function d(g){return a[Math.max(0,Math.min(h,Math.floor(q*(g-b))))]}function c(){q=a.length/(g-b);h=a.length-1;return d}var q,h;d.domain=function(a){if(!arguments.length)return[b,g];b=+a[0];g=+a[a.length-1];return c()};d.range=function(b){if(!arguments.length)return a;a=b;return c()};d.copy=function(){return ff(b,g,a)};d.invertExtent=function(g){g=a.indexOf(g);g=0>g?NaN:g/q+b;return[g,
g+1/q]};return c()}function gf(b,g){function a(d){if(d<=d)return g[n.bisect(b,d)]}a.domain=function(g){if(!arguments.length)return b;b=g;return a};a.range=function(b){if(!arguments.length)return g;g=b;return a};a.invertExtent=function(a){a=g.indexOf(a);return[b[a-1],b[a]]};a.copy=function(){return gf(b,g)};return a}function hf(b){function g(b){return+b}g.invert=g;g.domain=g.range=function(a){if(!arguments.length)return b;b=a.map(g);return g};g.ticks=function(g){return n.range.apply(n,kc(b,g))};g.tickFormat=
function(g,a){return Vd(b,g,a)};g.copy=function(){return hf(b)};return g}function Fg(b){return b.innerRadius}function Gg(b){return b.outerRadius}function jf(b){return b.startAngle}function kf(b){return b.endAngle}function lf(b){for(var g,a=-1,d=b.length,c,q;++a<d;)g=b[a],c=g[0],q=g[1]+Rb,g[0]=c*Math.cos(q),g[1]=c*Math.sin(q);return b}function mf(b){function g(g){function l(){m.push("M",e(b(A),s),n,f(b(X.reverse()),s),"Z")}for(var m=[],X=[],A=[],F=-1,J=g.length,v,M=ga(a),C=ga(c),P=a===d?function(){return T}:
ga(d),I=c===q?function(){return r}:ga(q),T,r;++F<J;)h.call(this,v=g[F],F)?(X.push([T=+M.call(this,v,F),r=+C.call(this,v,F)]),A.push([+P.call(this,v,F),+I.call(this,v,F)])):X.length&&(l(),X=[],A=[]);X.length&&l();return m.length?m.join(""):null}var a=jb,d=jb,c=0,q=K,h=Mb,e=Ta,l=e.key,f=e,n="L",s=0.7;g.x=function(b){if(!arguments.length)return d;a=d=b;return g};g.x0=function(b){if(!arguments.length)return a;a=b;return g};g.x1=function(b){if(!arguments.length)return d;d=b;return g};g.y=function(b){if(!arguments.length)return q;
c=q=b;return g};g.y0=function(b){if(!arguments.length)return c;c=b;return g};g.y1=function(b){if(!arguments.length)return q;q=b;return g};g.defined=function(b){if(!arguments.length)return h;h=b;return g};g.interpolate=function(b){if(!arguments.length)return l;l="function"===typeof b?e=b:(e=Kd.get(b)||Ta).key;f=e.reverse||e;n=e.closed?"M":"L";return g};g.tension=function(b){if(!arguments.length)return s;s=b;return g};return g}function Hg(b){return b.radius}function nf(b){return[b.x,b.y]}function Ig(b){return function(){var g=
b.apply(this,arguments),a=g[0],g=g[1]+Rb;return[a*Math.cos(g),a*Math.sin(g)]}}function Jg(){return 64}function Kg(){return"circle"}function of(b){b=Math.sqrt(b/W);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Ec(b,g){Ad(b,ya);b.id=g;return b}function Zd(b,g,a,d){var c=b.id;return Y(b,"function"===typeof a?function(b,h,e){b.__transition__[c].tween.set(g,d(a.call(b,b.__data__,h,e)))}:(a=d(a),function(b){b.__transition__[c].tween.set(g,a)}))}function Lg(b){null==b&&
(b="");return function(){this.textContent=b}}function gd(b,g,a,d){var c=b.__transition__||(b.__transition__={active:0,count:0}),q=c[a];if(!q){var h=d.time,q=c[a]={tween:new t,event:n.dispatch("start","end"),time:h,ease:d.ease,delay:d.delay,duration:d.duration};++c.count;n.timer(function(d){function e(d){if(c.active>a)return f();c.active=a;m.start.call(b,Z,g);q.tween.forEach(function(a,d){(d=d.call(b,Z,g))&&J.push(d)});l(d)||n.timer(l,0,h);return 1}function l(d){if(c.active!==a)return f();d=(d-A)/
F;for(var q=s(d),h=J.length;0<h;)J[--h].call(b,q);if(1<=d)return f(),m.end.call(b,Z,g),1}function f(){--c.count?delete c[a]:delete b.__transition__;return 1}var Z=b.__data__,s=q.ease,m=q.event,A=q.delay,F=q.duration,J=[];return A<=d?e(d):n.timer(e,A,h),1},0,h);return q}}function pf(b,a){b.attr("transform",function(b){return"translate("+a(b)+",0)"})}function qf(b,a){b.attr("transform",function(b){return"translate(0,"+a(b)+")"})}function Mg(b,a,d){c=[];if(d&&1<a.length){b=Qb(b.domain());for(var c,h=
-1,q=a.length,e=(a[1]-a[0])/++d,l,f;++h<q;)for(l=d;0<--l;)(f=+a[h]-l*e)>=b[0]&&c.push(f);--h;for(l=0;++l<d&&(f=+a[h]+l*e)<b[1];)c.push(f)}return c}function Sb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Tb(b,a,d){function c(a){var g=b(a),d=q(g,1);return a-g<d-a?g:d}function h(d){a(d=b(new Ja(d-1)),1);return d}function q(b,d){a(b=new Ja(+b),d);return b}function e(b,c,q){b=h(b);var l=[];if(1<q)for(;b<c;)d(b)%q||l.push(new Date(+b)),a(b,1);else for(;b<c;)l.push(new Date(+b)),
a(b,1);return l}b.floor=b;b.round=c;b.ceil=h;b.offset=q;b.range=e;var l=b.utc=hd(b);l.floor=l;l.round=hd(c);l.ceil=hd(h);l.offset=hd(q);l.range=function(b,a,g){try{Ja=Sb;var d=new Sb;d._=b;return e(d,a,g)}finally{Ja=Date}};return b}function hd(b){return function(a,d){try{Ja=Sb;var c=new Sb;c._=a;return b(c,d)._}finally{Ja=Date}}}function id(b,a,d,c){for(var h,q=0,e=a.length,l=d.length;q<e;){if(c>=l)return-1;h=a.charCodeAt(q++);if(37===h){if(h=Ng[a.charAt(q++)],!h||0>(c=h(b,d,c)))return-1}else if(h!=
d.charCodeAt(c++))return-1}return c}function jd(b){return RegExp("^(?:"+b.map(n.requote).join("|")+")","i")}function kd(b){for(var a=new t,d=-1,c=b.length;++d<c;)a.set(b[d].toLowerCase(),d);return a}function Ma(b,a,d){var c=0>b?"-":"";b=(c?-b:b)+"";var h=b.length;return c+(h<d?Array(d-h+1).join(a)+b:b)}function rf(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.d=+a[0],d+a[0].length):-1}function sf(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.H=+a[0],d+a[0].length):
-1}function $d(b){return b.toISOString()}function ae(b,a,d){function c(a){return b(a)}c.invert=function(a){return be(b.invert(a))};c.domain=function(a){if(!arguments.length)return b.domain().map(be);b.domain(a);return c};c.nice=function(b){return c.domain(ed(c.domain(),b))};c.ticks=function(d,u){var h=Qb(c.domain());if("function"!==typeof d){var e=(h[1]-h[0])/d,l=n.bisect(ld,e);if(l==ld.length)return a.year(h,d);if(!l)return b.ticks(d).map(be);Math.log(e/ld[l-1])<Math.log(ld[l]/e)&&--l;d=a[l];u=d[1];
d=d[0].range}return d(h[0],new Date(+h[1]+1),u)};c.tickFormat=function(){return d};c.copy=function(){return ae(b.copy(),a,d)};return Wd(c,b)}function be(b){return new Date(b)}function tf(b){return function(a){for(var d=b.length-1,c=b[d];!c[1](a);)c=b[--d];return c[0](a)}}function ce(b){var a=new Date(b,0,1);a.setFullYear(b);return a}function Og(b){var a=b.getFullYear(),d=ce(a),c=ce(a+1);return a+(b-d)/(c-d)}function de(b){var a=new Date(Date.UTC(b,0,1));a.setUTCFullYear(b);return a}function Pg(b){var a=
b.getUTCFullYear(),d=de(a),c=de(a+1);return a+(b-d)/(c-d)}function Qg(b){return JSON.parse(b.responseText)}function Rg(b){var a=Ra.createRange();a.selectNode(Ra.body);return a.createContextualFragment(b.responseText)}var n={version:"3.2.2"};Date.now||(Date.now=function(){return+new Date});var Ra=document,ub=Ra.documentElement,Oa=window;try{Ra.createElement("div").style.setProperty("opacity",0,"")}catch(yh){var uf=Oa.CSSStyleDeclaration.prototype,Sg=uf.setProperty;uf.setProperty=function(b,a,d){Sg.call(this,
b,a+"",d)}}n.ascending=function(b,a){return b<a?-1:b>a?1:b>=a?0:NaN};n.descending=function(b,a){return a<b?-1:a>b?1:a>=b?0:NaN};n.min=function(b,a){var d=-1,c=b.length,h,q;if(1===arguments.length){for(;++d<c&&!(null!=(h=b[d])&&h<=h);)h=void 0;for(;++d<c;)if(null!=(q=b[d])&&h>q)h=q}else{for(;++d<c&&!(null!=(h=a.call(b,b[d],d))&&h<=h);)h=void 0;for(;++d<c;)if(null!=(q=a.call(b,b[d],d))&&h>q)h=q}return h};n.max=function(b,a){var d=-1,c=b.length,h,q;if(1===arguments.length){for(;++d<c&&!(null!=(h=b[d])&&
h<=h);)h=void 0;for(;++d<c;)if(null!=(q=b[d])&&q>h)h=q}else{for(;++d<c&&!(null!=(h=a.call(b,b[d],d))&&h<=h);)h=void 0;for(;++d<c;)if(null!=(q=a.call(b,b[d],d))&&q>h)h=q}return h};n.extent=function(b,a){var d=-1,c=b.length,h,q,e;if(1===arguments.length){for(;++d<c&&!(null!=(h=e=b[d])&&h<=h);)h=e=void 0;for(;++d<c;)if(null!=(q=b[d]))h>q&&(h=q),e<q&&(e=q)}else{for(;++d<c&&!(null!=(h=e=a.call(b,b[d],d))&&h<=h);)h=void 0;for(;++d<c;)if(null!=(q=a.call(b,b[d],d)))h>q&&(h=q),e<q&&(e=q)}return[h,e]};n.sum=
function(b,a){var d=0,c=b.length,h,q=-1;if(1===arguments.length)for(;++q<c;){if(!isNaN(h=+b[q]))d+=h}else for(;++q<c;)if(!isNaN(h=+a.call(b,b[q],q)))d+=h;return d};n.mean=function(b,a){var d=b.length,h,e=0,q=-1,l=0;if(1===arguments.length)for(;++q<d;){if(c(h=b[q]))e+=(h-e)/++l}else for(;++q<d;)if(c(h=a.call(b,b[q],q)))e+=(h-e)/++l;return l?e:void 0};n.quantile=function(b,a){var d=(b.length-1)*a+1,c=Math.floor(d),h=+b[c-1];return(d-=c)?h+d*(b[c]-h):h};n.median=function(b,a){1<arguments.length&&(b=
b.map(a));b=b.filter(c);return b.length?n.quantile(b.sort(n.ascending),0.5):void 0};n.bisector=function(b){return{left:function(a,d,c,h){3>arguments.length&&(c=0);4>arguments.length&&(h=a.length);for(;c<h;){var q=c+h>>>1;b.call(a,a[q],q)<d?c=q+1:h=q}return c},right:function(a,d,c,h){3>arguments.length&&(c=0);4>arguments.length&&(h=a.length);for(;c<h;){var q=c+h>>>1;d<b.call(a,a[q],q)?h=q:c=q+1}return c}}};var vf=n.bisector(function(b){return b});n.bisectLeft=vf.left;n.bisect=n.bisectRight=vf.right;
n.shuffle=function(b){for(var a=b.length,d,c;a;)c=Math.random()*a--|0,d=b[a],b[a]=b[c],b[c]=d;return b};n.permute=function(b,a){for(var d=[],c=-1,h=a.length;++c<h;)d[c]=b[a[c]];return d};n.zip=function(){if(!(h=arguments.length))return[];for(var b=-1,a=n.min(arguments,f),d=Array(a);++b<a;)for(var c=-1,h,q=d[b]=Array(h);++c<h;)q[c]=arguments[c][b];return d};n.transpose=function(b){return n.zip.apply(n,b)};n.keys=function(b){var a=[],d;for(d in b)a.push(d);return a};n.values=function(b){var a=[],d;
for(d in b)a.push(b[d]);return a};n.entries=function(b){var a=[],d;for(d in b)a.push({key:d,value:b[d]});return a};n.merge=function(b){return Array.prototype.concat.apply([],b)};n.range=function(b,a,d){3>arguments.length&&(d=1,2>arguments.length&&(a=b,b=0));if(Infinity===(a-b)/d)throw Error("infinite range");var c=[],h;h=Math.abs(d);for(var q=1;h*q%1;)q*=10;h=q;var q=-1,e;b*=h;a*=h;d*=h;if(0>d)for(;(e=b+d*++q)>a;)c.push(e/h);else for(;(e=b+d*++q)<a;)c.push(e/h);return c};n.map=function(b){var a=new t,
d;for(d in b)a.set(d,b[d]);return a};a(t,{has:function(b){return Db+b in this},get:function(b){return this[Db+b]},set:function(b,a){return this[Db+b]=a},remove:function(b){b=Db+b;return b in this&&delete this[b]},keys:function(){var b=[];this.forEach(function(a){b.push(a)});return b},values:function(){var b=[];this.forEach(function(a,d){b.push(d)});return b},entries:function(){var b=[];this.forEach(function(a,d){b.push({key:a,value:d})});return b},forEach:function(b){for(var a in this)a.charCodeAt(0)===
wf&&b.call(this,a.substring(1),this[a])}});var Db="\x00",wf=Db.charCodeAt(0);n.nest=function(){function b(a,g,h){if(h>=c.length)return e?e.call(d,g):q?g.sort(q):g;for(var l=-1,f=g.length,n=c[h++],U,s,m=new t,A;++l<f;)(A=m.get(U=n(s=g[l])))?A.push(s):m.set(U,[s]);a?(s=a(),g=function(g,d){s.set(g,b(a,d,h))}):(s={},g=function(g,d){s[g]=b(a,d,h)});m.forEach(g);return s}function a(b,d){if(d>=c.length)return b;var u=[],q=h[d++];b.forEach(function(b,c){u.push({key:b,values:a(c,d)})});return q?u.sort(function(b,
a){return q(b.key,a.key)}):u}var d={},c=[],h=[],q,e;d.map=function(a,g){return b(g,a,0)};d.entries=function(d){return a(b(n.map,d,0),0)};d.key=function(b){c.push(b);return d};d.sortKeys=function(b){h[c.length-1]=b;return d};d.sortValues=function(b){q=b;return d};d.rollup=function(b){e=b;return d};return d};n.set=function(b){var a=new z;if(b)for(var d=0;d<b.length;d++)a.add(b[d]);return a};a(z,{has:function(b){return Db+b in this},add:function(b){this[Db+b]=!0;return b},remove:function(b){b=Db+b;return b in
this&&delete this[b]},values:function(){var b=[];this.forEach(function(a){b.push(a)});return b},forEach:function(b){for(var a in this)a.charCodeAt(0)===wf&&b.call(this,a.substring(1))}});n.behavior={};n.rebind=function(b,a){for(var d=1,c=arguments.length,h;++d<c;)b[h=arguments[d]]=w(b,a,a[h]);return b};var pe="webkit ms moz Moz o O".split(" "),tb=function(b){return Array.prototype.slice.call(b)};try{tb(ub.childNodes)[0].nodeType}catch(zh){tb=x}var Ad=[].__proto__?function(b,a){b.__proto__=a}:function(b,
a){for(var d in a)b[d]=a[d]};n.dispatch=function(){for(var b=new E,a=-1,d=arguments.length;++a<d;)b[arguments[a]]=R(b);return b};E.prototype.on=function(b,a){var d=b.indexOf("."),c="";0<=d&&(c=b.substring(d+1),b=b.substring(0,d));if(b)return 2>arguments.length?this[b].on(c):this[b].on(c,a);if(2===arguments.length){if(null==a)for(b in this)if(this.hasOwnProperty(b))this[b].on(c,null);return this}};n.event=null;n.requote=function(b){return b.replace(Tg,"\\$&")};var Tg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,
Bd=function(b,a){return a.querySelector(b)},Cd=function(b,a){return a.querySelectorAll(b)},Ug=ub[y(ub,"matchesSelector")],qe=function(b,a){return Ug.call(b,a)};"function"===typeof Sizzle&&(Bd=function(b,a){return Sizzle(b,a)[0]||null},Cd=function(b,a){return Sizzle.uniqueSort(Sizzle(b,a))},qe=Sizzle.matchesSelector);n.selection=function(){return xf};var ia=n.selection.prototype=[];ia.select=function(b){var a=[],d,c,h,q;"function"!==typeof b&&(b=H(b));for(var e=-1,l=this.length;++e<l;){a.push(d=[]);
d.parentNode=(h=this[e]).parentNode;for(var f=-1,n=h.length;++f<n;)(q=h[f])?(d.push(c=b.call(q,q.__data__,f)),c&&"__data__"in q&&(c.__data__=q.__data__)):d.push(null)}return N(a)};ia.selectAll=function(b){var a=[],d,c;"function"!==typeof b&&(b=V(b));for(var h=-1,q=this.length;++h<q;)for(var e=this[h],l=-1,f=e.length;++l<f;)if(c=e[l])a.push(d=tb(b.call(c,c.__data__,l))),d.parentNode=c;return N(a)};var ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:ee,qualify:function(b){var a=b.indexOf(":"),d=b;0<=a&&(d=b.substring(0,a),b=b.substring(a+1));return ee.hasOwnProperty(d)?{space:ee[d],local:b}:b}};ia.attr=function(b,a){if(2>arguments.length){if("string"===typeof b){var d=this.node();b=n.ns.qualify(b);return b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}for(a in b)this.each(L(a,b[a]));return this}return this.each(L(b,a))};ia.classed=function(b,
a){if(2>arguments.length){if("string"===typeof b){var d=this.node(),c=(b=b.trim().split(/^|\s+/g)).length,h=-1;if(a=d.classList)for(;++h<c;){if(!a.contains(b[h]))return!1}else for(a=d.getAttribute("class");++h<c;)if(!la(b[h]).test(a))return!1;return!0}for(a in b)this.each(xa(a,b[a]));return this}return this.each(xa(b,a))};ia.style=function(b,a,d){var c=arguments.length;if(3>c){if("string"!==typeof b){2>c&&(a="");for(d in b)this.each(Q(d,b[d],a));return this}if(2>c)return Oa.getComputedStyle(this.node(),
null).getPropertyValue(b);d=""}return this.each(Q(b,a,d))};ia.property=function(b,a){if(2>arguments.length){if("string"===typeof b)return this.node()[b];for(a in b)this.each(Ga(a,b[a]));return this}return this.each(Ga(b,a))};ia.text=function(b){return arguments.length?this.each("function"===typeof b?function(){var a=b.apply(this,arguments);this.textContent=null==a?"":a}:null==b?function(){this.textContent=""}:function(){this.textContent=b}):this.node().textContent};ia.html=function(b){return arguments.length?
this.each("function"===typeof b?function(){var a=b.apply(this,arguments);this.innerHTML=null==a?"":a}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};ia.append=function(b){function a(){return this.appendChild(Ra.createElementNS(this.namespaceURI,b))}function d(){return this.appendChild(Ra.createElementNS(b.space,b.local))}b=n.ns.qualify(b);return this.select(b.local?d:a)};ia.insert=function(b,a){function d(c,h){return this.insertBefore(Ra.createElementNS(this.namespaceURI,
b),a.call(this,c,h))}function c(d,h){return this.insertBefore(Ra.createElementNS(b.space,b.local),a.call(this,d,h))}b=n.ns.qualify(b);"function"!==typeof a&&(a=H(a));return this.select(b.local?c:d)};ia.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})};ia.data=function(b,a){function d(b,c){var h,u=b.length,q=c.length,e=Math.min(u,q),s=Array(q),Z=Array(q),m=Array(u),U,A;if(a){var e=new t,ha=new t,F=[],J;for(h=-1;++h<u;)J=a.call(U=b[h],U.__data__,h),e.has(J)?
m[h]=U:e.set(J,U),F.push(J);for(h=-1;++h<q;)J=a.call(c,A=c[h],h),(U=e.get(J))?(s[h]=U,U.__data__=A):ha.has(J)||(Z[h]={__data__:A}),ha.set(J,A),e.remove(J);for(h=-1;++h<u;)e.has(F[h])&&(m[h]=b[h])}else{for(h=-1;++h<e;)U=b[h],A=c[h],U?(U.__data__=A,s[h]=U):Z[h]={__data__:A};for(;h<q;++h)Z[h]={__data__:c[h]};for(;h<u;++h)m[h]=b[h]}Z.update=s;Z.parentNode=s.parentNode=m.parentNode=b.parentNode;l.push(Z);f.push(s);n.push(m)}var c=-1,h=this.length,q,e;if(!arguments.length){for(b=Array(h=(q=this[0]).length);++c<
h;)if(e=q[c])b[c]=e.__data__;return b}var l=fa([]),f=N([]),n=N([]);if("function"===typeof b)for(;++c<h;)d(q=this[c],b.call(q,q.parentNode.__data__,c));else for(;++c<h;)d(q=this[c],b);f.enter=function(){return l};f.exit=function(){return n};return f};ia.datum=function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};ia.filter=function(b){var a=[],d,c,h;"function"!==typeof b&&(b=La(b));for(var q=0,e=this.length;q<e;q++){a.push(d=[]);d.parentNode=(c=this[q]).parentNode;
for(var l=0,f=c.length;l<f;l++)(h=c[l])&&b.call(h,h.__data__,l)&&d.push(h)}return N(a)};ia.order=function(){for(var b=-1,a=this.length;++b<a;)for(var d=this[b],c=d.length-1,h=d[c],q;0<=--c;)if(q=d[c])h&&h!==q.nextSibling&&h.parentNode.insertBefore(q,h),h=q;return this};ia.sort=function(b){b=pa.apply(this,arguments);for(var a=-1,d=this.length;++a<d;)this[a].sort(b);return this.order()};ia.each=function(b){return Y(this,function(a,d,c){b.call(a,a.__data__,d,c)})};ia.call=function(b){var a=tb(arguments);
b.apply(a[0]=this,a);return this};ia.empty=function(){return!this.node()};ia.node=function(){for(var b=0,a=this.length;b<a;b++)for(var d=this[b],c=0,h=d.length;c<h;c++){var q=d[c];if(q)return q}return null};ia.size=function(){var b=0;this.each(function(){++b});return b};var kb=[];n.selection.enter=fa;n.selection.enter.prototype=kb;kb.append=ia.append;kb.insert=ia.insert;kb.empty=ia.empty;kb.node=ia.node;kb.call=ia.call;kb.size=ia.size;kb.select=function(b){for(var a=[],d,c,h,q,e,l=-1,f=this.length;++l<
f;){h=(q=this[l]).update;a.push(d=[]);d.parentNode=q.parentNode;for(var n=-1,s=q.length;++n<s;)(e=q[n])?(d.push(h[n]=c=b.call(q.parentNode,e.__data__,n)),c.__data__=e.__data__):d.push(null)}return N(a)};ia.transition=function(){var b=Fc||++yf,a=[],d,c,h=Object.create(md);h.time=Date.now();for(var q=-1,e=this.length;++q<e;){a.push(d=[]);for(var l=this[q],f=-1,n=l.length;++f<n;)(c=l[f])&&gd(c,f,b,h),d.push(c)}return Ec(a,b)};n.select=function(b){b=["string"===typeof b?Bd(b,Ra):b];b.parentNode=ub;return N([b])};
n.selectAll=function(b){b=tb("string"===typeof b?Cd(b,Ra):b);b.parentNode=ub;return N([b])};var xf=n.select(ub);ia.on=function(b,a,d){var c=arguments.length;if(3>c){if("string"!==typeof b){2>c&&(a=!1);for(d in b)this.each(Ka(d,b[d],a));return this}if(2>c)return(c=this.node()["__on"+b])&&c._;d=!1}return this.each(Ka(b,a,d))};var Dd=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});Dd.forEach(function(b){"on"+b in Ra&&Dd.remove(b)});var Ed=y(ub.style,"userSelect");n.mouse=function(b){return Na(b,
S())};var Fd=/WebKit/.test(Oa.navigator.userAgent)?-1:0;n.touches=function(b,a){2>arguments.length&&(a=S().touches);return a?tb(a).map(function(a){var d=Na(b,a);d.identifier=a.identifier;return d}):[]};n.behavior.drag=function(){function b(){this.on("mousedown.drag",a).on("touchstart.drag",a)}function a(){function b(){var a=h.parentNode;return null!=f?n.touches(a).filter(function(b){return b.identifier===f})[0]:n.mouse(a)}function g(){J.on(null!=f?"touchmove.drag-"+f:"mousemove.drag",null).on(null!=
f?"touchend.drag-"+f:"mouseup.drag",null);F(A&&n.event.target===l);e({type:"dragend"})}var h=this,e=d.of(h,arguments),l=n.event.target,f=n.event.touches?n.event.changedTouches[0].identifier:null,s,m=b(),A=0,F=sa(null!=f?"drag-"+f:"drag"),J=n.select(Oa).on(null!=f?"touchmove.drag-"+f:"mousemove.drag",function(){if(!h.parentNode)return g();var a=b(),d=a[0]-m[0],c=a[1]-m[1];A|=d|c;m=a;e({type:"drag",x:a[0]+s[0],y:a[1]+s[1],dx:d,dy:c})}).on(null!=f?"touchend.drag-"+f:"mouseup.drag",g,!0);c?(s=c.apply(h,
arguments),s=[s.x-m[0],s.y-m[1]]):s=[0,0];e({type:"dragstart"})}var d=D(b,"drag","dragstart","dragend"),c=null;b.origin=function(a){if(!arguments.length)return c;c=a;return b};return n.rebind(b,d,"on")};n.behavior.zoom=function(){function b(){this.on("mousedown.zoom",e).on("mousemove.zoom",f).on(Vg+".zoom",l).on("dblclick.zoom",s).on("touchstart.zoom",m).on("touchmove.zoom",A).on("touchend.zoom",m)}function a(b){return[(b[0]-F[0])/v,(b[1]-F[1])/v]}function d(b){v=Math.max(P[0],Math.min(P[1],b))}function c(b,
a){a=[a[0]*v+F[0],a[1]*v+F[1]];F[0]+=b[0]-a[0];F[1]+=b[1]-a[1]}function h(){r&&r.domain(T.range().map(function(b){return(b-F[0])/v}).map(T.invert));K&&K.domain(t.range().map(function(b){return(b-F[1])/v}).map(t.invert))}function q(b){h();n.event.preventDefault();b({type:"zoom",scale:v,translate:F})}function e(){var b=this,d=I.of(b,arguments),h=n.event.target,u=0,l=n.select(Oa).on("mousemove.zoom",function(){u=1;c(n.mouse(b),f);q(d)}).on("mouseup.zoom",function(){l.on("mousemove.zoom",null).on("mouseup.zoom",
null);G(u&&n.event.target===h)}),f=a(n.mouse(b)),G=sa("zoom")}function l(){J||(J=a(n.mouse(this)));d(Math.pow(2,0.0020*nd())*v);c(n.mouse(this),J);q(I.of(this,arguments))}function f(){J=null}function s(){var b=n.mouse(this),h=a(b),e=Math.log(v)/Math.LN2;d(Math.pow(2,n.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1));c(b,h);q(I.of(this,arguments))}function m(){var b=n.touches(this),h=Date.now();C=v;J={};M=0;b.forEach(function(b){J[b.identifier]=a(b)});if(1===b.length){if(500>h-x){var e=b[0],b=a(b[0]);
d(2*v);c(e,b);q(I.of(this,arguments))}x=h}else 1<b.length&&(e=b[0],b=b[1],h=e[0]-b[0],e=e[1]-b[1],M=h*h+e*e)}function A(){var b=n.touches(this),a=b[0],g=J[a.identifier];if(b=b[1]){var h=J[b.identifier],e=n.event.scale;if(null==e)var l=(l=b[0]-a[0])*l+(l=b[1]-a[1])*l,e=M&&Math.sqrt(l/M);a=[(a[0]+b[0])/2,(a[1]+b[1])/2];g=[(g[0]+h[0])/2,(g[1]+h[1])/2];d(e*C)}c(a,g);x=null;q(I.of(this,arguments))}var F=[0,0],J,v=1,M,C,P=zf,I=D(b,"zoom"),T,r,t,K,x;b.translate=function(a){if(!arguments.length)return F;
F=a.map(Number);h();return b};b.scale=function(a){if(!arguments.length)return v;v=+a;h();return b};b.scaleExtent=function(a){if(!arguments.length)return P;P=null==a?zf:a.map(Number);return b};b.x=function(a){if(!arguments.length)return r;r=a;T=a.copy();F=[0,0];v=1;return b};b.y=function(a){if(!arguments.length)return K;K=a;t=a.copy();F=[0,0];v=1;return b};return n.rebind(b,I,"on")};var zf=[0,Infinity],nd,Vg="onwheel"in Ra?(nd=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in
Ra?(nd=function(){return n.event.wheelDelta},"mousewheel"):(nd=function(){return-n.event.detail},"MozMousePixelScroll");Xa.prototype.toString=function(){return this.rgb()+""};n.hsl=function(b,a,d){return 1===arguments.length?b instanceof ba?Ya(b.h,b.s,b.l):Fb(""+b,Wb,Ya):Ya(+b,+a,+d)};var fe=ba.prototype=new Xa;fe.brighter=function(b){b=Math.pow(0.7,arguments.length?b:1);return Ya(this.h,this.s,this.l/b)};fe.darker=function(b){b=Math.pow(0.7,arguments.length?b:1);return Ya(this.h,this.s,b*this.l)};
fe.rgb=function(){return ka(this.h,this.s,this.l)};var W=Math.PI,aa=1E-6,Af=aa*aa,$=W/180,qa=180/W;n.hcl=function(b,a,d){return 1===arguments.length?b instanceof Aa?za(b.h,b.c,b.l):b instanceof Vb?Hc(b.l,b.a,b.b):Hc((b=Jc((b=n.rgb(b)).r,b.g,b.b)).l,b.a,b.b):za(+b,+a,+d)};var ge=Aa.prototype=new Xa;ge.brighter=function(b){return za(this.h,this.c,Math.min(100,this.l+od*(arguments.length?b:1)))};ge.darker=function(b){return za(this.h,this.c,Math.max(0,this.l-od*(arguments.length?b:1)))};ge.rgb=function(){return wa(this.h,
this.c,this.l).rgb()};n.lab=function(b,a,d){return 1===arguments.length?b instanceof Vb?Ba(b.l,b.a,b.b):b instanceof Aa?wa(b.l,b.c,b.h):Jc((b=n.rgb(b)).r,b.g,b.b):Ba(+b,+a,+d)};var od=18,se=0.95047,te=1,ue=1.08883,he=Vb.prototype=new Xa;he.brighter=function(b){return Ba(Math.min(100,this.l+od*(arguments.length?b:1)),this.a,this.b)};he.darker=function(b){return Ba(Math.max(0,this.l-od*(arguments.length?b:1)),this.a,this.b)};he.rgb=function(){return Gc(this.l,this.a,this.b)};n.rgb=function(b,a,d){return 1===
arguments.length?b instanceof Ub?Ea(b.r,b.g,b.b):Fb(""+b,Ea,ka):Ea(~~b,~~a,~~d)};var pd=Ub.prototype=new Xa;pd.brighter=function(b){b=Math.pow(0.7,arguments.length?b:1);var a=this.r,d=this.g,c=this.b;if(!a&&!d&&!c)return Ea(30,30,30);a&&30>a&&(a=30);d&&30>d&&(d=30);c&&30>c&&(c=30);return Ea(Math.min(255,Math.floor(a/b)),Math.min(255,Math.floor(d/b)),Math.min(255,Math.floor(c/b)))};pd.darker=function(b){b=Math.pow(0.7,arguments.length?b:1);return Ea(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*
this.b))};pd.hsl=function(){return Wb(this.r,this.g,this.b)};pd.toString=function(){return"#"+vb(this.r)+vb(this.g)+vb(this.b)};var Ic=n.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",
dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",
mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",
rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});
Ic.forEach(function(b,a){Ic.set(b,Fb(a,Ea,ka))});n.functor=ga;n.xhr=eb(Da);n.dsv=function(b,a){function d(b,q,u){3>arguments.length&&(u=q,q=null);var e=n.xhr(b,a,u);e.row=function(b){return arguments.length?e.response(null==(q=b)?c:h(b)):q};return e.row(q)}function c(b){return d.parse(b.responseText)}function h(b){return function(a){return d.parse(a.responseText,b)}}function q(a){return a.map(e).join(b)}function e(b){return l.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}var l=RegExp('["'+b+"\n]"),f=b.charCodeAt(0);
d.parse=function(b,a){var g;return d.parseRows(b,function(b,d){if(g)return g(b,d-1);var c=new Function("d","return {"+b.map(function(b,a){return JSON.stringify(b)+": d["+a+"]"}).join(",")+"}");g=a?function(b,d){return a(c(b),d)}:c})};d.parseRows=function(b,a){function d(){if(u>=q)return c;if(G)return G=!1,g;var a=u;if(34===b.charCodeAt(a)){for(var h=a;h++<q;)if(34===b.charCodeAt(h)){if(34!==b.charCodeAt(h+1))break;++h}u=h+2;var e=b.charCodeAt(h+1);13===e?(G=!0,10===b.charCodeAt(h+2)&&++u):10===e&&
(G=!0);return b.substring(a+1,h).replace(/""/g,'"')}for(;u<q;){e=b.charCodeAt(u++);h=1;if(10===e)G=!0;else if(13===e)G=!0,10===b.charCodeAt(u)&&(++u,++h);else if(e!==f)continue;return b.substring(a,u-h)}return b.substring(a)}for(var g={},c={},h=[],q=b.length,u=0,e=0,l,G;(l=d())!==c;){for(var n=[];l!==g&&l!==c;)n.push(l),l=d();(!a||(n=a(n,e++)))&&h.push(n)}return h};d.format=function(a){if(Array.isArray(a[0]))return d.formatRows(a);var g=new z,c=[];a.forEach(function(b){for(var a in b)g.has(a)||c.push(g.add(a))});
return[c.map(e).join(b)].concat(a.map(function(a){return c.map(function(b){return e(a[b])}).join(b)})).join("\n")};d.formatRows=function(b){return b.map(q).join("\n")};return d};n.csv=n.dsv(",","text/csv");n.tsv=n.dsv("\t","text/tab-separated-values");var Mc,Nc,Lc,Kc;n.timer=function(b,a,d){if(3>arguments.length){if(2>arguments.length)a=0;else if(!isFinite(a))return;d=Date.now()}var c={callback:b,time:d+a,next:null};Nc?Nc.next=c:Mc=c;Nc=c;Lc||(Kc=clearTimeout(Kc),Lc=1,ve(rc))};n.timer.flush=function(){Gb();
sc()};var ve=Oa[y(Oa,"requestAnimationFrame")]||function(b){setTimeout(b,17)},qd=[3,3],Wg="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,a){var d=Math.pow(10,3*Math.abs(8-a));return{scale:8<a?function(b){return b/d}:function(b){return b*d},symbol:b}});n.formatPrefix=function(b,a){var d=0;b&&(0>b&&(b*=-1),a&&(b=n.round(b,wb(b,a))),d=1+Math.floor(1E-12+Math.log(b)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((0>=d?d+1:d-1)/3))));return Wg[8+d/3]};n.round=function(b,a){return a?
Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)};n.format=function(b){b=Ze.exec(b);var a=b[1]||" ",d=b[2]||">",c=b[3]||"",h=b[4]||"",q=b[5],e=+b[6],l=b[7],f=b[8],s=b[9],m=1,A="",F=!1;f&&(f=+f.substring(1));if(q||"0"===a&&"="===d)q=a="0",d="=",l&&(e-=Math.floor((e-1)/4));switch(s){case "n":l=!0;s="g";break;case "%":m=100;A="%";s="f";break;case "p":m=100;A="%";s="r";break;case "b":case "o":case "x":case "X":h&&(h="0"+s.toLowerCase());case "c":case "d":F=!0;f=0;break;case "s":m=-1,s="r"}"#"===h&&(h=
"");"r"==s&&!f&&(s="g");if(null!=f)if("g"==s)f=Math.max(1,Math.min(21,f));else if("e"==s||"f"==s)f=Math.max(0,Math.min(20,f));var s=Xg.get(s)||tc,J=q&&l;return function(b){if(F&&b%1)return"";var v=0>b||0===b&&0>1/b?(b=-b,"-"):c;if(0>m){var M=n.formatPrefix(b,f);b=M.scale(b);A=M.symbol}else b*=m;b=s(b,f);!q&&l&&(b=ie(b));var M=h.length+b.length+(J?0:v.length),C=M<e?Array(M=e-M+1).join(a):"";J&&(b=ie(C+b));b.replace(".",".");v+=h;return("<"===d?v+b+C:">"===d?C+v+b:"^"===d?C.substring(0,M>>=1)+v+b+C.substring(M):
v+(J?b:C+b))+A}};var Ze=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Xg=n.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return(b=n.round(b,wb(b,a))).toFixed(Math.max(0,Math.min(20,
wb(b*(1+1E-15),a))))}}),ie=Da;if(qd)var Yg=qd.length,ie=function(b){for(var a=b.lastIndexOf("."),d=0<=a?"."+b.substring(a+1):(a=b.length,""),c=[],h=0,q=qd[0];0<a&&0<q;)c.push(b.substring(a-=q,a+q)),q=qd[h=(h+1)%Yg];return c.reverse().join(",")+d};n.geo={};xb.prototype={s:0,t:0,add:function(b){Xb(b,this.t,rd);Xb(rd.s,this.s,this);this.s?this.t+=rd.t:this.s=rd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var rd=new xb;n.geo.stream=function(b,a){if(b&&Bf.hasOwnProperty(b.type))Bf[b.type](b,
a);else lb(b,a)};var Bf={Feature:function(b,a){lb(b.geometry,a)},FeatureCollection:function(b,a){for(var d=b.features,c=-1,h=d.length;++c<h;)lb(d[c].geometry,a)}},we={Sphere:function(b,a){a.sphere()},Point:function(b,a){var d=b.coordinates;a.point(d[0],d[1])},MultiPoint:function(b,a){for(var d=b.coordinates,c=-1,h=d.length,q;++c<h;)q=d[c],a.point(q[0],q[1])},LineString:function(b,a){uc(b.coordinates,a,0)},MultiLineString:function(b,a){for(var d=b.coordinates,c=-1,h=d.length;++c<h;)uc(d[c],a,0)},Polygon:function(b,
a){Oc(b.coordinates,a)},MultiPolygon:function(b,a){for(var d=b.coordinates,c=-1,h=d.length;++c<h;)Oc(d[c],a)},GeometryCollection:function(b,a){for(var d=b.geometries,c=-1,h=d.length;++c<h;)lb(d[c],a)}};n.geo.area=function(b){lc=0;n.geo.stream(b,Sa);return lc};var lc,Hb=new xb,Sa={sphere:function(){lc+=4*W},point:r,lineStart:r,lineEnd:r,polygonStart:function(){Hb.reset();Sa.lineStart=Pc},polygonEnd:function(){var b=2*Hb;lc+=0>b?4*W+b:b;Sa.lineStart=Sa.lineEnd=Sa.point=r}};n.geo.bounds=function(){function b(b,
a){T.push(r=[m=b,F=b]);a<A&&(A=a);a>J&&(J=a)}function a(d,g){var c=fb([d*$,g*$]);if(P){var h=Pa(P,c),h=Pa([h[1],-h[0],0],h);Yb(h);var h=Kb(h),q=d-v,e=0<q?1:-1,u=h[0]*qa*e,q=180<Math.abs(q);q^(e*v<u&&u<e*d)?(h=h[1]*qa,h>J&&(J=h)):(u=(u+360)%360-180,q^(e*v<u&&u<e*d))?(h=-h[1]*qa,h<A&&(A=h)):(g<A&&(A=g),g>J&&(J=g));q?d<v?l(m,d)>l(m,F)&&(F=d):l(d,F)>l(m,F)&&(m=d):F>=m?(d<m&&(m=d),d>F&&(F=d)):d>v?l(m,d)>l(m,F)&&(F=d):l(d,F)>l(m,F)&&(m=d)}else b(d,g);P=c;v=d}function d(){t.point=a}function c(){r[0]=m;r[1]=
F;t.point=b;P=null}function h(b,d){if(P){var c=b-v;I+=180<Math.abs(c)?c+(0<c?360:-360):c}else M=b,C=d;Sa.point(b,d);a(b,d)}function q(){Sa.lineStart()}function e(){h(M,C);Sa.lineEnd();Math.abs(I)>aa&&(m=-(F=180));r[0]=m;r[1]=F;P=null}function l(b,a){return 0>(a-=b)?a+360:a}function f(b,a){return b[0]-a[0]}function s(b,a){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}var m,A,F,J,v,M,C,P,I,T,r,t={point:b,lineStart:d,lineEnd:c,polygonStart:function(){t.point=h;t.lineStart=q;t.lineEnd=e;I=0;Sa.polygonStart()},
polygonEnd:function(){Sa.polygonEnd();t.point=b;t.lineStart=d;t.lineEnd=c;0>Hb?(m=-(F=180),A=-(J=90)):I>aa?J=90:I<-aa&&(A=-90);r[0]=m;r[1]=F}};return function(b){J=F=-(m=A=Infinity);T=[];n.geo.stream(b,t);if(b=T.length){T.sort(f);for(var a=1,d=T[0],g,c=[d];a<b;++a)g=T[a],s(g[0],d)||s(g[1],d)?(l(d[0],g[1])>l(d[0],d[1])&&(d[1]=g[1]),l(g[0],d[1])>l(d[0],d[1])&&(d[0]=g[0])):c.push(d=g);var h=-Infinity,q;b=c.length-1;a=0;for(d=c[b];a<=b;d=g,++a)if(g=c[a],(q=l(d[1],g[0]))>h)h=q,m=g[0],F=d[1]}T=r=null;return Infinity===
m||Infinity===A?[[NaN,NaN],[NaN,NaN]]:[[m,A],[F,J]]}}();n.geo.centroid=function(b){vc=$b=mb=nb=hb=Ua=Va=Qa=zb=Ab=ib=0;n.geo.stream(b,Za);b=zb;var a=Ab,d=ib,c=b*b+a*a+d*d;return c<Af&&(b=Ua,a=Va,d=Qa,$b<aa&&(b=mb,a=nb,d=hb),c=b*b+a*a+d*d,c<Af)?[NaN,NaN]:[Math.atan2(a,b)*qa,ma(d/Math.sqrt(c))*qa]};var vc,$b,mb,nb,hb,Ua,Va,Qa,zb,Ab,ib,Za={sphere:r,point:Zb,lineStart:wc,lineEnd:yb,polygonStart:function(){Za.lineStart=ac},polygonEnd:function(){Za.lineStart=wc}},xe=Qc(Mb,function(b){var a=NaN,d=NaN,c=NaN,
h;return{lineStart:function(){b.lineStart();h=1},point:function(q,e){var l=0<q?W:-W,f=Math.abs(q-a);if(Math.abs(f-W)<aa)b.point(a,d=0<(d+e)/2?W/2:-W/2),b.point(c,d),b.lineEnd(),b.lineStart(),b.point(l,d),b.point(q,d),h=0;else if(c!==l&&f>=W){Math.abs(a-c)<aa&&(a-=c*aa);Math.abs(q-l)<aa&&(q-=l*aa);var f=a,n=d,s=q,m,A,F=Math.sin(f-s);d=Math.abs(F)>aa?Math.atan((Math.sin(n)*(A=Math.cos(e))*Math.sin(s)-Math.sin(e)*(m=Math.cos(n))*Math.sin(f))/(m*A*F)):(n+e)/2;b.point(c,d);b.lineEnd();b.lineStart();b.point(l,
d);h=0}b.point(a=q,d=e);c=l},lineEnd:function(){b.lineEnd();a=d=NaN},clean:function(){return 2-h}}},function(b,a,d,c){null==b?(d=d*W/2,c.point(-W,d),c.point(0,d),c.point(W,d),c.point(W,0),c.point(W,-d),c.point(0,-d),c.point(-W,-d),c.point(-W,0),c.point(-W,d)):Math.abs(b[0]-a[0])>aa?(b=(b[0]<a[0]?1:-1)*W,d=d*b/2,c.point(-b,d),c.point(0,d),c.point(b,d)):c.point(a[0],a[1])},function(b){return Sc(Zg,b)}),Zg=[-W,0],Uc=1E9;(n.geo.conicEqualArea=function(){return Nb(ec)}).raw=ec;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,
0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){function b(b){var a=b[0];b=b[1];h=null;(e(a,b),h)||(l(a,b),h)||f(a,b);return h}var a=n.geo.albers(),d=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,q={point:function(b,a){h=[b,a]}},e,l,f;b.invert=function(b){var h=a.scale(),q=a.translate(),e=(b[0]-q[0])/h,h=(b[1]-q[1])/h;return(0.12<=h&&0.234>h&&-0.425<=
e&&-0.214>e?d:0.166<=h&&0.234>h&&-0.214<=e&&-0.115>e?c:a).invert(b)};b.stream=function(b){var h=a.stream(b),q=d.stream(b),e=c.stream(b);return{point:function(b,a){h.point(b,a);q.point(b,a);e.point(b,a)},sphere:function(){h.sphere();q.sphere();e.sphere()},lineStart:function(){h.lineStart();q.lineStart();e.lineStart()},lineEnd:function(){h.lineEnd();q.lineEnd();e.lineEnd()},polygonStart:function(){h.polygonStart();q.polygonStart();e.polygonStart()},polygonEnd:function(){h.polygonEnd();q.polygonEnd();
e.polygonEnd()}}};b.precision=function(h){if(!arguments.length)return a.precision();a.precision(h);d.precision(h);c.precision(h);return b};b.scale=function(h){if(!arguments.length)return a.scale();a.scale(h);d.scale(0.35*h);c.scale(h);return b.translate(a.translate())};b.translate=function(h){if(!arguments.length)return a.translate();var n=a.scale(),s=+h[0],m=+h[1];e=a.translate(h).clipExtent([[s-0.455*n,m-0.238*n],[s+0.455*n,m+0.238*n]]).stream(q).point;l=d.translate([s-0.307*n,m+0.201*n]).clipExtent([[s-
0.425*n+aa,m+0.12*n+aa],[s-0.214*n-aa,m+0.234*n-aa]]).stream(q).point;f=c.translate([s-0.205*n,m+0.212*n]).clipExtent([[s-0.214*n+aa,m+0.166*n+aa],[s-0.115*n-aa,m+0.234*n-aa]]).stream(q).point;return b};return b.scale(1070)};var sd,Vc,Bb={point:r,lineStart:r,lineEnd:r,polygonStart:function(){Vc=0;Bb.lineStart=ja},polygonEnd:function(){Bb.lineStart=Bb.lineEnd=Bb.point=r;sd+=Math.abs(Vc/2)}},td,ud,vd,wd,$g={point:function(b,a){b<td&&(td=b);b>vd&&(vd=b);a<ud&&(ud=a);a>wd&&(wd=a)},lineStart:r,lineEnd:r,
polygonStart:r,polygonEnd:r},bb={point:ab,lineStart:fc,lineEnd:zc,polygonStart:function(){bb.lineStart=Xc},polygonEnd:function(){bb.point=ab;bb.lineStart=fc;bb.lineEnd=zc}};n.geo.path=function(){function b(b){if(b){"function"===typeof d&&e.pointRadius(+d.apply(this,arguments));if(!l||!l.valid)l=q(e);n.geo.stream(b,l)}return e.result()}function a(){l=null;return b}var d=4.5,c,h,q,e,l;b.area=function(b){sd=0;n.geo.stream(b,q(Bb));return sd};b.centroid=function(b){mb=nb=hb=Ua=Va=Qa=zb=Ab=ib=0;n.geo.stream(b,
q(bb));return ib?[zb/ib,Ab/ib]:Qa?[Ua/Qa,Va/Qa]:hb?[mb/hb,nb/hb]:[NaN,NaN]};b.bounds=function(b){vd=wd=-(td=ud=Infinity);n.geo.stream(b,q($g));return[[td,ud],[vd,wd]]};b.projection=function(b){if(!arguments.length)return c;q=(c=b)?b.stream||ca(b):Da;return a()};b.context=function(b){if(!arguments.length)return h;e=null==(h=b)?new Wc:new Ac(b);"function"!==typeof d&&e.pointRadius(d);return a()};b.pointRadius=function(a){if(!arguments.length)return d;d="function"===typeof a?a:(e.pointRadius(+a),+a);
return b};return b.projection(n.geo.albersUsa()).context(null)};n.geo.projection=cb;n.geo.projectionMutator=Ob;(n.geo.equirectangular=function(){return cb(db)}).raw=db.invert=db;n.geo.rotation=function(b){function a(d){d=b(d[0]*$,d[1]*$);return d[0]*=qa,d[1]*=qa,d}b=Ca(b[0]%360*$,b[1]*$,2<b.length?b[2]*$:0);a.invert=function(a){a=b.invert(a[0]*$,a[1]*$);return a[0]*=qa,a[1]*=qa,a};return a};n.geo.circle=function(){function b(){var b="function"===typeof a?a.apply(this,arguments):a,d=Ca(-b[0]*$,-b[1]*
$,0).invert,c=[];h(null,null,1,{point:function(b,a){c.push(b=d(b,a));b[0]*=qa;b[1]*=qa}});return{type:"Polygon",coordinates:[c]}}var a=[0,0],d,c=6,h;b.origin=function(d){if(!arguments.length)return a;a=d;return b};b.angle=function(a){if(!arguments.length)return d;h=e((d=+a)*$,c*$);return b};b.precision=function(a){if(!arguments.length)return c;h=e(d*$,(c=+a)*$);return b};return b.angle(90)};n.geo.distance=function(b,a){var d=(a[0]-b[0])*$,c=b[1]*$,h=a[1]*$,q=Math.sin(d),d=Math.cos(d),e=Math.sin(c),
c=Math.cos(c),l=Math.sin(h),h=Math.cos(h),f;return Math.atan2(Math.sqrt((f=h*q)*f+(f=c*l-e*h*d)*f),e*l+c*h*d)};n.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:a()}}function a(){return n.range(Math.ceil(q/v)*v,h,v).map(I).concat(n.range(Math.ceil(A/M)*M,f,M).map(r)).concat(n.range(Math.ceil(c/F)*F,d,F).filter(function(b){return Math.abs(b%v)>aa}).map(C)).concat(n.range(Math.ceil(l/J)*J,e,J).filter(function(b){return Math.abs(b%M)>aa}).map(P))}var d,c,h,q,e,l,f,A,F=
10,J=F,v=90,M=360,C,P,I,r,T=2.5;b.lines=function(){return a().map(function(b){return{type:"LineString",coordinates:b}})};b.outline=function(){return{type:"Polygon",coordinates:[I(q).concat(r(f).slice(1),I(h).reverse().slice(1),r(A).reverse().slice(1))]}};b.extent=function(a){return!arguments.length?b.minorExtent():b.majorExtent(a).minorExtent(a)};b.majorExtent=function(a){if(!arguments.length)return[[q,A],[h,f]];q=+a[0][0];h=+a[1][0];A=+a[0][1];f=+a[1][1];q>h&&(a=q,q=h,h=a);A>f&&(a=A,A=f,f=a);return b.precision(T)};
b.minorExtent=function(a){if(!arguments.length)return[[c,l],[d,e]];c=+a[0][0];d=+a[1][0];l=+a[0][1];e=+a[1][1];c>d&&(a=c,c=d,d=a);l>e&&(a=l,l=e,e=a);return b.precision(T)};b.step=function(a){return!arguments.length?b.minorStep():b.majorStep(a).minorStep(a)};b.majorStep=function(a){if(!arguments.length)return[v,M];v=+a[0];M=+a[1];return b};b.minorStep=function(a){if(!arguments.length)return[F,J];F=+a[0];J=+a[1];return b};b.precision=function(a){if(!arguments.length)return T;T=+a;C=s(l,e,90);P=m(c,
d,T);I=s(A,f,90);r=m(q,h,T);return b};return b.majorExtent([[-180,-90+aa],[180,90-aa]]).minorExtent([[-180,-80-aa],[180,80+aa]])};n.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[d||a.apply(this,arguments),h||c.apply(this,arguments)]}}var a=v,d,c=C,h;b.distance=function(){return n.geo.distance(d||a.apply(this,arguments),h||c.apply(this,arguments))};b.source=function(c){if(!arguments.length)return a;a=c;d="function"===typeof c?null:c;return b};b.target=function(a){if(!arguments.length)return c;
c=a;h="function"===typeof a?null:a;return b};b.precision=function(){return arguments.length?b:0};return b};n.geo.interpolate=function(b,a){return I(b[0]*$,b[1]*$,a[0]*$,a[1]*$)};n.geo.length=function(b){xd=0;n.geo.stream(b,mc);return xd};var xd,mc={sphere:r,point:r,lineStart:function(){function b(b,h){var e=Math.sin(h*=$),l=Math.cos(h),f=Math.abs((b*=$)-a),n=Math.cos(f);xd+=Math.atan2(Math.sqrt((f=l*Math.sin(f))*f+(f=c*e-d*l*n)*f),d*e+c*l*n);a=b;d=e;c=l}var a,d,c;mc.point=function(h,q){a=h*$;d=Math.sin(q*=
$);c=Math.cos(q);mc.point=b};mc.lineEnd=function(){mc.point=mc.lineEnd=r}},lineEnd:r,polygonStart:r,polygonEnd:r},Cf=pb(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(n.geo.azimuthalEqualArea=function(){return cb(Cf)}).raw=Cf;var Df=pb(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},Da);(n.geo.azimuthalEquidistant=function(){return cb(Df)}).raw=Df;(n.geo.conicConformal=function(){return Nb(Wa)}).raw=Wa;(n.geo.conicEquidistant=function(){return Nb(ye)}).raw=ye;var Ef=
pb(function(b){return 1/b},Math.atan);(n.geo.gnomonic=function(){return cb(Ef)}).raw=Ef;Yc.invert=function(b,a){return[b,2*Math.atan(Math.exp(a))-W/2]};(n.geo.mercator=function(){return ze(Yc)}).raw=Yc;var Ff=pb(function(){return 1},Math.asin);(n.geo.orthographic=function(){return cb(Ff)}).raw=Ff;var Gf=pb(function(b){return 1/(1+b)},function(b){return 2*Math.atan(b)});(n.geo.stereographic=function(){return cb(Gf)}).raw=Gf;Jd.invert=function(b,a){return[Math.atan2((Math.exp(b)-Math.exp(-b))/2,Math.cos(a)),
ma(Math.sin(a)/((Math.exp(b)+Math.exp(-b))/2))]};(n.geo.transverseMercator=function(){return ze(Jd)}).raw=Jd;n.geom={};n.svg={};n.svg.line=function(){return Zc(Da)};var Kd=n.map({linear:Ta,"linear-closed":function(b){return Ta(b)+"Z"},step:function(b){for(var a=0,d=b.length,c=b[0],h=[c[0],",",c[1]];++a<d;)h.push("H",(c[0]+(c=b[a])[0])/2,"V",c[1]);1<d&&h.push("H",c[0]);return h.join("")},"step-before":O,"step-after":Ld,basis:F,"basis-open":function(b){if(4>b.length)return Ta(b);for(var a=[],d=-1,c=
b.length,h,q=[0],e=[0];3>++d;)h=b[d],q.push(h[0]),e.push(h[1]);a.push(Fa(hc,q)+","+Fa(hc,e));for(--d;++d<c;)h=b[d],q.shift(),q.push(h[0]),e.shift(),e.push(h[1]),Cb(a,q,e);return a.join("")},"basis-closed":function(b){for(var a,d=-1,c=b.length,h=c+4,q,e=[],l=[];4>++d;)q=b[d%c],e.push(q[0]),l.push(q[1]);a=[Fa(hc,e),",",Fa(hc,l)];for(--d;++d<h;)q=b[d%c],e.shift(),e.push(q[0]),l.shift(),l.push(q[1]),Cb(a,e,l);return a.join("")},bundle:function(b,a){var d=b.length-1;if(d)for(var c=b[0][0],h=b[0][1],e=
b[d][0]-c,l=b[d][1]-h,f=-1,n,s;++f<=d;)n=b[f],s=f/d,n[0]=a*n[0]+(1-a)*(c+s*e),n[1]=a*n[1]+(1-a)*(h+s*l);return F(b)},cardinal:function(b,a){return 3>b.length?Ta(b):b[0]+$c(b,Md(b,a))},"cardinal-open":function(b,a){return 4>b.length?Ta(b):b[1]+$c(b.slice(1,b.length-1),Md(b,a))},"cardinal-closed":function(b,a){return 3>b.length?Ta(b):b[0]+$c((b.push(b[0]),b),Md([b[b.length-2]].concat(b,[b[1]]),a))},monotone:function(b){if(3>b.length)b=Ta(b);else{var a=b[0],d=[],c,h,e,l;c=0;h=b.length-1;var f=[];e=b[1];
for(l=f[0]=A(b[0],e);++c<h;)f[c]=(l+(l=A(e,e=b[c+1])))/2;f[c]=l;for(var n=-1,s=b.length-1;++n<s;)c=A(b[n],b[n+1]),1E-6>Math.abs(c)?f[n]=f[n+1]=0:(h=f[n]/c,e=f[n+1]/c,l=h*h+e*e,9<l&&(l=3*c/Math.sqrt(l),f[n]=l*h,f[n+1]=l*e));for(n=-1;++n<=s;)l=(b[Math.min(s,n+1)][0]-b[Math.max(0,n-1)][0])/(6*(1+f[n]*f[n])),d.push([l||0,f[n]*l||0]);b=a+$c(b,d)}return b}});Kd.forEach(function(b,a){a.key=b;a.closed=/-closed$/.test(b)});var Ae=[0,2/3,1/3,0],Be=[0,1/3,2/3,0],hc=[0,1/6,2/3,1/6];n.geom.hull=function(b){function a(b){if(3>
b.length)return[];var g=ga(d),h=ga(c),e=b.length,l,f=e-1,n=[],s=[],m,A,F=0,v,M,C,P;if(g===jb&&c===K)l=b;else{A=0;for(l=[];A<e;++A)l.push([+g.call(this,m=b[A],A),+h.call(this,m,A)])}for(A=1;A<e;++A)if(l[A][1]<l[F][1]||l[A][1]==l[F][1]&&l[A][0]<l[F][0])F=A;for(A=0;A<e;++A)A!==F&&(h=l[A][1]-l[F][1],g=l[A][0]-l[F][0],n.push({angle:Math.atan2(h,g),index:A}));n.sort(function(b,a){return b.angle-a.angle});P=n[0].angle;C=n[0].index;M=0;for(A=1;A<f;++A){e=n[A].index;if(P==n[A].angle)if(g=l[C][0]-l[F][0],h=
l[C][1]-l[F][1],m=l[e][0]-l[F][0],v=l[e][1]-l[F][1],g*g+h*h>=m*m+v*v){n[A].index=-1;continue}else n[M].index=-1;P=n[A].angle;M=A;C=e}s.push(F);for(e=A=0;2>A;++e)-1<n[e].index&&(s.push(n[e].index),A++);for(A=s.length;e<f;++e)if(!(0>n[e].index)){for(;!J(s[A-2],s[A-1],n[e].index,l);)--A;s[A++]=n[e].index}l=[];for(A-=1;0<=A;--A)l.push(b[s[A]]);return l}var d=jb,c=K;if(arguments.length)return a(b);a.x=function(b){return arguments.length?(d=b,a):d};a.y=function(b){return arguments.length?(c=b,a):c};return a};
n.geom.polygon=function(b){b.area=function(){for(var a=0,d=b.length,c=b[d-1][1]*b[0][0]-b[d-1][0]*b[0][1];++a<d;)c+=b[a-1][1]*b[a][0]-b[a-1][0]*b[a][1];return 0.5*c};b.centroid=function(a){var d=-1,c=b.length,h=0,e=0,l,f=b[c-1],n;for(arguments.length||(a=-1/(6*b.area()));++d<c;)l=f,f=b[d],n=l[0]*f[1]-f[0]*l[1],h+=(l[0]+f[0])*n,e+=(l[1]+f[1])*n;return[h*a,e*a]};b.clip=function(a){for(var d,c=-1,h=b.length,e,l,f=b[h-1],n,s,m;++c<h;){d=a.slice();a.length=0;n=b[c];s=d[(l=d.length)-1];for(e=-1;++e<l;)m=
d[e],M(m,f,n)?(M(s,f,n)||a.push(P(s,m,f,n)),a.push(m)):M(s,f,n)&&a.push(P(s,m,f,n)),s=m;f=n}return a};return b};n.geom.delaunay=function(b){var a=b.map(function(){return[]}),d=[];T(b,function(d){a[d.region.l.index].push(b[d.region.r.index])});a.forEach(function(a,c){var g=b[c],h=g[0],e=g[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-h,b[1]-e)});a.sort(function(b,a){return b.angle-a.angle});for(var l=0,f=a.length-1;l<f;l++)d.push([g,a[l],a[l+1]])});return d};n.geom.voronoi=function(b){function a(b){var g,
e=b.map(function(){return[]}),l=ga(d),f=ga(c),s,m,A=b.length;if(l===jb&&f===K)g=b;else{g=Array(A);for(m=0;m<A;++m)g[m]=[+l.call(this,s=b[m],m),+f.call(this,s,m)]}T(g,function(b){var a,d,c,g;1===b.a&&0<=b.b?(a=b.ep.r,d=b.ep.l):(a=b.ep.l,d=b.ep.r);1===b.a?(c=a?a.y:-1E6,a=b.c-b.b*c,g=d?d.y:1E6,d=b.c-b.b*g):(a=a?a.x:-1E6,c=b.c-b.a*a,d=d?d.x:1E6,g=b.c-b.a*d);a=[a,c];d=[d,g];e[b.region.l.index].push(a,d);e[b.region.r.index].push(a,d)});e=e.map(function(b,a){var d=g[a][0],c=g[a][1],h=b.map(function(b){return Math.atan2(b[0]-
d,b[1]-c)}),e=n.range(b.length).sort(function(b,a){return h[b]-h[a]});return e.filter(function(b,a){return!a||h[b]-h[e[a-1]]>aa}).map(function(a){return b[a]})});e.forEach(function(b,a){var d=b.length;if(!d)return b.push([-1E6,-1E6],[-1E6,1E6],[1E6,1E6],[1E6,-1E6]);if(!(2<d)){var c=g[a],h=b[0],e=b[1],d=c[0],c=c[1],q=h[0],h=h[1],l=e[0],u=e[1],f=Math.abs(l-q),e=u-h;Math.abs(e)<aa?(d=c<h?-1E6:1E6,b.push([-1E6,d],[1E6,d])):f<aa?(d=d<q?-1E6:1E6,b.push([d,-1E6],[d,1E6])):(d=(l-q)*(h-c)<(q-d)*(u-h)?1E6:
-1E6,c=Math.abs(e)-f,Math.abs(c)<aa?b.push([0>e?d:-d,d]):(0<c&&(d*=-1),b.push([-1E6,d],[1E6,d])))}});if(h)for(m=0;m<A;++m)h.clip(e[m]);for(m=0;m<A;++m)e[m].point=b[m];return e}var d=jb,c=K,h=null;if(arguments.length)return a(b);a.x=function(b){return arguments.length?(d=b,a):d};a.y=function(b){return arguments.length?(c=b,a):c};a.clipExtent=function(b){if(!arguments.length)return h&&[h[0],h[2]];if(null==b)h=null;else{var d=+b[0][0],c=+b[0][1],e=+b[1][0],l=+b[1][1];h=n.geom.polygon([[d,c],[d,l],[e,
l],[e,c]])}return a};a.size=function(b){return!arguments.length?h&&h[2]:a.clipExtent(b&&[[0,0],b])};a.links=function(b){var a,g=b.map(function(){return[]}),h=[],e=ga(d),l=ga(c),f,n,s=b.length;if(e===jb&&l===K)a=b;else{a=Array(s);for(n=0;n<s;++n)a[n]=[+e.call(this,f=b[n],n),+l.call(this,f,n)]}T(a,function(a){var d=a.region.l.index;a=a.region.r.index;g[d][a]||(g[d][a]=g[a][d]=!0,h.push({source:b[d],target:b[a]}))});return h};a.triangles=function(b){if(d===jb&&c===K)return n.geom.delaunay(b);for(var a=
Array(f),g=ga(d),h=ga(c),e,l=-1,f=b.length;++l<f;)(a[l]=[+g.call(this,e=b[l],l),+h.call(this,e,l)]).data=e;return n.geom.delaunay(a).map(function(b){return b.map(function(b){return b.data})})};return a};var Nd={l:"r",r:"l"};n.geom.quadtree=function(b,a,d,c,h){function e(b){function q(b,a,d,c,g,h,e,l){if(!isNaN(d)&&!isNaN(c))if(b.leaf){var u=b.x,f=b.y;if(null!=u){if(!(0.01>Math.abs(u-d)+Math.abs(f-c))){var n=b.point;b.x=b.y=b.point=null;s(b,n,u,f,g,h,e,l)}s(b,a,d,c,g,h,e,l)}else b.x=d,b.y=c,b.point=
a}else s(b,a,d,c,g,h,e,l)}function s(b,a,d,c,g,h,e,l){var u=0.5*(g+e),f=0.5*(h+l),n=d>=u,m=c>=f,A=(m<<1)+n;b.leaf=!1;b=b.nodes[A]||(b.nodes[A]=ua());n?g=u:e=u;m?h=f:l=f;q(b,a,d,c,g,h,e,l)}var m,A=ga(l),F=ga(f),J,v,M,C,P,I,T,r;if(null!=a)P=a,I=d,T=c,r=h;else if(T=r=-(P=I=Infinity),J=[],v=[],C=b.length,n)for(M=0;M<C;++M)m=b[M],m.x<P&&(P=m.x),m.y<I&&(I=m.y),m.x>T&&(T=m.x),m.y>r&&(r=m.y),J.push(m.x),v.push(m.y);else for(M=0;M<C;++M){var t=+A(m=b[M],M);m=+F(m,M);t<P&&(P=t);m<I&&(I=m);t>T&&(T=t);m>r&&(r=
m);J.push(t);v.push(m)}t=T-P;m=r-I;t>m?r=I+t:T=P+m;var K=ua();K.add=function(b){q(K,b,+A(b,++M),+F(b,M),P,I,T,r)};K.visit=function(b){Cc(b,K,P,I,T,r)};M=-1;if(null==a){for(;++M<C;)q(K,b[M],J[M],v[M],P,I,T,r);--M}else b.forEach(K.add);J=v=b=m=null;return K}var l=jb,f=K,n;if(n=arguments.length)return l=ic,f=jc,3===n&&(h=d,c=a,d=a=0),e(b);e.x=function(b){return arguments.length?(l=b,e):l};e.y=function(b){return arguments.length?(f=b,e):f};e.extent=function(b){if(!arguments.length)return null==a?null:
[[a,d],[c,h]];null==b?a=d=c=h=null:(a=+b[0][0],d=+b[0][1],c=+b[1][0],h=+b[1][1]);return e};e.size=function(b){if(!arguments.length)return null==a?null:[c-a,h-d];null==b?a=d=c=h=null:(a=d=0,c=+b[0],h=+b[1]);return e};return e};n.interpolateRgb=Od;n.transform=function(b){var a=Ra.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(b){if(null!=b){a.setAttribute("transform",b);var d=a.transform.baseVal.consolidate()}return new Ce(d?d.matrix:ah)})(b)};Ce.prototype.toString=function(){return"translate("+
this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ah={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateNumber=qb;n.interpolateTransform=ad;n.interpolateObject=Ee;n.interpolateString=Fe;var bd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;n.interpolate=Pb;n.interpolators=[function(b,a){var d=typeof a;return("string"===d?Ic.has(a)||/^(#|rgb\(|hsl\()/.test(a)?Od:Fe:a instanceof Xa?Od:"object"===d?Array.isArray(a)?Ge:Ee:qb)(b,a)}];n.interpolateArray=Ge;var Hf=function(){return Da},
bh=n.map({linear:Hf,poly:function(b){return function(a){return Math.pow(a,b)}},quad:function(){return Vf},cubic:function(){return Wf},sin:function(){return Xf},exp:function(){return Yf},circle:function(){return Zf},elastic:function(b,a){var d;2>arguments.length&&(a=0.45);arguments.length?d=a/(2*W)*Math.asin(1/b):(b=1,d=a/4);return function(c){return 1+b*Math.pow(2,10*-c)*Math.sin(2*(c-d)*W/a)}},back:function(b){b||(b=1.70158);return function(a){return a*a*((b+1)*a-b)}},bounce:function(){return $f}}),
ch=n.map({"in":Da,out:He,"in-out":Ie,"out-in":function(b){return Ie(He(b))}});n.ease=function(b){var a=b.indexOf("-"),d=0<=a?b.substring(0,a):b,a=0<=a?b.substring(a+1):"in",d=bh.get(d)||Hf,a=ch.get(a)||Da;return Uf(a(d.apply(null,Array.prototype.slice.call(arguments,1))))};n.interpolateHcl=function(b,a){b=n.hcl(b);a=n.hcl(a);var d=b.h,c=b.c,h=b.l,e=a.h-d,l=a.c-c,f=a.l-h;isNaN(l)&&(l=0,c=isNaN(c)?a.c:c);isNaN(e)?(e=0,d=isNaN(d)?a.h:d):180<e?e-=360:-180>e&&(e+=360);return function(b){return wa(d+e*
b,c+l*b,h+f*b)+""}};n.interpolateHsl=function(b,a){b=n.hsl(b);a=n.hsl(a);var d=b.h,c=b.s,h=b.l,e=a.h-d,l=a.s-c,f=a.l-h;isNaN(l)&&(l=0,c=isNaN(c)?a.s:c);isNaN(e)?(e=0,d=isNaN(d)?a.h:d):180<e?e-=360:-180>e&&(e+=360);return function(b){return ka(d+e*b,c+l*b,h+f*b)+""}};n.interpolateLab=function(b,a){b=n.lab(b);a=n.lab(a);var d=b.l,c=b.a,h=b.b,e=a.l-d,l=a.a-c,f=a.b-h;return function(b){return Gc(d+e*b,c+l*b,h+f*b)+""}};n.interpolateRound=Je;n.layout={};n.layout.bundle=function(){return function(b){for(var a=
[],d=-1,c=b.length;++d<c;)a.push(cg(b[d]));return a}};n.layout.chord=function(){function b(){var b={},d=[],u=n.range(l),F=[],J,v,M,C,P;c=[];h=[];J=0;for(C=-1;++C<l;){v=0;for(P=-1;++P<l;)v+=e[C][P];d.push(v);F.push(n.range(l));J+=v}m&&u.sort(function(b,a){return m(d[b],d[a])});s&&F.forEach(function(b,a){b.sort(function(b,d){return s(e[a][b],e[a][d])})});J=(2*W-f*l)/J;v=0;for(C=-1;++C<l;){M=v;for(P=-1;++P<l;){var I=u[C],T=F[I][P],r=e[I][T],t=v,K=v+=r*J;b[I+"-"+T]={index:I,subindex:T,startAngle:t,endAngle:K,
value:r}}h[I]={index:I,startAngle:M,endAngle:v,value:(v-M)/J};v+=f}for(C=-1;++C<l;)for(P=C-1;++P<l;)if(u=b[C+"-"+P],F=b[P+"-"+C],u.value||F.value)c.push(u.value<F.value?{source:F,target:u}:{source:u,target:F});A&&a()}function a(){c.sort(function(b,a){return A((b.source.value+b.target.value)/2,(a.source.value+a.target.value)/2)})}var d={},c,h,e,l,f=0,m,s,A;d.matrix=function(b){if(!arguments.length)return e;l=(e=b)&&e.length;c=h=null;return d};d.padding=function(b){if(!arguments.length)return f;f=b;
c=h=null;return d};d.sortGroups=function(b){if(!arguments.length)return m;m=b;c=h=null;return d};d.sortSubgroups=function(b){if(!arguments.length)return s;s=b;c=null;return d};d.sortChords=function(b){if(!arguments.length)return A;A=b;c&&a();return d};d.chords=function(){c||b();return c};d.groups=function(){h||b();return h};return d};n.layout.force=function(){function b(b){return function(a,d,c,g){if(a.point!==b){c=a.cx-b.x;var h=a.cy-b.y,e=1/Math.sqrt(c*c+h*h);if((g-d)*e<J)return d=a.charge*e*e,
b.px-=c*d,b.py-=h*d,!0;a.point&&isFinite(e)&&(d=a.pointCharge*e*e,b.px-=c*d,b.py-=h*d)}return!a.charge}}function a(b){b.px=n.event.x;b.py=n.event.y;d.resume()}var d={},c=n.dispatch("start","tick","end"),h=[1,1],e,l,f=0.9,m=dh,s=eh,A=-30,F=0.1,J=0.8,v=[],M=[],C,P,I;d.tick=function(){if(0.0050>(l*=0.99))return c.end({type:"end",alpha:l=0}),!0;var a=v.length,d=M.length,g,e,q,u,m,s,J;for(g=0;g<d;++g)if(e=M[g],q=e.source,u=e.target,s=u.x-q.x,J=u.y-q.y,m=s*s+J*J)m=l*P[g]*((m=Math.sqrt(m))-C[g])/m,s*=m,
J*=m,u.x-=s*(m=q.weight/(u.weight+q.weight)),u.y-=J*m,q.x+=s*(m=1-m),q.y+=J*m;if(m=l*F)if(s=h[0]/2,J=h[1]/2,g=-1,m)for(;++g<a;)e=v[g],e.x+=(s-e.x)*m,e.y+=(J-e.y)*m;if(A){Le(d=n.geom.quadtree(v),l,I);for(g=-1;++g<a;)(e=v[g]).fixed||d.visit(b(e))}for(g=-1;++g<a;)e=v[g],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*f,e.y-=(e.py-(e.py=e.y))*f);c.tick({type:"tick",alpha:l})};d.nodes=function(b){if(!arguments.length)return v;v=b;return d};d.links=function(b){if(!arguments.length)return M;M=b;return d};
d.size=function(b){if(!arguments.length)return h;h=b;return d};d.linkDistance=function(b){if(!arguments.length)return m;m="function"===typeof b?b:+b;return d};d.distance=d.linkDistance;d.linkStrength=function(b){if(!arguments.length)return s;s="function"===typeof b?b:+b;return d};d.friction=function(b){if(!arguments.length)return f;f=+b;return d};d.charge=function(b){if(!arguments.length)return A;A="function"===typeof b?b:+b;return d};d.gravity=function(b){if(!arguments.length)return F;F=+b;return d};
d.theta=function(b){if(!arguments.length)return J;J=+b;return d};d.alpha=function(b){if(!arguments.length)return l;b=+b;l?l=0<b?b:0:0<b&&(c.start({type:"start",alpha:l=b}),n.timer(d.tick));return d};d.start=function(){function b(d,h){var l;if(!f){f=[];for(c=0;c<g;++c)f[c]=[];for(c=0;c<e;++c)l=M[c],f[l.source.index].push(l.target),f[l.target.index].push(l.source)}l=f[a];for(var q=-1,u=l.length,n;++q<u;)if(!isNaN(n=l[q][d]))return n;return Math.random()*h}var a,c,g=v.length,e=M.length,l=h[0],q=h[1],
f,n;for(a=0;a<g;++a)(n=v[a]).index=a,n.weight=0;for(a=0;a<e;++a)n=M[a],"number"==typeof n.source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(a=0;a<g;++a)n=v[a],isNaN(n.x)&&(n.x=b("x",l)),isNaN(n.y)&&(n.y=b("y",q)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);C=[];if("function"===typeof m)for(a=0;a<e;++a)C[a]=+m.call(this,M[a],a);else for(a=0;a<e;++a)C[a]=m;P=[];if("function"===typeof s)for(a=0;a<e;++a)P[a]=+s.call(this,M[a],
a);else for(a=0;a<e;++a)P[a]=s;I=[];if("function"===typeof A)for(a=0;a<g;++a)I[a]=+A.call(this,v[a],a);else for(a=0;a<g;++a)I[a]=A;return d.resume()};d.resume=function(){return d.alpha(0.1)};d.stop=function(){return d.alpha(0)};d.drag=function(){e||(e=n.behavior.drag().origin(Da).on("dragstart.force",dg).on("drag.force",a).on("dragend.force",eg));if(!arguments.length)return e;this.on("mouseover.force",fg).on("mouseout.force",gg).call(e)};return n.rebind(d,c,"on")};var dh=20,eh=1;n.layout.hierarchy=
function(){function b(a,g,l){var f=h.call(d,a,g);a.depth=g;l.push(a);if(f&&(m=f.length)){var n=-1,m,s=a.children=[],A=0;g+=1;for(var F;++n<m;)F=b(f[n],g,l),F.parent=a,s.push(F),A+=F.value;c&&s.sort(c);e&&(a.value=A)}else e&&(a.value=+e.call(d,a,g)||0);return a}function a(b,c){var h=b.children,l=0;if(h&&(n=h.length))for(var f=-1,n,m=c+1;++f<n;)l+=a(h[f],m);else e&&(l=+e.call(d,b,c)||0);e&&(b.value=l);return l}function d(a){var c=[];b(a,0,c);return c}var c=kg,h=ig,e=jg;d.sort=function(b){if(!arguments.length)return c;
c=b;return d};d.children=function(b){if(!arguments.length)return h;h=b;return d};d.value=function(b){if(!arguments.length)return e;e=b;return d};d.revalue=function(b){a(b,0);return b};return d};n.layout.partition=function(){function b(a,d,c,g){var h=a.children;a.x=d;a.y=a.depth*g;a.dx=c;a.dy=g;if(h&&(l=h.length)){var e=-1,l,f;for(c=a.value?c/a.value:0;++e<l;)b(f=h[e],d,a=f.value*c,g),d+=a}}function a(b){b=b.children;var d=0;if(b&&(h=b.length))for(var c=-1,h;++c<h;)d=Math.max(d,a(b[c]));return 1+d}
function d(e,l){var f=c.call(this,e,l);b(f[0],0,h[0],h[1]/a(f[0]));return f}var c=n.layout.hierarchy(),h=[1,1];d.size=function(b){if(!arguments.length)return h;h=b;return d};return Dc(d,c)};n.layout.pie=function(){function b(e){var l=e.map(function(d,c){return+a.call(b,d,c)}),f=+("function"===typeof c?c.apply(this,arguments):c),m=(("function"===typeof h?h.apply(this,arguments):h)-f)/n.sum(l),s=n.range(e.length);null!=d&&s.sort(d===If?function(b,a){return l[a]-l[b]}:function(b,a){return d(e[b],e[a])});
var A=[];s.forEach(function(b){var a;A[b]={data:e[b],value:a=l[b],startAngle:f,endAngle:f+=a*m}});return A}var a=Number,d=If,c=0,h=2*W;b.value=function(d){if(!arguments.length)return a;a=d;return b};b.sort=function(a){if(!arguments.length)return d;d=a;return b};b.startAngle=function(a){if(!arguments.length)return c;c=a;return b};b.endAngle=function(a){if(!arguments.length)return h;h=a;return b};return b};var If={};n.layout.stack=function(){function b(f,m){var s=f.map(function(d,c){return a.call(b,
d,c)}),A=s.map(function(a){return a.map(function(a,d){return[e.call(b,a,d),l.call(b,a,d)]})}),F=d.call(b,A,m),s=n.permute(s,F),A=n.permute(A,F),F=c.call(b,A,m),J=s.length,v=s[0].length,M,C,P;for(C=0;C<v;++C){h.call(b,s[0][C],P=F[C],A[0][C][1]);for(M=1;M<J;++M)h.call(b,s[M][C],P+=A[M-1][C][1],A[M][C][1])}return f}var a=Da,d=Pd,c=Qd,h=ng,e=lg,l=mg;b.values=function(d){if(!arguments.length)return a;a=d;return b};b.order=function(a){if(!arguments.length)return d;d="function"===typeof a?a:fh.get(a)||Pd;
return b};b.offset=function(a){if(!arguments.length)return c;c="function"===typeof a?a:gh.get(a)||Qd;return b};b.x=function(a){if(!arguments.length)return e;e=a;return b};b.y=function(a){if(!arguments.length)return l;l=a;return b};b.out=function(a){if(!arguments.length)return h;h=a;return b};return b};var fh=n.map({"inside-out":function(b){var a=b.length,d,c=b.map(og),h=b.map(pg),e=n.range(a).sort(function(b,a){return c[b]-c[a]}),l=0,f=0,m=[],s=[];for(b=0;b<a;++b)d=e[b],l<f?(l+=h[d],m.push(d)):(f+=
h[d],s.push(d));return s.reverse().concat(m)},reverse:function(b){return n.range(b.length).reverse()},"default":Pd}),gh=n.map({silhouette:function(b){var a=b.length,d=b[0].length,c=[],h=0,e,l,f,n=[];for(l=0;l<d;++l){for(f=e=0;e<a;e++)f+=b[e][l][1];f>h&&(h=f);c.push(f)}for(l=0;l<d;++l)n[l]=(h-c[l])/2;return n},wiggle:function(b){var a=b.length,d=b[0],c=d.length,h,e,l,f,n,m,s,A,F,J=[];J[0]=A=F=0;for(e=1;e<c;++e){for(f=h=0;h<a;++h)f+=b[h][e][1];n=h=0;for(s=d[e][0]-d[e-1][0];h<a;++h){l=0;for(m=(b[h][e][1]-
b[h][e-1][1])/(2*s);l<h;++l)m+=(b[l][e][1]-b[l][e-1][1])/s;n+=m*b[h][e][1]}J[e]=A-=f?n/f*s:0;A<F&&(F=A)}for(e=0;e<c;++e)J[e]-=F;return J},expand:function(b){var a=b.length,d=b[0].length,c=1/a,h,e,l,f=[];for(e=0;e<d;++e){for(l=h=0;h<a;h++)l+=b[h][e][1];if(l)for(h=0;h<a;h++)b[h][e][1]/=l;else for(h=0;h<a;h++)b[h][e][1]=c}for(e=0;e<d;++e)f[e]=0;return f},zero:Qd});n.layout.histogram=function(){function b(b,e){var l=[],f=b.map(d,this),m=c.call(this,f,e),s=h.call(this,m,f,e),A;e=-1;for(var F=f.length,
J=s.length-1,v=a?1:1/F;++e<J;)A=l[e]=[],A.dx=s[e+1]-(A.x=s[e]),A.y=0;if(0<J)for(e=-1;++e<F;)A=f[e],A>=m[0]&&A<=m[1]&&(A=l[n.bisect(s,A,1,J)-1],A.y+=v,A.push(b[e]));return l}var a=!0,d=Number,c=sg,h=rg;b.value=function(a){if(!arguments.length)return d;d=a;return b};b.range=function(a){if(!arguments.length)return c;c=ga(a);return b};b.bins=function(a){if(!arguments.length)return h;h="number"===typeof a?function(b){return Me(b,a)}:ga(a);return b};b.frequency=function(d){if(!arguments.length)return a;
a=!!d;return b};return b};n.layout.tree=function(){function b(b,e){function l(b,a){var c=b.children,g=b._tree;if(c&&(h=c.length)){for(var h,e=c[0],f,q=e,n,m=-1;++m<h;){n=c[m];l(n,f);var s=n;if(f){for(var A=s,F=s,J=s.parent.children[0],v=A._tree.mod,M=F._tree.mod,C=f._tree.mod,P=J._tree.mod,I=void 0;f=Sd(f),A=Rd(A),f&&A;){J=Rd(J);F=Sd(F);F._tree.ancestor=s;I=f._tree.prelim+C-A._tree.prelim-v+d(f,A);if(0<I){var T=f._tree.ancestor.parent==s.parent?f._tree.ancestor:q,r=s,t=I,T=T._tree,r=r._tree,K=t/(r.number-
T.number);T.change+=K;r.change-=K;r.shift+=t;r.prelim+=t;r.mod+=t;v+=I;M+=I}C+=f._tree.mod;v+=A._tree.mod;P+=J._tree.mod;M+=F._tree.mod}f&&!Sd(F)&&(F._tree.thread=f,F._tree.mod+=C-M);A&&!Rd(J)&&(J._tree.thread=A,J._tree.mod+=v-P,q=s)}f=n}h=c=0;m=b.children;for(s=m.length;0<=--s;)q=m[s]._tree,q.prelim+=c,q.mod+=c,c+=q.shift+(h+=q.change);e=0.5*(e._tree.prelim+n._tree.prelim);a?(g.prelim=a._tree.prelim+d(b,a),g.mod=g.prelim-e):g.prelim=e}else a&&(g.prelim=a._tree.prelim+d(b,a))}function f(b,a){b.x=
b._tree.prelim+a;var d=b.children;if(d&&(g=d.length)){var c=-1,g;for(a+=b._tree.mod;++c<g;)f(d[c],a)}}var n=a.call(this,b,e),m=n[0];rb(m,function(b,a){b._tree={ancestor:b,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}});l(m);f(m,-m._tree.prelim);var s=cd(m,ug),A=cd(m,tg),F=cd(m,vg),J=s.x-d(s,A)/2,v=A.x+d(A,s)/2,M=F.depth||1;rb(m,h?function(b){b.x*=c[0];b.y=b.depth*c[1];delete b._tree}:function(b){b.x=(b.x-J)/(v-J)*c[0];b.y=b.depth/M*c[1];delete b._tree});return n}var a=n.layout.hierarchy().sort(null).value(null),
d=Ne,c=[1,1],h=!1;b.separation=function(a){if(!arguments.length)return d;d=a;return b};b.size=function(a){if(!arguments.length)return h?null:c;h=null==(c=a);return b};b.nodeSize=function(a){if(!arguments.length)return h?c:null;h=null!=(c=a);return b};return Dc(b,a)};n.layout.pack=function(){function b(b,e){var l=a.call(this,b,e),f=l[0],n=c[0],m=c[1],s=h||Math.sqrt;f.x=f.y=0;rb(f,function(b){b.r=s(b.value)});rb(f,Qe);if(d){var A=d*(h?1:Math.max(2*f.r/n,2*f.r/m))/2;rb(f,function(b){b.r+=A});rb(f,Qe);
rb(f,function(b){b.r-=A})}Se(f,n/2,m/2,h?1:1/Math.max(2*f.r/n,2*f.r/m));return l}var a=n.layout.hierarchy().sort(wg),d=0,c=[1,1],h;b.size=function(a){if(!arguments.length)return c;c=a;return b};b.radius=function(a){if(!arguments.length)return h;h=a;return b};b.padding=function(a){if(!arguments.length)return d;d=+a;return b};return Dc(b,a)};n.layout.cluster=function(){function b(b,e){var l=a.call(this,b,e),f=l[0],n,m=0;rb(f,function(b){var a=b.children;a&&a.length?(b.x=Ag(a),b.y=zg(a)):(b.x=n?m+=d(b,
n):0,b.y=0,n=b)});var s=Te(f),A=Ue(f),F=s.x-d(s,A)/2,J=A.x+d(A,s)/2;rb(f,h?function(b){b.x=(b.x-f.x)*c[0];b.y=(f.y-b.y)*c[1]}:function(b){b.x=(b.x-F)/(J-F)*c[0];b.y=(1-(f.y?b.y/f.y:1))*c[1]});return l}var a=n.layout.hierarchy().sort(null).value(null),d=Ne,c=[1,1],h=!1;b.separation=function(a){if(!arguments.length)return d;d=a;return b};b.size=function(a){if(!arguments.length)return h?null:c;h=null==(c=a);return b};b.nodeSize=function(a){if(!arguments.length)return h?c:null;h=null!=(c=a);return b};
return Dc(b,a)};n.layout.treemap=function(){function b(b,a){for(var d=-1,c=b.length,h,g;++d<c;)g=(h=b[d]).value*(0>a?0:a),h.area=isNaN(g)||0>=g?0:g}function a(d){var h=d.children;if(h&&h.length){var e=s(d),l=[],f=h.slice(),q=Infinity,n,u="slice"===J?e.dx:"dice"===J?e.dy:"slice-dice"===J?d.depth&1?e.dy:e.dx:Math.min(e.dx,e.dy);b(f,e.dx*e.dy/d.value);for(l.area=0;0<(d=f.length);){l.push(d=f[d-1]);l.area+=d.area;if(!(d="squarify"!==J)){n=u;d=l.area;for(var m=void 0,A=0,F=Infinity,M=-1,C=l.length;++M<
C;)if(m=l[M].area)m<F&&(F=m),m>A&&(A=m);d*=d;n*=n;d=(n=d?Math.max(n*A*v/d,d/(n*F*v)):Infinity)<=q}d?(f.pop(),q=n):(l.area-=l.pop().area,c(l,u,e,!1),u=Math.min(e.dx,e.dy),l.length=l.area=0,q=Infinity)}l.length&&(c(l,u,e,!0),l.length=l.area=0);h.forEach(a)}}function d(a){var h=a.children;if(h&&h.length){var g=s(a),e=h.slice(),l=[];b(e,g.dx*g.dy/a.value);for(l.area=0;a=e.pop();)l.push(a),l.area+=a.area,null!=a.z&&(c(l,a.z?g.dx:g.dy,g,!e.length),l.length=l.area=0);h.forEach(d)}}function c(b,a,d,h){var g=
-1,e=b.length,f=d.x,q=d.y,n=a?l(b.area/a):0,u;if(a==d.dx){if(h||n>d.dy)n=d.dy;for(;++g<e;)u=b[g],u.x=f,u.y=q,u.dy=n,f+=u.dx=Math.min(d.x+d.dx-f,n?l(u.area/n):0);u.z=!0;u.dx+=d.x+d.dx-f;d.y+=n;d.dy-=n}else{if(h||n>d.dx)n=d.dx;for(;++g<e;)u=b[g],u.x=f,u.y=q,u.dx=n,q+=u.dy=Math.min(d.y+d.dy-q,n?l(u.area/n):0);u.z=!1;u.dy+=d.y+d.dy-q;d.x+=n;d.dx-=n}}function h(c){c=F||e(c);var l=c[0];l.x=0;l.y=0;l.dx=f[0];l.dy=f[1];F&&e.revalue(l);b([l],l.dx*l.dy/l.value);(F?d:a)(l);A&&(F=c);return c}var e=n.layout.hierarchy(),
l=Math.round,f=[1,1],m=null,s=Ud,A=!1,F,J="squarify",v=0.5*(1+Math.sqrt(5));h.size=function(b){if(!arguments.length)return f;f=b;return h};h.padding=function(b){function a(d){var c=b.call(h,d,d.depth);return null==c?Ud(d):Ve(d,"number"===typeof c?[c,c,c,c]:c)}function d(a){return Ve(a,b)}if(!arguments.length)return m;var c;s=null==(m=b)?Ud:"function"===(c=typeof b)?a:"number"===c?(b=[b,b,b,b],d):d;return h};h.round=function(b){if(!arguments.length)return l!=Number;l=b?Math.round:Number;return h};
h.sticky=function(b){if(!arguments.length)return A;A=b;F=null;return h};h.ratio=function(b){if(!arguments.length)return v;v=b;return h};h.mode=function(b){if(!arguments.length)return J;J=b+"";return h};return Dc(h,e)};n.random={normal:function(b,a){var d=arguments.length;2>d&&(a=1);1>d&&(b=0);return function(){var d,c;do d=2*Math.random()-1,c=2*Math.random()-1,c=d*d+c*c;while(!c||1<c);return b+a*d*Math.sqrt(-2*Math.log(c)/c)}},logNormal:function(){var b=n.random.normal.apply(n,arguments);return function(){return Math.exp(b())}},
irwinHall:function(b){return function(){for(var a=0,d=0;d<b;d++)a+=Math.random();return a/b}}};n.scale={};var Cg={floor:Da,ceil:Da};n.scale.linear=function(){return Xe([0,1],[0,1],Pb,!1)};n.scale.log=function(){return $e(n.scale.linear().domain([0,Math.LN10]),10,Yd,af,[1,10])};var bf=n.format(".0e");n.scale.pow=function(){return cf(n.scale.linear(),1,[0,1])};n.scale.sqrt=function(){return n.scale.pow().exponent(0.5)};n.scale.ordinal=function(){return df([],{t:"range",a:[[]]})};n.scale.category10=
function(){return n.scale.ordinal().range(hh)};n.scale.category20=function(){return n.scale.ordinal().range(ih)};n.scale.category20b=function(){return n.scale.ordinal().range(jh)};n.scale.category20c=function(){return n.scale.ordinal().range(kh)};var hh="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),ih="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),
jh="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),kh="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");n.scale.quantile=function(){return ef([],[])};n.scale.quantize=function(){return ff(0,1,[0,1])};n.scale.threshold=function(){return gf([0.5],[0,1])};
n.scale.identity=function(){return hf([0,1])};n.svg.arc=function(){function b(){var b=a.apply(this,arguments),e=d.apply(this,arguments),l=c.apply(this,arguments)+Rb,f=h.apply(this,arguments)+Rb,n=(f<l&&(n=l,l=f,f=n),f-l),m=n<W?"0":"1",s=Math.cos(l),l=Math.sin(l),A=Math.cos(f),f=Math.sin(f);return n>=lh?b?"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"M0,"+b+"A"+b+","+b+" 0 1,0 0,"+-b+"A"+b+","+b+" 0 1,0 0,"+b+"Z":"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z":b?"M"+
e*s+","+e*l+"A"+e+","+e+" 0 "+m+",1 "+e*A+","+e*f+"L"+b*A+","+b*f+"A"+b+","+b+" 0 "+m+",0 "+b*s+","+b*l+"Z":"M"+e*s+","+e*l+"A"+e+","+e+" 0 "+m+",1 "+e*A+","+e*f+"L0,0Z"}var a=Fg,d=Gg,c=jf,h=kf;b.innerRadius=function(d){if(!arguments.length)return a;a=ga(d);return b};b.outerRadius=function(a){if(!arguments.length)return d;d=ga(a);return b};b.startAngle=function(a){if(!arguments.length)return c;c=ga(a);return b};b.endAngle=function(a){if(!arguments.length)return h;h=ga(a);return b};b.centroid=function(){var b=
(a.apply(this,arguments)+d.apply(this,arguments))/2,e=(c.apply(this,arguments)+h.apply(this,arguments))/2+Rb;return[Math.cos(e)*b,Math.sin(e)*b]};return b};var Rb=-W/2,lh=2*W-1E-6;n.svg.line.radial=function(){var b=Zc(lf);b.radius=b.x;delete b.x;b.angle=b.y;delete b.y;return b};O.reverse=Ld;Ld.reverse=O;n.svg.area=function(){return mf(Da)};n.svg.area.radial=function(){var b=mf(lf);b.radius=b.x;delete b.x;b.innerRadius=b.x0;delete b.x0;b.outerRadius=b.x1;delete b.x1;b.angle=b.y;delete b.y;b.startAngle=
b.y0;delete b.y0;b.endAngle=b.y1;delete b.y1;return b};n.svg.chord=function(){function b(b,h){var e=a(this,d,b,h),l=a(this,c,b,h);return"M"+e.p0+("A"+e.r+","+e.r+" 0 "+ +(e.a1-e.a0>W)+",1 "+e.p1)+(e.a0==l.a0&&e.a1==l.a1?"Q 0,0 "+e.p0:"Q 0,0 "+l.p0+("A"+l.r+","+l.r+" 0 "+ +(l.a1-l.a0>W)+",1 "+l.p1)+("Q 0,0 "+e.p0))+"Z"}function a(b,d,c,g){var f=d.call(b,c,g);d=h.call(b,f,g);c=e.call(b,f,g)+Rb;b=l.call(b,f,g)+Rb;return{r:d,a0:c,a1:b,p0:[d*Math.cos(c),d*Math.sin(c)],p1:[d*Math.cos(b),d*Math.sin(b)]}}
var d=v,c=C,h=Hg,e=jf,l=kf;b.radius=function(a){if(!arguments.length)return h;h=ga(a);return b};b.source=function(a){if(!arguments.length)return d;d=ga(a);return b};b.target=function(a){if(!arguments.length)return c;c=ga(a);return b};b.startAngle=function(a){if(!arguments.length)return e;e=ga(a);return b};b.endAngle=function(a){if(!arguments.length)return l;l=ga(a);return b};return b};n.svg.diagonal=function(){function b(b,h){var e=a.call(this,b,h),l=d.call(this,b,h),f=(e.y+l.y)/2,e=[e,{x:e.x,y:f},
{x:l.x,y:f},l],e=e.map(c);return"M"+e[0]+"C"+e[1]+" "+e[2]+" "+e[3]}var a=v,d=C,c=nf;b.source=function(d){if(!arguments.length)return a;a=ga(d);return b};b.target=function(a){if(!arguments.length)return d;d=ga(a);return b};b.projection=function(a){if(!arguments.length)return c;c=a;return b};return b};n.svg.diagonal.radial=function(){var b=n.svg.diagonal(),a=nf,d=b.projection;b.projection=function(b){return arguments.length?d(Ig(a=b)):a};return b};n.svg.symbol=function(){function b(b,c){return(Jf.get(a.call(this,
b,c))||of)(d.call(this,b,c))}var a=Kg,d=Jg;b.type=function(d){if(!arguments.length)return a;a=ga(d);return b};b.size=function(a){if(!arguments.length)return d;d=ga(a);return b};return b};var Jf=n.map({circle:of,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*Kf));var a=b*Kf;return"M0,"+-b+"L"+a+",0 0,"+b+" "+-a+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+
","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/yd);var a=b*yd/2;return"M0,"+a+"L"+b+","+-a+" "+-b+","+-a+"Z"},"triangle-up":function(b){b=Math.sqrt(b/yd);var a=b*yd/2;return"M0,"+-a+"L"+b+","+a+" "+-b+","+a+"Z"}});n.svg.symbolTypes=Jf.keys();var yd=Math.sqrt(3),Kf=Math.tan(30*$),ya=[],yf=0,Fc,md={ease:function(b){if(0>=b)return 0;if(1<=b)return 1;var a=b*b,d=a*b;return 4*(0.5>b?d:3*(b-a)+d-0.75)},delay:0,duration:250};ya.call=ia.call;ya.empty=ia.empty;
ya.node=ia.node;ya.size=ia.size;n.transition=function(b){return arguments.length?Fc?b.transition():b:xf.transition()};n.transition.prototype=ya;ya.select=function(b){var a=this.id,d=[],c,h,e;"function"!==typeof b&&(b=H(b));for(var l=-1,f=this.length;++l<f;){d.push(c=[]);for(var n=this[l],m=-1,s=n.length;++m<s;)(e=n[m])&&(h=b.call(e,e.__data__,m))?("__data__"in e&&(h.__data__=e.__data__),gd(h,m,a,e.__transition__[a]),c.push(h)):c.push(null)}return Ec(d,a)};ya.selectAll=function(b){var a=this.id,d=
[],c,h,e,l;"function"!==typeof b&&(b=V(b));for(var f=-1,n=this.length;++f<n;)for(var m=this[f],s=-1,A=m.length;++s<A;)if(c=m[s]){l=c.__transition__[a];h=b.call(c,c.__data__,s);d.push(c=[]);for(var F=-1,J=h.length;++F<J;)(e=h[F])&&gd(e,F,a,l),c.push(e)}return Ec(d,a)};ya.filter=function(b){var a=[],d,c,h;"function"!==typeof b&&(b=La(b));for(var e=0,l=this.length;e<l;e++){a.push(d=[]);c=this[e];for(var f=0,n=c.length;f<n;f++)(h=c[f])&&b.call(h,h.__data__,f)&&d.push(h)}return Ec(a,this.id,this.time).ease(this.ease())};
ya.tween=function(b,a){var d=this.id;return 2>arguments.length?this.node().__transition__[d].tween.get(b):Y(this,null==a?function(a){a.__transition__[d].tween.remove(b)}:function(c){c.__transition__[d].tween.set(b,a)})};ya.attr=function(b,a){function d(){this.removeAttribute(f)}function c(){this.removeAttributeNS(f.space,f.local)}function h(b){return null==b?d:(b+="",function(){var a=this.getAttribute(f),d;return a!==b&&(d=l(a,b),function(b){this.setAttribute(f,d(b))})})}function e(b){return null==
b?c:(b+="",function(){var a=this.getAttributeNS(f.space,f.local),d;return a!==b&&(d=l(a,b),function(b){this.setAttributeNS(f.space,f.local,d(b))})})}if(2>arguments.length){for(a in b)this.attr(a,b[a]);return this}var l="transform"==b?ad:Pb,f=n.ns.qualify(b);return Zd(this,"attr."+b,a,f.local?e:h)};ya.attrTween=function(b,a){function d(b,c){var e=a.call(this,b,c,this.getAttribute(h));return e&&function(b){this.setAttribute(h,e(b))}}function c(b,d){var e=a.call(this,b,d,this.getAttributeNS(h.space,
h.local));return e&&function(b){this.setAttributeNS(h.space,h.local,e(b))}}var h=n.ns.qualify(b);return this.tween("attr."+b,h.local?c:d)};ya.style=function(b,a,d){function c(){this.style.removeProperty(b)}var h=arguments.length;if(3>h){if("string"!==typeof b){2>h&&(a="");for(d in b)this.style(d,b[d],a);return this}d=""}var e="transform"==b?ad:Pb;return Zd(this,"style."+b,a,function(a){return null==a?c:(a+="",function(){var c=Oa.getComputedStyle(this,null).getPropertyValue(b),h;return c!==a&&(h=e(c,
a),function(a){this.style.setProperty(b,h(a),d)})})})};ya.styleTween=function(b,a,d){3>arguments.length&&(d="");return this.tween("style."+b,function(c,h){var e=a.call(this,c,h,Oa.getComputedStyle(this,null).getPropertyValue(b));return e&&function(a){this.style.setProperty(b,e(a),d)}})};ya.text=function(b){return Zd(this,"text",b,Lg)};ya.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})};ya.ease=function(b){var a=
this.id;if(1>arguments.length)return this.node().__transition__[a].ease;"function"!==typeof b&&(b=n.ease.apply(n,arguments));return Y(this,function(d){d.__transition__[a].ease=b})};ya.delay=function(b){var a=this.id;return Y(this,"function"===typeof b?function(d,c,h){d.__transition__[a].delay=b.call(d,d.__data__,c,h)|0}:(b|=0,function(d){d.__transition__[a].delay=b}))};ya.duration=function(b){var a=this.id;return Y(this,"function"===typeof b?function(d,c,h){d.__transition__[a].duration=Math.max(1,
b.call(d,d.__data__,c,h)|0)}:(b=Math.max(1,b|0),function(d){d.__transition__[a].duration=b}))};ya.each=function(b,a){var d=this.id;if(2>arguments.length){var c=md,h=Fc;Fc=d;Y(this,function(a,c,h){md=a.__transition__[d];b.call(a,a.__data__,c,h)});md=c;Fc=h}else Y(this,function(c){c.__transition__[d].event.on(b,a)});return this};ya.transition=function(){for(var b=this.id,a=++yf,d=[],c,h,e,l,f=0,n=this.length;f<n;f++){d.push(c=[]);h=this[f];for(var m=0,s=h.length;m<s;m++){if(e=h[m])l=Object.create(e.__transition__[b]),
l.delay+=l.duration,gd(e,m,a,l);c.push(e)}}return Ec(d,a)};n.svg.axis=function(){function b(b){b.each(function(){var b=n.select(this),F=null==m?a.ticks?a.ticks.apply(a,f):a.domain():m,J=null==s?a.tickFormat?a.tickFormat.apply(a,f):String:s,v=Mg(a,F,A),M=b.selectAll(".tick.minor").data(v,String),v=M.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1E-6),C=n.transition(M.exit()).style("opacity",1E-6).remove(),M=n.transition(M).style("opacity",1),P=b.selectAll(".tick.major").data(F,
String),F=P.enter().insert("g",".domain").attr("class","tick major").style("opacity",1E-6),I=n.transition(P.exit()).style("opacity",1E-6).remove(),r=n.transition(P).style("opacity",1),T,t=dd(a),b=b.selectAll(".domain").data([0]),b=(b.enter().append("path").attr("class","domain"),n.transition(b)),K=a.copy(),x=this.__chart__||K;this.__chart__=K;F.append("line");F.append("text");var w=F.select("line"),z=r.select("line"),J=P.select("text").text(J),P=F.select("text"),y=r.select("text");switch(d){case "bottom":T=
pf;v.attr("y2",h);M.attr("x2",0).attr("y2",h);w.attr("y2",c);P.attr("y",Math.max(c,0)+l);z.attr("x2",0).attr("y2",c);y.attr("x",0).attr("y",Math.max(c,0)+l);J.attr("dy",".71em").style("text-anchor","middle");b.attr("d","M"+t[0]+","+e+"V0H"+t[1]+"V"+e);break;case "top":T=pf;v.attr("y2",-h);M.attr("x2",0).attr("y2",-h);w.attr("y2",-c);P.attr("y",-(Math.max(c,0)+l));z.attr("x2",0).attr("y2",-c);y.attr("x",0).attr("y",-(Math.max(c,0)+l));J.attr("dy","0em").style("text-anchor","middle");b.attr("d","M"+
t[0]+","+-e+"V0H"+t[1]+"V"+-e);break;case "left":T=qf;v.attr("x2",-h);M.attr("x2",-h).attr("y2",0);w.attr("x2",-c);P.attr("x",-(Math.max(c,0)+l));z.attr("x2",-c).attr("y2",0);y.attr("x",-(Math.max(c,0)+l)).attr("y",0);J.attr("dy",".32em").style("text-anchor","end");b.attr("d","M"+-e+","+t[0]+"H0V"+t[1]+"H"+-e);break;case "right":T=qf,v.attr("x2",h),M.attr("x2",h).attr("y2",0),w.attr("x2",c),P.attr("x",Math.max(c,0)+l),z.attr("x2",c).attr("y2",0),y.attr("x",Math.max(c,0)+l).attr("y",0),J.attr("dy",
".32em").style("text-anchor","start"),b.attr("d","M"+e+","+t[0]+"H0V"+t[1]+"H"+e)}if(a.ticks)F.call(T,x),r.call(T,K),I.call(T,K),v.call(T,x),M.call(T,K),C.call(T,K);else{var Wa=K.rangeBand()/2,v=function(b){return K(b)+Wa};F.call(T,v);r.call(T,v)}})}var a=n.scale.linear(),d=Lf,c=6,h=6,e=6,l=3,f=[10],m=null,s,A=0;b.scale=function(d){if(!arguments.length)return a;a=d;return b};b.orient=function(a){if(!arguments.length)return d;d=a in mh?a+"":Lf;return b};b.ticks=function(){if(!arguments.length)return f;
f=arguments;return b};b.tickValues=function(a){if(!arguments.length)return m;m=a;return b};b.tickFormat=function(a){if(!arguments.length)return s;s=a;return b};b.tickSize=function(a,d){if(!arguments.length)return c;var g=arguments.length-1;c=+a;h=1<g?+d:c;e=0<g?+arguments[g]:c;return b};b.tickPadding=function(a){if(!arguments.length)return l;l=+a;return b};b.tickSubdivide=function(a){if(!arguments.length)return A;A=+a;return b};return b};var Lf="bottom",mh={top:1,right:1,bottom:1,left:1};n.svg.brush=
function(){function b(e){e.each(function(){var e=n.select(this),q=e.selectAll(".background").data([0]),s=e.selectAll(".extent").data([0]),A=e.selectAll(".resize").data(m,String);e.style("pointer-events","all").on("mousedown.brush",h).on("touchstart.brush",h);q.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");s.enter().append("rect").attr("class","extent").style("cursor","move");A.enter().append("g").attr("class",function(b){return"resize "+
b}).style("cursor",function(b){return nh[b]}).append("rect").attr("x",function(b){return/[ew]$/.test(b)?-3:null}).attr("y",function(b){return/^[ns]/.test(b)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");A.style("display",b.empty()?"none":null);A.exit().remove();l&&(s=dd(l),q.attr("x",s[0]).attr("width",s[1]-s[0]),d(e));f&&(s=dd(f),q.attr("y",s[0]).attr("height",s[1]-s[0]),c(e));a(e)})}function a(b){b.selectAll(".resize").attr("transform",function(b){return"translate("+s[+/e$/.test(b)][0]+
","+s[+/^s/.test(b)][1]+")"})}function d(b){b.select(".extent").attr("x",s[0][0]);b.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function c(b){b.select(".extent").attr("y",s[0][1]);b.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function h(){function m(){var b=n.event.changedTouches;return b?n.touches(C,b)[0]:n.mouse(C)}function J(){var b=m(),h=!1;Wa&&(b[0]+=Wa[0],b[1]+=Wa[1]);x||(n.event.altKey?(z||(z=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),y[0]=s[+(b[0]<
z[0])][0],y[1]=s[+(b[1]<z[1])][1]):z=null);t&&v(b,l,0)&&(d(T),h=!0);K&&v(b,f,1)&&(c(T),h=!0);h&&(a(T),I({type:"brush",mode:x?"move":"resize"}))}function v(b,a,d){var c=dd(a);a=c[0];var h=c[1],c=y[d],g=s[1][d]-s[0][d];x&&(a-=c,h-=g+c);b=A[d]?Math.max(a,Math.min(h,b[d])):b[d];x?a=(b+=c)+g:(z&&(c=Math.max(a,Math.min(h,2*z[d]-b))),c<b?(a=b,b=c):a=c);if(s[0][d]!==b||s[1][d]!==a)return F=null,s[0][d]=b,s[1][d]=a,!0}function M(){J();T.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?
"none":null);n.select("body").style("cursor",null);pb.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);w();I({type:"brushend"})}var C=this,P=n.select(n.event.target),I=e.of(C,arguments),T=n.select(C),r=P.datum(),t=!/^(n|s)$/.test(r)&&l,K=!/^(e|w)$/.test(r)&&f,x=P.classed("extent"),w=sa("brush"),z,y=m(),Wa,pb=n.select(Oa).on("keydown.brush",function(){32==n.event.keyCode&&(x||(z=null,y[0]-=s[1][0],
y[1]-=s[1][1],x=2),B())}).on("keyup.brush",function(){32==n.event.keyCode&&2==x&&(y[0]+=s[1][0],y[1]+=s[1][1],x=0,B())});if(n.event.changedTouches)pb.on("touchmove.brush",J).on("touchend.brush",M);else pb.on("mousemove.brush",J).on("mouseup.brush",M);if(x)y[0]=s[0][0]-y[0],y[1]=s[0][1]-y[1];else if(r){var Fa=+/w$/.test(r),r=+/^n/.test(r);Wa=[s[1-Fa][0]-y[0],s[1-r][1]-y[1]];y[0]=s[Fa][0];y[1]=s[r][1]}else n.event.altKey&&(z=y.slice());T.style("pointer-events","none").selectAll(".resize").style("display",
null);n.select("body").style("cursor",P.style("cursor"));I({type:"brushstart"});J()}var e=D(b,"brushstart","brush","brushend"),l=null,f=null,m=je[0],s=[[0,0],[0,0]],A=[!0,!0],F;b.x=function(a){if(!arguments.length)return l;l=a;m=je[!l<<1|!f];return b};b.y=function(a){if(!arguments.length)return f;f=a;m=je[!l<<1|!f];return b};b.clamp=function(a){if(!arguments.length)return l&&f?A:l||f?A[+!l]:null;if(l&&f)A=[!!a[0],!!a[1]];else if(l||f)A[+!l]=!!a;return b};b.extent=function(a){var d,c,h,g,e;if(!arguments.length)return a=
F||s,l&&(d=a[0][0],c=a[1][0],F||(d=s[0][0],c=s[1][0],l.invert&&(d=l.invert(d),c=l.invert(c)),c<d&&(e=d,d=c,c=e))),f&&(h=a[0][1],g=a[1][1],F||(h=s[0][1],g=s[1][1],f.invert&&(h=f.invert(h),g=f.invert(g)),g<h&&(e=h,h=g,g=e))),l&&f?[[d,h],[c,g]]:l?[d,c]:f&&[h,g];F=[[0,0],[0,0]];l&&(d=a[0],c=a[1],f&&(d=d[0],c=c[0]),F[0][0]=d,F[1][0]=c,l.invert&&(d=l(d),c=l(c)),c<d&&(e=d,d=c,c=e),s[0][0]=d|0,s[1][0]=c|0);f&&(h=a[0],g=a[1],l&&(h=h[1],g=g[1]),F[0][1]=h,F[1][1]=g,f.invert&&(h=f(h),g=f(g)),g<h&&(e=h,h=g,g=
e),s[0][1]=h|0,s[1][1]=g|0);return b};b.clear=function(){F=null;s[0][0]=s[0][1]=s[1][0]=s[1][1]=0;return b};b.empty=function(){return l&&s[0][0]===s[1][0]||f&&s[0][1]===s[1][1]};return n.rebind(b,e,"on")};var nh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},je=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];n.time={};var Ja=Date;Sb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},
getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){sb.setUTCDate.apply(this._,arguments)},
setDay:function(){sb.setUTCDay.apply(this._,arguments)},setFullYear:function(){sb.setUTCFullYear.apply(this._,arguments)},setHours:function(){sb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){sb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){sb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){sb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){sb.setUTCSeconds.apply(this._,arguments)},setTime:function(){sb.setTime.apply(this._,arguments)}};var sb=
Date.prototype,ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),le="Sun Mon Tue Wed Thu Fri Sat".split(" "),me="January February March April May June July August September October November December".split(" "),ne="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");n.time.year=Tb(function(b){b=n.time.day(b);b.setMonth(0,1);return b},function(b,a){b.setFullYear(b.getFullYear()+a)},function(b){return b.getFullYear()});n.time.years=n.time.year.range;n.time.years.utc=n.time.year.utc.range;
n.time.day=Tb(function(b){var a=new Ja(2E3,0);a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());return a},function(b,a){b.setDate(b.getDate()+a)},function(b){return b.getDate()-1});n.time.days=n.time.day.range;n.time.days.utc=n.time.day.utc.range;n.time.dayOfYear=function(b){var a=n.time.year(b);return Math.floor((b-a-6E4*(b.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(b,a){b=b.toLowerCase();a=7-a;
var d=n.time[b]=Tb(function(b){(b=n.time.day(b)).setDate(b.getDate()-(b.getDay()+a)%7);return b},function(b,a){b.setDate(b.getDate()+7*Math.floor(a))},function(b){var d=n.time.year(b).getDay();return Math.floor((n.time.dayOfYear(b)+(d+a)%7)/7)-(d!==a)});n.time[b+"s"]=d.range;n.time[b+"s"].utc=d.utc.range;n.time[b+"OfYear"]=function(b){var d=n.time.year(b).getDay();return Math.floor((n.time.dayOfYear(b)+(d+a)%7)/7)}});n.time.week=n.time.sunday;n.time.weeks=n.time.sunday.range;n.time.weeks.utc=n.time.sunday.utc.range;
n.time.weekOfYear=n.time.sundayOfYear;n.time.format=function(b){function a(c){for(var h=[],g=-1,e=0,l,f;++g<d;)if(37===b.charCodeAt(g)){h.push(b.substring(e,g));if(null!=(l=oh[e=b.charAt(++g)]))e=b.charAt(++g);if(f=zd[e])e=f(c,null==l?"e"===e?" ":"0":l);h.push(e);e=g+1}h.push(b.substring(e,g));return h.join("")}var d=b.length;a.parse=function(a){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(id(d,b,a,0)!=a.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);a=new Ja;"j"in d?a.setFullYear(d.y,0,d.j):"w"in d&&
("W"in d||"U"in d)?(a.setFullYear(d.y,0,1),a.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(a.getDay()+5)%7:d.w+7*d.U-(a.getDay()+6)%7)):a.setFullYear(d.y,d.m,d.d);a.setHours(d.H,d.M,d.S,d.L);return a};a.toString=function(){return b};return a};var Mf=jd(ke),ph=kd(ke),Nf=jd(le),qh=kd(le),Of=jd(me),rh=kd(me),Pf=jd(ne),sh=kd(ne),Qf=/^%/,oh={"-":"",_:" ",0:"0"},zd={a:function(b){return le[b.getDay()]},A:function(b){return ke[b.getDay()]},b:function(b){return ne[b.getMonth()]},B:function(b){return me[b.getMonth()]},
c:n.time.format("%a %b %e %X %Y"),d:function(b,a){return Ma(b.getDate(),a,2)},e:function(b,a){return Ma(b.getDate(),a,2)},H:function(b,a){return Ma(b.getHours(),a,2)},I:function(b,a){return Ma(b.getHours()%12||12,a,2)},j:function(b,a){return Ma(1+n.time.dayOfYear(b),a,3)},L:function(b,a){return Ma(b.getMilliseconds(),a,3)},m:function(b,a){return Ma(b.getMonth()+1,a,2)},M:function(b,a){return Ma(b.getMinutes(),a,2)},p:function(b){return 12<=b.getHours()?"PM":"AM"},S:function(b,a){return Ma(b.getSeconds(),
a,2)},U:function(b,a){return Ma(n.time.sundayOfYear(b),a,2)},w:function(b){return b.getDay()},W:function(b,a){return Ma(n.time.mondayOfYear(b),a,2)},x:n.time.format("%m/%d/%Y"),X:n.time.format("%H:%M:%S"),y:function(b,a){return Ma(b.getFullYear()%100,a,2)},Y:function(b,a){return Ma(b.getFullYear()%1E4,a,4)},Z:function(b){var a=b.getTimezoneOffset();b=0<a?"-":"+";var d=~~(Math.abs(a)/60),a=Math.abs(a)%60;return b+Ma(d,"0",2)+Ma(a,"0",2)},"%":function(){return"%"}},Ng={a:function(b,a,d){Nf.lastIndex=
0;return(a=Nf.exec(a.substring(d)))?(b.w=qh.get(a[0].toLowerCase()),d+a[0].length):-1},A:function(b,a,d){Mf.lastIndex=0;return(a=Mf.exec(a.substring(d)))?(b.w=ph.get(a[0].toLowerCase()),d+a[0].length):-1},b:function(b,a,d){Pf.lastIndex=0;return(a=Pf.exec(a.substring(d)))?(b.m=sh.get(a[0].toLowerCase()),d+a[0].length):-1},B:function(b,a,d){Of.lastIndex=0;return(a=Of.exec(a.substring(d)))?(b.m=rh.get(a[0].toLowerCase()),d+a[0].length):-1},c:function(b,a,d){return id(b,zd.c.toString(),a,d)},d:rf,e:rf,
H:sf,I:sf,j:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+3)))?(b.j=+a[0],d+a[0].length):-1},L:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+3)))?(b.L=+a[0],d+a[0].length):-1},m:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.m=a[0]-1,d+a[0].length):-1},M:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.M=+a[0],d+a[0].length):-1},p:function(b,a,d){a=th.get(a.substring(d,d+=2).toLowerCase());return null==a?-1:(b.p=a,
d)},S:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.S=+a[0],d+a[0].length):-1},U:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d)))?(b.U=+a[0],d+a[0].length):-1},w:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+1)))?(b.w=+a[0],d+a[0].length):-1},W:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d)))?(b.W=+a[0],d+a[0].length):-1},x:function(b,a,d){return id(b,zd.x.toString(),a,d)},X:function(b,a,d){return id(b,zd.X.toString(),a,d)},
y:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+2)))?(b.y=+a[0]+(68<+a[0]?1900:2E3),d+a[0].length):-1},Y:function(b,a,d){ta.lastIndex=0;return(a=ta.exec(a.substring(d,d+4)))?(b.y=+a[0],d+a[0].length):-1},"%":function(b,a,d){Qf.lastIndex=0;return(b=Qf.exec(a.substring(d,d+1)))?d+b[0].length:-1}},ta=/^\s*\d+/,th=n.map({am:0,pm:1});n.time.format.utc=function(b){function a(b){try{Ja=Sb;var c=new Ja;c._=b;return d(c)}finally{Ja=Date}}var d=n.time.format(b);a.parse=function(b){try{Ja=
Sb;var a=d.parse(b);return a&&a._}finally{Ja=Date}};a.toString=d.toString;return a};var Rf=n.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");n.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$d:Rf;$d.parse=function(b){b=new Date(b);return isNaN(b)?null:b};$d.toString=Rf.toString;n.time.second=Tb(function(b){return new Ja(1E3*Math.floor(b/1E3))},function(b,a){b.setTime(b.getTime()+1E3*Math.floor(a))},function(b){return b.getSeconds()});n.time.seconds=n.time.second.range;
n.time.seconds.utc=n.time.second.utc.range;n.time.minute=Tb(function(b){return new Ja(6E4*Math.floor(b/6E4))},function(b,a){b.setTime(b.getTime()+6E4*Math.floor(a))},function(b){return b.getMinutes()});n.time.minutes=n.time.minute.range;n.time.minutes.utc=n.time.minute.utc.range;n.time.hour=Tb(function(b){var a=b.getTimezoneOffset()/60;return new Ja(36E5*(Math.floor(b/36E5-a)+a))},function(b,a){b.setTime(b.getTime()+36E5*Math.floor(a))},function(b){return b.getHours()});n.time.hours=n.time.hour.range;
n.time.hours.utc=n.time.hour.utc.range;n.time.month=Tb(function(b){b=n.time.day(b);b.setDate(1);return b},function(b,a){b.setMonth(b.getMonth()+a)},function(b){return b.getMonth()});n.time.months=n.time.month.range;n.time.months.utc=n.time.month.utc.range;var ld=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],oe=[[n.time.second,1],[n.time.second,5],[n.time.second,15],[n.time.second,30],[n.time.minute,1],[n.time.minute,5],[n.time.minute,15],[n.time.minute,
30],[n.time.hour,1],[n.time.hour,3],[n.time.hour,6],[n.time.hour,12],[n.time.day,1],[n.time.day,2],[n.time.week,1],[n.time.month,1],[n.time.month,3],[n.time.year,1]],uh=[[n.time.format("%Y"),Mb],[n.time.format("%B"),function(b){return b.getMonth()}],[n.time.format("%b %d"),function(b){return 1!=b.getDate()}],[n.time.format("%a %d"),function(b){return b.getDay()&&1!=b.getDate()}],[n.time.format("%I %p"),function(b){return b.getHours()}],[n.time.format("%I:%M"),function(b){return b.getMinutes()}],[n.time.format(":%S"),
function(b){return b.getSeconds()}],[n.time.format(".%L"),function(b){return b.getMilliseconds()}]],Sf=n.scale.linear(),vh=tf(uh);oe.year=function(b,a){return Sf.domain(b.map(Og)).ticks(a).map(ce)};n.time.scale=function(){return ae(n.scale.linear(),oe,vh)};var Tf=oe.map(function(b){return[b[0].utc,b[1]]}),wh=[[n.time.format.utc("%Y"),Mb],[n.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[n.time.format.utc("%b %d"),function(b){return 1!=b.getUTCDate()}],[n.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&
1!=b.getUTCDate()}],[n.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[n.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[n.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[n.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],xh=tf(wh);Tf.year=function(b,a){return Sf.domain(b.map(Pg)).ticks(a).map(de)};n.time.scale.utc=function(){return ae(n.scale.linear(),Tf,xh)};n.text=eb(function(b){return b.responseText});n.json=function(b,a){return qc(b,
"application/json",Qg,a)};n.html=function(b,a){return qc(b,"text/html",Rg,a)};n.xml=eb(function(b){return b.responseXML});return n}();(function(c){var f,a,t=/[\.\/]/,z=function(){},w=function(a,c){return a-c},y={n:{}},x=function(c,t){c+="";var z,y=a,S=Array.prototype.slice.call(arguments,2),D=x.listeners(c),N=0,H=[],V={},L=[],da=f;f=c;for(var la=a=0,xa=D.length;xa>la;la++)"zIndex"in D[la]&&(H.push(D[la].zIndex),0>D[la].zIndex&&(V[D[la].zIndex]=D[la]));for(H.sort(w);0>H[N];)if(z=V[H[N++]],L.push(z.apply(t,S)),a)return a=y,L;for(la=0;xa>la;la++)if(z=D[la],"zIndex"in z)if(z.zIndex==H[N]){if(L.push(z.apply(t,S)),a)break;do if(N++,z=
V[H[N]],z&&L.push(z.apply(t,S)),a)break;while(z)}else V[z.zIndex]=z;else if(L.push(z.apply(t,S)),a)break;return a=y,f=da,L.length?L:null};x._events=y;x.listeners=function(a){var c,f,x,z,w,N,H,V=a.split(t);c=y;var L=[c],da=[];a=0;for(z=V.length;z>a;a++){H=[];w=0;for(N=L.length;N>w;w++){c=L[w].n;f=[c[V[a]],c["*"]];for(x=2;x--;)(c=f[x])&&(H.push(c),da=da.concat(c.f||[]))}L=H}return da};x.on=function(a,c){if(a+="","function"!=typeof c)return function(){};for(var f=a.split(t),x=y,w=0,D=f.length;D>w;w++)x=
x.n,x=x.hasOwnProperty(f[w])&&x[f[w]]||(x[f[w]]={n:{}});x.f=x.f||[];w=0;for(D=x.f.length;D>w;w++)if(x.f[w]==c)return z;return x.f.push(c),function(a){+a==+a&&(c.zIndex=+a)}};x.f=function(a){var c=[].slice.call(arguments,1);return function(){x.apply(null,[a,null].concat(c).concat([].slice.call(arguments,0)))}};x.stop=function(){a=1};x.nt=function(a){return a?RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(f):f};x.nts=function(){return f.split(t)};x.off=x.unbind=function(a,c){if(!a)return x._events=
y={n:{}},void 0;var f,w,z,D,N,H,V=a.split(t),L=[y];D=0;for(N=V.length;N>D;D++)for(H=0;L.length>H;H+=z.length-2){if(z=[H,1],f=L[H].n,"*"!=V[D])f[V[D]]&&z.push(f[V[D]]);else for(w in f)f.hasOwnProperty(w)&&z.push(f[w]);L.splice.apply(L,z)}D=0;for(N=L.length;N>D;D++)for(f=L[D];f.n;){if(c){if(f.f){H=0;for(z=f.f.length;z>H;H++)if(f.f[H]==c){f.f.splice(H,1);break}!f.f.length&&delete f.f}for(w in f.n)if(f.n.hasOwnProperty(w)&&f.n[w].f){V=f.n[w].f;H=0;for(z=V.length;z>H;H++)if(V[H]==c){V.splice(H,1);break}!V.length&&
delete f.n[w].f}}else for(w in delete f.f,f.n)f.n.hasOwnProperty(w)&&f.n[w].f&&delete f.n[w].f;f=f.n}};x.once=function(a,c){var f=function(){return x.unbind(a,f),c.apply(this,arguments)};return x.on(a,f)};x.version="0.4.2";x.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=x:"undefined"!=typeof define?define("eve",[],function(){return x}):c.eve=x})(this);
(function(c,f){"function"==typeof define&&define.amd?define(["eve"],function(a){return f(c,a)}):f(c,c.eve)})(this,function(c,f){function a(d){if(a.is(d,"function"))return V?d():f.on("raphael.DOMload",d);if(a.is(d,Ba))return a._engine.create[Y](a,d.splice(0,3+a.is(d[0],wa))).add(d);var c=Array.prototype.slice.call(arguments,0);if(a.is(c[c.length-1],"function")){var e=c.pop();return V?e.call(a._engine.create[Y](a,c)):f.on("raphael.DOMload",function(){e.call(a._engine.create[Y](a,c))})}return a._engine.create[Y](a,
arguments)}function t(a){if(Object(a)!==a)return a;var c=new a.constructor,e;for(e in a)a[ea](e)&&(c[e]=t(a[e]));return c}function z(a,c,e){function l(){var f=Array.prototype.slice.call(arguments,0),m=f.join("\u2400"),v=l.cache=l.cache||{},C=l.count=l.count||[];if(v[ea](m)){a:for(var f=C,C=m,I=0,r=f.length;r>I;I++)if(f[I]===C){f.push(f.splice(I,1)[0]);break a}m=e?e(v[m]):v[m]}else m=(1E3<=C.length&&delete v[C.shift()],C.push(m),v[m]=a[Y](c,f),e?e(v[m]):v[m]);return m}return l}function w(){return this.hex}
function y(a,c){for(var e=[],l=0,f=a.length;f-2*!c>l;l+=2){var m=[{x:+a[l-2],y:+a[l-1]},{x:+a[l],y:+a[l+1]},{x:+a[l+2],y:+a[l+3]},{x:+a[l+4],y:+a[l+5]}];c?l?f-4==l?m[3]={x:+a[0],y:+a[1]}:f-2==l&&(m[2]={x:+a[0],y:+a[1]},m[3]={x:+a[2],y:+a[3]}):m[0]={x:+a[f-2],y:+a[f-1]}:f-4==l?m[3]=m[2]:l||(m[0]={x:+a[l],y:+a[l+1]});e.push(["C",(-m[0].x+6*m[1].x+m[2].x)/6,(-m[0].y+6*m[1].y+m[2].y)/6,(m[1].x+6*m[2].x-m[3].x)/6,(m[1].y+6*m[2].y-m[3].y)/6,m[2].x,m[2].y])}return e}function x(a,c,e,l,f,m,v,C,I){null==I&&
(I=1);I=(1<I?1:0>I?0:I)/2;for(var r=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],t=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],w=0,x=0;12>x;x++)var z=I*r[x]+I,y=z*(z*(-3*a+9*e-9*f+3*v)+6*a-12*e+6*f)-3*a+3*e,z=z*(z*(-3*c+9*l-9*m+3*C)+6*c-12*l+6*m)-3*c+3*l,w=w+t[x]*ba.sqrt(y*y+z*z);return I*w}function r(a,c,e,l,f,m,v,C,I){if(!(0>I||I>x(a,c,e,l,f,m,v,C))){var r,t=0.5,w=1-t;for(r=x(a,c,e,l,f,m,v,C,w);0.01<va(r-I);)t/=
2,w+=(I>r?1:-1)*t,r=x(a,c,e,l,f,m,v,C,w);return w}}function E(d,c,e){d=a._path2curve(d);c=a._path2curve(c);for(var l,f,m,v,C,I,r,t,w,z,y=e?0:[],D=0,Zc=d.length;Zc>D;D++){var B=d[D];if("M"==B[0])l=C=B[1],f=I=B[2];else{"C"==B[0]?(w=[l,f].concat(B.slice(1)),l=w[6],f=w[7]):(w=[l,f,l,f,C,I,C,I],l=C,f=I);for(var B=0,K=c.length;K>B;B++){var E=c[B];if("M"==E[0])m=r=E[1],v=t=E[2];else{"C"==E[0]?(z=[m,v].concat(E.slice(1)),m=z[6],v=z[7]):(z=[m,v,m,v,r,t,r,t],m=r,v=t);var O=w,H=z,E=e,L=a.bezierBBox(O),Q=a.bezierBBox(H);
if(a.isBBoxIntersect(L,Q)){for(var L=x.apply(0,O),Q=x.apply(0,H),L=~~(L/5),Q=~~(Q/5),F=[],Fa=[],Cb={},A=E?0:[],J=0;L+1>J;J++){var M=a.findDotsAtSegment.apply(a,O.concat(J/L));F.push({x:M.x,y:M.y,t:J/L})}for(J=0;Q+1>J;J++)M=a.findDotsAtSegment.apply(a,H.concat(J/Q)),Fa.push({x:M.x,y:M.y,t:J/Q});for(J=0;L>J;J++)for(O=0;Q>O;O++){var P=F[J],T=F[J+1],H=Fa[O],M=Fa[O+1],ic=0.0010>va(T.x-P.x)?"y":"x",jc=0.0010>va(M.x-H.x)?"y":"x",ua;b:{ua=P.x;var N=P.y,S=T.x,R=T.y,V=H.x,Y=H.y,ba=M.x,ca=M.y;if(!(ka(ua,S)<
ma(V,ba)||ma(ua,S)>ka(V,ba)||ka(N,R)<ma(Y,ca)||ma(N,R)>ka(Y,ca))){var ea=(ua*R-N*S)*(V-ba)-(ua-S)*(V*ca-Y*ba),fa=(ua*R-N*S)*(Y-ca)-(N-R)*(V*ca-Y*ba),da=(ua-S)*(Y-ca)-(N-R)*(V-ba);if(da){var ea=ea/da,fa=fa/da,da=+ea.toFixed(2),ga=+fa.toFixed(2);if(!(+ma(ua,S).toFixed(2)>da||da>+ka(ua,S).toFixed(2)||+ma(V,ba).toFixed(2)>da||da>+ka(V,ba).toFixed(2)||+ma(N,R).toFixed(2)>ga||ga>+ka(N,R).toFixed(2)||+ma(Y,ca).toFixed(2)>ga||ga>+ka(Y,ca).toFixed(2))){ua={x:ea,y:fa};break b}}}ua=void 0}ua&&Cb[ua.x.toFixed(4)]!=
ua.y.toFixed(4)&&(Cb[ua.x.toFixed(4)]=ua.y.toFixed(4),P=P.t+va((ua[ic]-P[ic])/(T[ic]-P[ic]))*(T.t-P.t),H=H.t+va((ua[jc]-H[jc])/(M[jc]-H[jc]))*(M.t-H.t),0<=P&&1>=P&&0<=H&&1>=H&&(E?A++:A.push({x:ua.x,y:ua.y,t1:P,t2:H})))}E=A}else E=E?0:[];if(e)y+=E;else{L=0;for(Q=E.length;Q>L;L++)E[L].segment1=D,E[L].segment2=B,E[L].bez1=w,E[L].bez2=z;y=y.concat(E)}}}}}return y}function R(a,c,e,l,f,m){null!=a?(this.a=+a,this.b=+c,this.c=+e,this.d=+l,this.e=+f,this.f=+m):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,
this.f=0)}function B(){return this.x+ra+this.y+ra+this.width+" \u00d7 "+this.height}function S(a,c,e,l,f,m){function v(a,d){var c,h,e,l,f;e=a;for(f=0;8>f;f++){if(l=((r*e+I)*e+C)*e-a,d>va(l))return e;if(h=(3*r*e+2*I)*e+C,1E-6>va(h))break;e-=l/h}if(c=0,h=1,e=a,c>e)return c;if(e>h)return h;for(;h>c&&!(l=((r*e+I)*e+C)*e,d>va(l-a));)a>l?c=e:h=e,e=(h-c)/2+c;return e}var C=3*c,I=3*(l-c)-C,r=1-C-I,t=3*e,w=3*(f-e)-t,x=1-t-w;return function(a,d){var c=v(a,d);return((x*c+w)*c+t)*c}(a,1/(200*m))}function D(a,
c){var e=[],l={};if(this.ms=c,this.times=1,a){for(var f in a)a[ea](f)&&(l[na(f)]=a[f],e.push(na(f)));e.sort(qc)}this.anim=l;this.top=e[e.length-1];this.percents=e}function N(d,c,e,l,s,m){e=na(e);var v,C,I,r,t,w,x=d.ms,z={},y={},D={};if(l){K=0;for(E=ca.length;E>K;K++){var B=ca[K];if(B.el.id==c.id&&B.anim==d){B.percent!=e?(ca.splice(K,1),I=1):C=B;c.attr(B.totalOrigin);break}}}else l=+y;for(var K=0,E=d.percents.length;E>K;K++){if(d.percents[K]==e||d.percents[K]>l*d.top){e=d.percents[K];t=d.percents[K-
1]||0;x=x/d.top*(e-t);r=d.percents[K+1];v=d.anim[e];break}l&&c.attr(d.anim[d.percents[K]])}if(v){if(C)C.initstatus=l,C.start=new Date-C.ms*l;else{for(var O in v)if(v[ea](O)&&(Fb[ea](O)||c.paper.customAttributes[ea](O)))switch(z[O]=c.attr(O),null==z[O]&&(z[O]=vb[O]),y[O]=v[O],Fb[O]){case wa:D[O]=(y[O]-z[O])/x;break;case "colour":z[O]=a.getRGB(z[O]);K=a.getRGB(y[O]);D[O]={r:(K.r-z[O].r)/x,g:(K.g-z[O].g)/x,b:(K.b-z[O].b)/x};break;case "path":var K=yb(z[O],y[O]),H=K[1];z[O]=K[0];D[O]=[];K=0;for(E=z[O].length;E>
K;K++){D[O][K]=[0];for(var L=1,Q=z[O][K].length;Q>L;L++)D[O][K][L]=(H[K][L]-z[O][K][L])/x}break;case "transform":K=c._;if(H=Qc(K[O],y[O])){z[O]=H.from;y[O]=H.to;D[O]=[];D[O].real=!0;K=0;for(E=z[O].length;E>K;K++){D[O][K]=[z[O][K][0]];L=1;for(Q=z[O][K].length;Q>L;L++)D[O][K][L]=(y[O][K][L]-z[O][K][L])/x}}else H=c.matrix||new R,K={_:{transform:K.transform},getBBox:function(){return c.getBBox(1)}},z[O]=[H.a,H.b,H.c,H.d,H.e,H.f],xc(K,y[O]),y[O]=K._.transform,D[O]=[(K.matrix.a-H.a)/x,(K.matrix.b-H.b)/
x,(K.matrix.c-H.c)/x,(K.matrix.d-H.d)/x,(K.matrix.e-H.e)/x,(K.matrix.f-H.f)/x];break;case "csv":H=oa(v[O])[sa](da);E=oa(z[O])[sa](da);if("clip-rect"==O){z[O]=E;D[O]=[];for(K=E.length;K--;)D[O][K]=(H[K]-z[O][K])/x}y[O]=H;break;default:H=[][fa](v[O]);E=[][fa](z[O]);D[O]=[];for(K=c.paper.customAttributes[O].length;K--;)D[O][K]=((H[K]||0)-(E[K]||0))/x}O=v.easing;K=a.easing_formulas[O];if(!K)if(K=oa(O).match(nc),K&&5==K.length)var F=K,K=function(a){return S(a,+F[1],+F[2],+F[3],+F[4],x)};else K=rc;if(w=
v.start||d.start||+new Date,B={anim:d,percent:e,timestamp:w,start:w+(d.del||0),status:0,initstatus:l||0,stop:!1,ms:x,easing:K,from:z,diff:D,to:y,el:c,callback:v.callback,prev:t,next:r,repeat:m||d.times,origin:c.attr(),totalOrigin:s},ca.push(B),l&&!C&&!I&&(B.stop=!0,B.start=new Date-x*l,1==ca.length))return Ob();I&&(B.start=new Date-B.ms*l);1==ca.length&&cb(Ob)}f("raphael.anim.start."+c.id,c,d)}}function H(a){for(var c=0;ca.length>c;c++)ca[c].el.paper==a&&ca.splice(c--,1)}a.version="2.1.0";a.eve=f;
var V,L,da=/[, ]+/,la={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},xa=/\{(\d+)\}/g,ea="hasOwnProperty",Q={doc:document,win:c},Ga=Object.prototype[ea].call(Q.win,"Raphael"),La=Q.win.Raphael,pa=function(){this.ca=this.customAttributes={}},Y="apply",fa="concat",Ka="ontouchstart"in Q.win||Q.win.DocumentTouch&&Q.doc instanceof DocumentTouch,ra=" ",oa=String,sa="split",Na="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[sa](ra),Xa={mousedown:"touchstart",
mousemove:"touchmove",mouseup:"touchend"},Ya=oa.prototype.toLowerCase,ba=Math,ka=ba.max,ma=ba.min,va=ba.abs,za=ba.pow,Aa=ba.PI,wa="number",Ba="array",Vb=Object.prototype.toString,Gc=(a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),
Hc={NaN:1,Infinity:1,"-Infinity":1},nc=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Eb=ba.round,na=parseFloat,Ea=parseInt,Ub=oa.prototype.toUpperCase,vb=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",
r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Fb=a._availableAnimAttrs={blur:wa,"clip-rect":"csv",cx:wa,cy:wa,fill:"colour","fill-opacity":wa,"font-size":wa,height:wa,opacity:wa,path:"path",r:wa,rx:wa,ry:wa,stroke:"colour","stroke-opacity":wa,"stroke-width":wa,transform:"transform",width:wa,x:wa,y:wa},
Wb=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Jc={hs:1,rg:1},pc=/,?([achlmqrstvxz]),?/gi,oc=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
ga=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Da=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,
eb=(a._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),qc=function(a,c){return na(a)-na(c)},Gd=function(){},rc=function(a){return a},Gb=a._rectPath=function(a,c,e,l,f){return f?[["M",a+f,c],["l",e-2*f,0],["a",f,f,0,0,1,
f,f],["l",0,l-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-e,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-l],["a",f,f,0,0,1,f,-f],["z"]]:[["M",a,c],["l",e,0],["l",0,l],["l",-e,0],["z"]]},sc=function(a,c,e,l){return null==l&&(l=e),[["M",a,c],["m",0,-l],["a",e,l,0,1,1,0,2*l],["a",e,l,0,1,1,0,-2*l],["z"]]},wb=a._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return sc(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return sc(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Gb(a.x,a.y,
a.width,a.height,a.r)},image:function(a){a=a.attrs;return Gb(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Gb(a.x,a.y,a.width,a.height)},set:function(a){a=a._getBBox();return Gb(a.x,a.y,a.width,a.height)}},tc=a.mapPath=function(a,c){if(!c)return a;var e,l,f,m,v,C,I;a=yb(a);f=0;for(v=a.length;v>f;f++){I=a[f];m=1;for(C=I.length;C>m;m+=2)e=c.x(I[m],I[m+1]),l=c.y(I[m],I[m+1]),I[m]=e,I[m+1]=l}return a};if(a._g=Q,a.type=Q.win.SVGAngle||Q.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML","VML"==a.type){var xb,Xb=Q.doc.createElement("div");if(Xb.innerHTML='<v:shape adj="1"/>',xb=Xb.firstChild,xb.style.behavior="url(#default#VML)",!xb||"object"!=typeof xb.adj)return a.type="";Xb=null}a.svg=!(a.vml="VML"==a.type);a._Paper=pa;a.fn=L=pa.prototype=a.prototype;a._id=0;a._oid=0;a.is=function(a,c){return c=Ya.call(c),"finite"==c?!Hc[ea](+a):"array"==c?a instanceof Array:"null"==c&&null===a||c==typeof a&&null!==a||"object"==c&&a===Object(a)||"array"==c&&Array.isArray&&Array.isArray(a)||
Vb.call(a).slice(8,-1).toLowerCase()==c};a.angle=function(d,c,e,l,f,m){return null==f?(d-=e,c-=l,d||c?(180*ba.atan2(-c,-d)/Aa+540)%360:0):a.angle(d,c,f,m)-a.angle(e,l,f,m)};a.rad=function(a){return a%360*Aa/180};a.deg=function(a){return 180*a/Aa%360};a.snapTo=function(d,c,e){if(e=a.is(e,"finite")?e:10,a.is(d,Ba))for(var l=d.length;l--;){if(e>=va(d[l]-c))return d[l]}else{d=+d;l=c%d;if(e>l)return c-l;if(l>d-e)return c-l+d}return c};a.createUUID=function(a,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,
c).toUpperCase()}}(/[xy]/g,function(a){var c=0|16*ba.random();return("x"==a?c:8|3&c).toString(16)});a.setWindow=function(d){f("raphael.setWindow",a,Q.win,d);Q.win=d;Q.doc=Q.win.document;a._engine.initWin&&a._engine.initWin(Q.win)};var lb=function(d){if(a.vml){var c,e=/^\s+|\s+$/g;try{var l=new ActiveXObject("htmlfile");l.write("<body>");l.close();c=l.body}catch(f){c=createPopup().document.body}var m=c.createTextRange();lb=z(function(a){try{c.style.color=oa(a).replace(e,"");var d=m.queryCommandValue("ForeColor");
return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(l){return"none"}})}else{var v=Q.doc.createElement("i");v.title="Rapha\u00ebl Colour Picker";v.style.display="none";Q.doc.body.appendChild(v);lb=z(function(a){return v.style.color=a,Q.doc.defaultView.getComputedStyle(v,"").getPropertyValue("color")})}return lb(d)},uc=function(){return"hsb("+[this.h,this.s,this.b]+")"},Oc=function(){return"hsl("+[this.h,this.s,this.l]+")"},Pc=function(){return this.hex},fb=
function(d,c,e){if(null==c&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d&&(e=d.b,c=d.g,d=d.r),null==c&&a.is(d,"string"))e=a.getRGB(d),d=e.r,c=e.g,e=e.b;return(1<d||1<c||1<e)&&(d/=255,c/=255,e/=255),[d,c,e]},Ib=function(d,c,e,l){d*=255;c*=255;e*=255;d={r:d,g:c,b:e,hex:a.rgb(d,c,e),toString:Pc};return a.is(l,"finite")&&(d.opacity=l),d};a.color=function(d){var c;return a.is(d,"object")&&"h"in d&&"s"in d&&"b"in d?(c=a.hsb2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):a.is(d,"object")&&"h"in d&&"s"in d&&
"l"in d?(c=a.hsl2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):(a.is(d,"string")&&(d=a.getRGB(d)),a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d?(c=a.rgb2hsl(d),d.h=c.h,d.s=c.s,d.l=c.l,c=a.rgb2hsb(d),d.v=c.b):(d={hex:"none"},d.r=d.g=d.b=d.h=d.s=d.v=d.l=-1)),d.toString=Pc,d};a.hsb2rgb=function(a,c,e,l){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(e=a.b,c=a.s,a=a.h,l=a.o);a*=360;var f,m,v,C,I;return a=a%360/60,I=e*c,C=I*(1-va(a%2-1)),f=m=v=e-I,a=~~a,f+=[I,C,0,0,C,I][a],m+=[C,I,I,C,0,0][a],v+=[0,0,C,
I,I,C][a],Ib(f,m,v,l)};a.hsl2rgb=function(a,c,e,l){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(e=a.l,c=a.s,a=a.h);(1<a||1<c||1<e)&&(a/=360,c/=100,e/=100);a*=360;var f,m,v,C,I;return a=a%360/60,I=2*c*(0.5>e?e:1-e),C=I*(1-va(a%2-1)),f=m=v=e-I/2,a=~~a,f+=[I,C,0,0,C,I][a],m+=[C,I,I,C,0,0][a],v+=[0,0,C,I,I,C][a],Ib(f,m,v,l)};a.rgb2hsb=function(a,c,e){e=fb(a,c,e);a=e[0];c=e[1];e=e[2];var l,f,m,v;return m=ka(a,c,e),v=m-ma(a,c,e),l=0==v?null:m==a?(c-e)/v:m==c?(e-a)/v+2:(a-c)/v+4,l=60*((l+360)%6)/360,
f=0==v?0:v/m,{h:l,s:f,b:m,toString:uc}};a.rgb2hsl=function(a,c,e){e=fb(a,c,e);a=e[0];c=e[1];e=e[2];var l,f,m,v,C,I;return v=ka(a,c,e),C=ma(a,c,e),I=v-C,l=0==I?null:v==a?(c-e)/I:v==c?(e-a)/I+2:(a-c)/I+4,l=60*((l+360)%6)/360,m=(v+C)/2,f=0==I?0:0.5>m?I/(2*m):I/(2-2*m),{h:l,s:f,l:m,toString:Oc}};a._path2string=function(){return this.join(",").replace(pc,"$1")};a._preload=function(a,c){var e=Q.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top:-9999em";e.onload=function(){c.call(this);
this.onload=null;Q.doc.body.removeChild(this)};e.onerror=function(){Q.doc.body.removeChild(this)};Q.doc.body.appendChild(e);e.src=a};a.getRGB=z(function(d){if(!d||(d=oa(d)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:w};if("none"==d)return{r:-1,g:-1,b:-1,hex:"none",toString:w};!(Jc[ea](d.toLowerCase().substring(0,2))||"#"==d.charAt())&&(d=lb(d));var c,e,l,f,m,v;return(d=d.match(Gc))?(d[2]&&(l=Ea(d[2].substring(5),16),e=Ea(d[2].substring(3,5),16),c=Ea(d[2].substring(1,3),16)),
d[3]&&(l=Ea((m=d[3].charAt(3))+m,16),e=Ea((m=d[3].charAt(2))+m,16),c=Ea((m=d[3].charAt(1))+m,16)),d[4]&&(v=d[4][sa](Wb),c=na(v[0]),"%"==v[0].slice(-1)&&(c*=2.55),e=na(v[1]),"%"==v[1].slice(-1)&&(e*=2.55),l=na(v[2]),"%"==v[2].slice(-1)&&(l*=2.55),"rgba"==d[1].toLowerCase().slice(0,4)&&(f=na(v[3])),v[3]&&"%"==v[3].slice(-1)&&(f/=100)),d[5]?(v=d[5][sa](Wb),c=na(v[0]),"%"==v[0].slice(-1)&&(c*=2.55),e=na(v[1]),"%"==v[1].slice(-1)&&(e*=2.55),l=na(v[2]),"%"==v[2].slice(-1)&&(l*=2.55),("deg"==v[0].slice(-3)||
"\u00b0"==v[0].slice(-1))&&(c/=360),"hsba"==d[1].toLowerCase().slice(0,4)&&(f=na(v[3])),v[3]&&"%"==v[3].slice(-1)&&(f/=100),a.hsb2rgb(c,e,l,f)):d[6]?(v=d[6][sa](Wb),c=na(v[0]),"%"==v[0].slice(-1)&&(c*=2.55),e=na(v[1]),"%"==v[1].slice(-1)&&(e*=2.55),l=na(v[2]),"%"==v[2].slice(-1)&&(l*=2.55),("deg"==v[0].slice(-3)||"\u00b0"==v[0].slice(-1))&&(c/=360),"hsla"==d[1].toLowerCase().slice(0,4)&&(f=na(v[3])),v[3]&&"%"==v[3].slice(-1)&&(f/=100),a.hsl2rgb(c,e,l,f)):(d={r:c,g:e,b:l,toString:w},d.hex="#"+(16777216|
l|e<<8|c<<16).toString(16).slice(1),a.is(f,"finite")&&(d.opacity=f),d)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:w}},a);a.hsb=z(function(d,c,e){return a.hsb2rgb(d,c,e).hex});a.hsl=z(function(d,c,e){return a.hsl2rgb(d,c,e).hex});a.rgb=z(function(a,c,e){return"#"+(16777216|e|c<<8|a<<16).toString(16).slice(1)});a.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var c=this.hsb2rgb(a.h,a.s,a.b);return a.h+=0.075,1<a.h&&(a.h=0,a.s-=0.2,0>=a.s&&(this.getColor.start=
{h:0,s:1,b:a.b})),c.hex};a.getColor.reset=function(){delete this.start};a.parsePathString=function(d){if(!d)return null;var c=Pa(d);if(c.arr)return Ha(c.arr);var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},l=[];return a.is(d,Ba)&&a.is(d[0],Ba)&&(l=Ha(d)),l.length||oa(d).replace(oc,function(a,d,c){var h=[];a=d.toLowerCase();if(c.replace(Da,function(a,d){d&&h.push(+d)}),"m"==a&&2<h.length&&(l.push([d][fa](h.splice(0,2))),a="l",d="m"==d?"l":"L"),"r"==a)l.push([d][fa](h));else for(;h.length>=e[a]&&
(l.push([d][fa](h.splice(0,e[a]))),e[a]););}),l.toString=a._path2string,c.arr=Ha(l),l};a.parseTransformString=z(function(d){if(!d)return null;var c=[];return a.is(d,Ba)&&a.is(d[0],Ba)&&(c=Ha(d)),c.length||oa(d).replace(ga,function(a,d,f){var m=[];Ya.call(d);f.replace(Da,function(a,d){d&&m.push(+d)});c.push([d][fa](m))}),c.toString=a._path2string,c});var Pa=function(a){var c=Pa.ps=Pa.ps||{};return c[a]?c[a].sleep=100:c[a]={sleep:100},setTimeout(function(){for(var e in c)c[ea](e)&&e!=a&&(c[e].sleep--,
!c[e].sleep&&delete c[e])}),c[a]};a.findDotsAtSegment=function(a,c,e,l,f,m,v,C,I){var r=1-I,t=za(r,3),z=za(r,2),x=I*I,w=x*I,y=t*a+3*z*I*e+3*r*I*I*f+w*v,t=t*c+3*z*I*l+3*r*I*I*m+w*C,z=a+2*I*(e-a)+x*(f-2*e+a),w=c+2*I*(l-c)+x*(m-2*l+c),D=e+2*I*(f-e)+x*(v-2*f+e),x=l+2*I*(m-l)+x*(C-2*m+l);a=r*a+I*e;c=r*c+I*l;f=r*f+I*v;m=r*m+I*C;C=90-180*ba.atan2(z-D,w-x)/Aa;return(z>D||x>w)&&(C+=180),{x:y,y:t,m:{x:z,y:w},n:{x:D,y:x},start:{x:a,y:c},end:{x:f,y:m},alpha:C}};a.bezierBBox=function(d,c,e,l,f,m,v,C){a.is(d,"array")||
(d=[d,c,e,l,f,m,v,C]);d=wc.apply(null,d);return{x:d.min.x,y:d.min.y,x2:d.max.x,y2:d.max.y,width:d.max.x-d.min.x,height:d.max.y-d.min.y}};a.isPointInsideBBox=function(a,c,e){return c>=a.x&&a.x2>=c&&e>=a.y&&a.y2>=e};a.isBBoxIntersect=function(d,c){var e=a.isPointInsideBBox;return e(c,d.x,d.y)||e(c,d.x2,d.y)||e(c,d.x,d.y2)||e(c,d.x2,d.y2)||e(d,c.x,c.y)||e(d,c.x2,c.y)||e(d,c.x,c.y2)||e(d,c.x2,c.y2)||(d.x<c.x2&&d.x>c.x||c.x<d.x2&&c.x>d.x)&&(d.y<c.y2&&d.y>c.y||c.y<d.y2&&c.y>d.y)};a.pathIntersection=function(a,
c){return E(a,c)};a.pathIntersectionNumber=function(a,c){return E(a,c,1)};a.isPointInsidePath=function(d,c,e){var l=a.pathBBox(d);return a.isPointInsideBBox(l,c,e)&&1==E(d,[["M",c,e],["H",l.x2+10]],1)%2};a._removedFactory=function(a){return function(){f("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var Jb=a.pathBBox=function(a){var c=Pa(a);if(c.bbox)return t(c.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=yb(a);for(var e,l=0,f=0,m=
[],v=[],C=0,I=a.length;I>C;C++)(e=a[C],"M"==e[0])?(l=e[1],f=e[2],m.push(l),v.push(f)):(l=wc(l,f,e[1],e[2],e[3],e[4],e[5],e[6]),m=m[fa](l.min.x,l.max.x),v=v[fa](l.min.y,l.max.y),l=e[5],f=e[6]);a=ma[Y](0,m);e=ma[Y](0,v);m=ka[Y](0,m);v=ka[Y](0,v);C=m-a;I=v-e;v={x:a,y:e,x2:m,y2:v,width:C,height:I,cx:a+C/2,cy:e+I/2};return c.bbox=t(v),v},Ha=function(d){d=t(d);return d.toString=a._path2string,d},Yb=a._pathToRelative=function(d){var c=Pa(d);if(c.rel)return Ha(c.rel);a.is(d,Ba)&&a.is(d&&d[0],Ba)||(d=a.parsePathString(d));
var e=[],l=0,f=0,m=0,v=0,C=0;"M"==d[0][0]&&(l=d[0][1],f=d[0][2],m=l,v=f,C++,e.push(["M",l,f]));for(var I=d.length;I>C;C++){var r=e[C]=[],t=d[C];if(t[0]!=Ya.call(t[0]))switch(r[0]=Ya.call(t[0]),r[0]){case "a":r[1]=t[1];r[2]=t[2];r[3]=t[3];r[4]=t[4];r[5]=t[5];r[6]=+(t[6]-l).toFixed(3);r[7]=+(t[7]-f).toFixed(3);break;case "v":r[1]=+(t[1]-f).toFixed(3);break;case "m":m=t[1],v=t[2];default:for(var x=1,z=t.length;z>x;x++)r[x]=+(t[x]-(x%2?l:f)).toFixed(3)}else{e[C]=[];"m"==t[0]&&(m=t[1]+l,v=t[2]+f);r=0;
for(x=t.length;x>r;r++)e[C][r]=t[r]}t=e[C].length;switch(e[C][0]){case "z":l=m;f=v;break;case "h":l+=+e[C][t-1];break;case "v":f+=+e[C][t-1];break;default:l+=+e[C][t-2],f+=+e[C][t-1]}}return e.toString=a._path2string,c.rel=Ha(e),e},Kb=a._pathToAbsolute=function(d){var c=Pa(d);if(c.abs)return Ha(c.abs);if(a.is(d,Ba)&&a.is(d&&d[0],Ba)||(d=a.parsePathString(d)),!d||!d.length)return[["M",0,0]];var e=[],l=0,f=0,m=0,v=0,C=0;"M"==d[0][0]&&(l=+d[0][1],f=+d[0][2],m=l,v=f,C++,e[0]=["M",l,f]);for(var r,t=3==
d.length&&"M"==d[0][0]&&"R"==d[1][0].toUpperCase()&&"Z"==d[2][0].toUpperCase(),x=C,z=d.length;z>x;x++){if(e.push(C=[]),r=d[x],r[0]!=Ub.call(r[0]))switch(C[0]=Ub.call(r[0]),C[0]){case "A":C[1]=r[1];C[2]=r[2];C[3]=r[3];C[4]=r[4];C[5]=r[5];C[6]=+(r[6]+l);C[7]=+(r[7]+f);break;case "V":C[1]=+r[1]+f;break;case "H":C[1]=+r[1]+l;break;case "R":for(var w=[l,f][fa](r.slice(1)),D=2,B=w.length;B>D;D++)w[D]=+w[D]+l,w[++D]=+w[D]+f;e.pop();e=e[fa](y(w,t));break;case "M":m=+r[1]+l,v=+r[2]+f;default:D=1;for(B=r.length;B>
D;D++)C[D]=+r[D]+(D%2?l:f)}else if("R"==r[0])w=[l,f][fa](r.slice(1)),e.pop(),e=e[fa](y(w,t)),C=["R"][fa](r.slice(-2));else{w=0;for(D=r.length;D>w;w++)C[w]=r[w]}switch(C[0]){case "Z":l=m;f=v;break;case "H":l=C[1];break;case "V":f=C[1];break;case "M":m=C[C.length-2],v=C[C.length-1];default:l=C[C.length-2],f=C[C.length-1]}}return e.toString=a._path2string,c.abs=Ha(e),e},Lb=function(a,c,e,f,s,m){var v=1/3,C=2/3;return[v*a+C*e,v*c+C*f,v*s+C*e,v*m+C*f,s,m]},Zb=function(a,c,e,f,s,m,v,C,r,t){var x,w=120*
Aa/180,y=Aa/180*(+s||0),D=[],B=z(function(a,d,c){var e=a*ba.cos(c)-d*ba.sin(c);a=a*ba.sin(c)+d*ba.cos(c);return{x:e,y:a}});if(t)K=t[0],x=t[1],m=t[2],E=t[3];else{x=B(a,c,-y);a=x.x;c=x.y;x=B(C,r,-y);C=x.x;r=x.y;x=(ba.cos(Aa/180*s),ba.sin(Aa/180*s),(a-C)/2);K=(c-r)/2;E=x*x/(e*e)+K*K/(f*f);1<E&&(E=ba.sqrt(E),e*=E,f*=E);var E=e*e,H=f*f,E=(m==v?-1:1)*ba.sqrt(va((E*H-E*K*K-H*x*x)/(E*K*K+H*x*x)));m=E*e*K/f+(a+C)/2;var E=E*-f*x/e+(c+r)/2,K=ba.asin(((c-E)/f).toFixed(9));x=ba.asin(((r-E)/f).toFixed(9));K=m>
a?Aa-K:K;x=m>C?Aa-x:x;0>K&&(K=2*Aa+K);0>x&&(x=2*Aa+x);v&&K>x&&(K-=2*Aa);!v&&x>K&&(x-=2*Aa)}if(va(x-K)>w){var D=x,H=C,L=r;x=K+w*(v&&x>K?1:-1);C=m+e*ba.cos(x);r=E+f*ba.sin(x);D=Zb(C,r,e,f,s,0,v,H,L,[x,D,m,E])}m=x-K;s=ba.cos(K);w=ba.sin(K);v=ba.cos(x);x=ba.sin(x);m=ba.tan(m/4);e=4/3*e*m;m*=4/3*f;f=[a,c];a=[a+e*w,c-m*s];c=[C+e*x,r-m*v];C=[C,r];if(a[0]=2*f[0]-a[0],a[1]=2*f[1]-a[1],t)return[a,c,C][fa](D);D=[a,c,C][fa](D).join()[sa](",");t=[];C=0;for(r=D.length;r>C;C++)t[C]=C%2?B(D[C-1],D[C],y).y:B(D[C],
D[C+1],y).x;return t},gb=function(a,c,e,f,s,m,v,r,t){var x=1-t;return{x:za(x,3)*a+3*za(x,2)*t*e+3*x*t*t*s+za(t,3)*v,y:za(x,3)*c+3*za(x,2)*t*f+3*x*t*t*m+za(t,3)*r}},wc=z(function(a,c,e,f,s,m,v,r){var t,x=s-2*e+a-(v-2*s+e),w=2*(e-a)-2*(s-e),z=a-e,y=(-w+ba.sqrt(w*w-4*x*z))/2/x,D=(-w-ba.sqrt(w*w-4*x*z))/2/x,E=[c,r],B=[a,v];return"1e12"<va(y)&&(y=0.5),"1e12"<va(D)&&(D=0.5),0<y&&1>y&&(t=gb(a,c,e,f,s,m,v,r,y),B.push(t.x),E.push(t.y)),0<D&&1>D&&(t=gb(a,c,e,f,s,m,v,r,D),B.push(t.x),E.push(t.y)),x=m-2*f+c-
(r-2*m+f),w=2*(f-c)-2*(m-f),z=c-f,y=(-w+ba.sqrt(w*w-4*x*z))/2/x,D=(-w-ba.sqrt(w*w-4*x*z))/2/x,"1e12"<va(y)&&(y=0.5),"1e12"<va(D)&&(D=0.5),0<y&&1>y&&(t=gb(a,c,e,f,s,m,v,r,y),B.push(t.x),E.push(t.y)),0<D&&1>D&&(t=gb(a,c,e,f,s,m,v,r,D),B.push(t.x),E.push(t.y)),{min:{x:ma[Y](0,B),y:ma[Y](0,E)},max:{x:ka[Y](0,B),y:ka[Y](0,E)}}}),yb=a._path2curve=z(function(a,c){var e=!c&&Pa(a);if(!c&&e.curve)return Ha(e.curve);var f=Kb(a),s=c&&Kb(c),m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},v={x:0,y:0,bx:0,by:0,X:0,
Y:0,qx:null,qy:null},r=function(a,d){var c,e;if(!a)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(a[0]in{T:1,Q:1})&&(d.qx=d.qy=null),a[0]){case "M":d.X=a[1];d.Y=a[2];break;case "A":a=["C"][fa](Zb[Y](0,[d.x,d.y][fa](a.slice(1))));break;case "S":c=d.x+(d.x-(d.bx||d.x));e=d.y+(d.y-(d.by||d.y));a=["C",c,e][fa](a.slice(1));break;case "T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));a=["C"][fa](Lb(d.x,d.y,d.qx,d.qy,a[1],a[2]));break;case "Q":d.qx=a[1];d.qy=a[2];a=["C"][fa](Lb(d.x,d.y,a[1],a[2],a[3],
a[4]));break;case "L":a=["C"][fa]([d.x,d.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][fa]([d.x,d.y,a[1],d.y,a[1],d.y]);break;case "V":a=["C"][fa]([d.x,d.y,d.x,a[1],d.x,a[1]]);break;case "Z":a=["C"][fa]([d.x,d.y,d.X,d.Y,d.X,d.Y])}return a},t=function(a,d){if(7<a[d].length){a[d].shift();for(var c=a[d];c.length;)a.splice(d++,0,["C"][fa](c.splice(0,6)));a.splice(d,1);z=ka(f.length,s&&s.length||0)}},x=function(a,d,c,e,h){a&&d&&"M"==a[h][0]&&"M"!=d[h][0]&&(d.splice(h,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=
a[h][1],c.y=a[h][2],z=ka(f.length,s&&s.length||0))},w=0,z=ka(f.length,s&&s.length||0);for(;z>w;w++){f[w]=r(f[w],m);t(f,w);s&&(s[w]=r(s[w],v));s&&t(s,w);x(f,s,m,v,w);x(s,f,v,m,w);var y=f[w],D=s&&s[w],E=y.length,B=s&&D.length;m.x=y[E-2];m.y=y[E-1];m.bx=na(y[E-4])||m.x;m.by=na(y[E-3])||m.y;v.bx=s&&(na(D[B-4])||v.x);v.by=s&&(na(D[B-3])||v.y);v.x=s&&D[B-2];v.y=s&&D[B-1]}return s||(e.curve=Ha(f)),s?[f,s]:f},null,Ha),ac=(a._parseDots=z(function(d){for(var c=[],e=0,f=d.length;f>e;e++){var s={},m=d[e].match(/^([^:]*):?([\d\.]*)/);
if(s.color=a.getRGB(m[1]),s.color.error)return null;s.color=s.color.hex;m[2]&&(s.offset=m[2]+"%");c.push(s)}e=1;for(f=c.length-1;f>e;e++)if(!c[e].offset){d=na(c[e-1].offset||0);m=0;for(s=e+1;f>s;s++)if(c[s].offset){m=c[s].offset;break}m||(m=100,s=f);m=na(m);for(m=(m-d)/(s-e+1);s>e;e++)d+=m,c[e].offset=d+"%"}return c}),a._tear=function(a,c){a==c.top&&(c.top=a.prev);a==c.bottom&&(c.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)}),Mb=(a._tofront=function(a,c){c.top!==a&&(ac(a,
c),a.next=null,a.prev=c.top,c.top.next=a,c.top=a)},a._toback=function(a,c){c.bottom!==a&&(ac(a,c),a.next=c.bottom,a.prev=null,c.bottom.prev=a,c.bottom=a)},a._insertafter=function(a,c,e){ac(a,e);c==e.top&&(e.top=a);c.next&&(c.next.prev=a);a.next=c.next;a.prev=c;c.next=a},a._insertbefore=function(a,c,e){ac(a,e);c==e.bottom&&(e.bottom=a);c.prev&&(c.prev.next=a);a.prev=c.prev;c.prev=a;a.next=c},a.toMatrix=function(a,c){var e=Jb(a),f={_:{transform:""},getBBox:function(){return e}};return xc(f,c),f.matrix}),
xc=(a.transformPath=function(a,c){return tc(a,Mb(a,c))},a._extractTransform=function(d,c){if(null==c)return d._.transform;c=oa(c).replace(/\.{3}|\u2026/g,d._.transform||"");var e=a.parseTransformString(c),f=0,s=0,m=0,v=1,r=1,t=d._,m=new R;if(t.transform=e||[],e)for(var s=0,x=e.length;x>s;s++){var w,z,y,D,E,B=e[s],H=B.length,K=oa(B[0]).toLowerCase(),L=B[0]!=K,O=L?m.invert():0;"t"==K&&3==H?L?(w=O.x(0,0),z=O.y(0,0),y=O.x(B[1],B[2]),D=O.y(B[1],B[2]),m.translate(y-w,D-z)):m.translate(B[1],B[2]):"r"==K?
2==H?(E=E||d.getBBox(1),m.rotate(B[1],E.x+E.width/2,E.y+E.height/2),f+=B[1]):4==H&&(L?(y=O.x(B[2],B[3]),D=O.y(B[2],B[3]),m.rotate(B[1],y,D)):m.rotate(B[1],B[2],B[3]),f+=B[1]):"s"==K?2==H||3==H?(E=E||d.getBBox(1),m.scale(B[1],B[H-1],E.x+E.width/2,E.y+E.height/2),v*=B[1],r*=B[H-1]):5==H&&(L?(y=O.x(B[3],B[4]),D=O.y(B[3],B[4]),m.scale(B[1],B[2],y,D)):m.scale(B[1],B[2],B[3],B[4]),v*=B[1],r*=B[2]):"m"==K&&7==H&&m.add(B[1],B[2],B[3],B[4],B[5],B[6]);t.dirtyT=1;d.matrix=m}d.matrix=m;t.sx=v;t.sy=r;t.deg=f;
t.dx=s=m.e;t.dy=m=m.f;1==v&&1==r&&!f&&t.bbox?(t.bbox.x+=+s,t.bbox.y+=+m):t.dirtyT=1}),yc=function(a){var c=a[0];switch(c.toLowerCase()){case "t":return[c,0,0];case "m":return[c,1,0,0,1,0,0];case "r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case "s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1]}},Qc=a._equaliseTransform=function(d,c){c=oa(c).replace(/\.{3}|\u2026/g,d);d=a.parseTransformString(d)||[];c=a.parseTransformString(c)||[];for(var e,f,s,m,v=ka(d.length,c.length),r=[],t=[],
x=0;v>x;x++){if(s=d[x]||yc(c[x]),m=c[x]||yc(s),s[0]!=m[0]||"r"==s[0].toLowerCase()&&(s[2]!=m[2]||s[3]!=m[3])||"s"==s[0].toLowerCase()&&(s[3]!=m[3]||s[4]!=m[4]))return;r[x]=[];t[x]=[];e=0;for(f=ka(s.length,m.length);f>e;e++)e in s&&(r[x][e]=s[e]),e in m&&(t[x][e]=m[e])}return{from:r,to:t}};a._getContainer=function(d,c,e,f){var s;return s=null!=f||a.is(d,"object")?d:Q.doc.getElementById(d),null!=s?s.tagName?null==c?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:
{container:s,width:c,height:e}:{container:1,x:d,y:c,width:e,height:f}:void 0};a.pathToRelative=Yb;a._engine={};a.path2curve=yb;a.matrix=function(a,c,e,f,s,m){return new R(a,c,e,f,s,m)};(function(d){function c(a){return a[0]*a[0]+a[1]*a[1]}function e(a){var d=ba.sqrt(c(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}d.add=function(a,d,c,e,h,f){var r=[[],[],[]],t=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];d=[[a,c,h],[d,e,f],[0,0,1]];a&&a instanceof R&&(d=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=
0;3>a;a++)for(c=0;3>c;c++){for(e=h=0;3>e;e++)h+=t[a][e]*d[e][c];r[a][c]=h}this.a=r[0][0];this.b=r[1][0];this.c=r[0][1];this.d=r[1][1];this.e=r[0][2];this.f=r[1][2]};d.invert=function(){var a=this.a*this.d-this.b*this.c;return new R(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};d.clone=function(){return new R(this.a,this.b,this.c,this.d,this.e,this.f)};d.translate=function(a,d){this.add(1,0,0,1,a,d)};d.scale=function(a,d,c,e){null==d&&(d=a);
(c||e)&&this.add(1,0,0,1,c,e);this.add(a,0,0,d,0,0);(c||e)&&this.add(1,0,0,1,-c,-e)};d.rotate=function(d,c,e){d=a.rad(d);c=c||0;e=e||0;var h=+ba.cos(d).toFixed(9);d=+ba.sin(d).toFixed(9);this.add(h,d,-d,h,c,e);this.add(1,0,0,1,-c,-e)};d.x=function(a,d){return a*this.a+d*this.c+this.e};d.y=function(a,d){return a*this.b+d*this.d+this.f};d.get=function(a){return+this[oa.fromCharCode(97+a)].toFixed(4)};d.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),
this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};d.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};d.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};d.split=function(){var d={};d.dx=this.e;d.dy=this.f;var f=[[this.a,this.c],[this.b,this.d]];d.scalex=ba.sqrt(c(f[0]));e(f[0]);
d.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1];f[1]=[f[1][0]-f[0][0]*d.shear,f[1][1]-f[0][1]*d.shear];d.scaley=ba.sqrt(c(f[1]));e(f[1]);d.shear/=d.scaley;var m=-f[0][1],f=f[1][1];return 0>f?(d.rotate=a.deg(ba.acos(f)),0>m&&(d.rotate=360-d.rotate)):d.rotate=a.deg(ba.asin(m)),d.isSimple=!(+d.shear.toFixed(9)||d.scalex.toFixed(9)!=d.scaley.toFixed(9)&&d.rotate),d.isSuperSimple=!+d.shear.toFixed(9)&&d.scalex.toFixed(9)==d.scaley.toFixed(9)&&!d.rotate,d.noRotation=!+d.shear.toFixed(9)&&!d.rotate,d};d.toTransformString=
function(a){a=a||this[sa]();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(R.prototype);var cc=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);L.safari="Apple Computer, Inc."==navigator.vendor&&
(cc&&4>cc[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&cc&&8>cc[1]?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:Gd;for(var Rc=function(){this.returnValue=!1},Hd=function(){return this.originalEvent.preventDefault()},Sc=function(){this.cancelBubble=!0},Id=function(){return this.originalEvent.stopPropagation()},Tc=function(a){return{x:a.clientX+(Q.doc.documentElement.scrollLeft||Q.doc.body.scrollLeft),
y:a.clientY+(Q.doc.documentElement.scrollTop||Q.doc.body.scrollTop)}},dc=function(){return Q.doc.addEventListener?function(a,c,e,f){var s=function(a){var d=Tc(a);return e.call(f,a,d.x,d.y)};(a.addEventListener(c,s,!1),Ka&&Xa[c])&&a.addEventListener(Xa[c],function(c){for(var h=Tc(c),s=c,r=0,t=c.targetTouches&&c.targetTouches.length;t>r;r++)if(c.targetTouches[r].target==a){c=c.targetTouches[r];c.originalEvent=s;c.preventDefault=Hd;c.stopPropagation=Id;break}return e.call(f,c,h.x,h.y)},!1);return function(){return a.removeEventListener(c,
s,!1),Ka&&Xa[c]&&a.removeEventListener(Xa[c],s,!1),!0}}:Q.doc.attachEvent?function(a,c,e,f){var s=function(a){a=a||Q.win.event;var d=a.clientX+(Q.doc.documentElement.scrollLeft||Q.doc.body.scrollLeft),c=a.clientY+(Q.doc.documentElement.scrollTop||Q.doc.body.scrollTop);return a.preventDefault=a.preventDefault||Rc,a.stopPropagation=a.stopPropagation||Sc,e.call(f,a,d,c)};a.attachEvent("on"+c,s);return function(){return a.detachEvent("on"+c,s),!0}}:void 0}(),$a=[],Nb=function(a){for(var c,e=a.clientX,
l=a.clientY,s=Q.doc.documentElement.scrollTop||Q.doc.body.scrollTop,m=Q.doc.documentElement.scrollLeft||Q.doc.body.scrollLeft,v=$a.length;v--;){if(c=$a[v],Ka&&a.touches)for(var r,t=a.touches.length;t--;){if(r=a.touches[t],r.identifier==c.el._drag.id){e=r.clientX;l=r.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var x=c.el.node,w=x.nextSibling,z=x.parentNode,y=x.style.display;Q.win.opera&&z.removeChild(x);x.style.display="none";t=c.el.paper.getElementByPoint(e,
l);x.style.display=y;Q.win.opera&&(w?z.insertBefore(x,w):z.appendChild(x));t&&f("raphael.drag.over."+c.el.id,c.el,t);e+=m;l+=s;f("raphael.drag.move."+c.el.id,c.move_scope||c.el,e-c.el._drag.x,l-c.el._drag.y,e,l,a)}},ec=function(d){a.unmousemove(Nb).unmouseup(ec);for(var c,e=$a.length;e--;)c=$a[e],c.el._drag={},f("raphael.drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,d);$a=[]},ja=a.el={},Wc=Na.length;Wc--;)(function(d){a[d]=ja[d]=function(c,e){return a.is(c,"function")&&(this.events=
this.events||[],this.events.push({name:d,f:c,unbind:dc(this.shape||this.node||Q.doc,d,c,e||this)})),this};a["un"+d]=ja["un"+d]=function(c){for(var e=this.events||[],f=e.length;f--;)e[f].name!=d||!a.is(c,"undefined")&&e[f].f!=c||(e[f].unbind(),e.splice(f,1),!e.length&&delete this.events);return this}})(Na[Wc]);ja.data=function(c,h){var e=eb[this.id]=eb[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(a.is(c,"object")){for(var l in c)c[ea](l)&&this.data(l,c[l]);return this}return f("raphael.data.get."+
this.id,this,e[c],c),e[c]}return e[c]=h,f("raphael.data.set."+this.id,this,h,c),this};ja.removeData=function(a){return null==a?eb[this.id]={}:eb[this.id]&&delete eb[this.id][a],this};ja.getData=function(){return t(eb[this.id]||{})};ja.hover=function(a,c,e,f){return this.mouseover(a,e).mouseout(c,f||e)};ja.unhover=function(a,c){return this.unmouseover(a).unmouseout(c)};var ob=[];ja.drag=function(c,h,e,l,s,m){function v(v){(v.originalEvent||v).preventDefault();var r=Q.doc.documentElement.scrollTop||
Q.doc.body.scrollTop,t=Q.doc.documentElement.scrollLeft||Q.doc.body.scrollLeft;this._drag.x=v.clientX+t;this._drag.y=v.clientY+r;this._drag.id=v.identifier;!$a.length&&a.mousemove(Nb).mouseup(ec);$a.push({el:this,move_scope:l,start_scope:s,end_scope:m});h&&f.on("raphael.drag.start."+this.id,h);c&&f.on("raphael.drag.move."+this.id,c);e&&f.on("raphael.drag.end."+this.id,e);f("raphael.drag.start."+this.id,s||l||this,v.clientX+t,v.clientY+r,v)}return this._drag={},ob.push({el:this,start:v}),this.mousedown(v),
this};ja.onDragOver=function(a){a?f.on("raphael.drag.over."+this.id,a):f.unbind("raphael.drag.over."+this.id)};ja.undrag=function(){for(var c=ob.length;c--;)ob[c].el==this&&(this.unmousedown(ob[c].start),ob.splice(c,1),f.unbind("raphael.drag.*."+this.id));!ob.length&&a.unmousemove(Nb).unmouseup(ec);$a=[]};L.circle=function(c,f,e){c=a._engine.circle(this,c||0,f||0,e||0);return this.__set__&&this.__set__.push(c),c};L.rect=function(c,f,e,l,s){c=a._engine.rect(this,c||0,f||0,e||0,l||0,s||0);return this.__set__&&
this.__set__.push(c),c};L.ellipse=function(c,f,e,l){c=a._engine.ellipse(this,c||0,f||0,e||0,l||0);return this.__set__&&this.__set__.push(c),c};L.path=function(c){c&&!a.is(c,"string")&&!a.is(c[0],Ba)&&(c+="");var f=a._engine.path(a.format[Y](a,arguments),this);return this.__set__&&this.__set__.push(f),f};L.image=function(c,f,e,l,s){c=a._engine.image(this,c||"about:blank",f||0,e||0,l||0,s||0);return this.__set__&&this.__set__.push(c),c};L.text=function(c,f,e){c=a._engine.text(this,c||0,f||0,oa(e));
return this.__set__&&this.__set__.push(c),c};L.set=function(c){!a.is(c,"array")&&(c=Array.prototype.splice.call(arguments,0,arguments.length));var f=new db(c);return this.__set__&&this.__set__.push(f),f.paper=this,f.type="set",f};L.setStart=function(a){this.__set__=a||this.set()};L.setFinish=function(){var a=this.__set__;return delete this.__set__,a};L.setSize=function(c,f){return a._engine.setSize.call(this,c,f)};L.setViewBox=function(c,f,e,l,s){return a._engine.setViewBox.call(this,c,f,e,l,s)};
L.top=L.bottom=null;L.raphael=a;L.getElementByPoint=function(a,c){var e,f,s=this.canvas,m=Q.doc.elementFromPoint(a,c);if(Q.win.opera&&"svg"==m.tagName){f=s.getBoundingClientRect();e=s.ownerDocument;var v=e.body,r=e.documentElement;e=f.top+(Q.win.pageYOffset||r.scrollTop||v.scrollTop)-(r.clientTop||v.clientTop||0);f=f.left+(Q.win.pageXOffset||r.scrollLeft||v.scrollLeft)-(r.clientLeft||v.clientLeft||0);v=s.createSVGRect();v.x=a-f;v.y=c-e;v.width=v.height=1;e=s.getIntersectionList(v,null);e.length&&
(m=e[e.length-1])}if(!m)return null;for(;m.parentNode&&m!=s.parentNode&&!m.raphael;)m=m.parentNode;return m==this.canvas.parentNode&&(m=s),m&&m.raphael?this.getById(m.raphaelid):null};L.getElementsByBBox=function(c){var f=this.set();return this.forEach(function(e){a.isBBoxIntersect(e.getBBox(),c)&&f.push(e)}),f};L.getById=function(a){for(var c=this.bottom;c;){if(c.id==a)return c;c=c.next}return null};L.forEach=function(a,c){for(var e=this.bottom;e&&!1!==a.call(c,e);)e=e.next;return this};L.getElementsByPoint=
function(a,c){var e=this.set();return this.forEach(function(f){f.isPointInside(a,c)&&e.push(f)}),e};ja.isPointInside=function(c,f){var e=this.realPath=this.realPath||wb[this.type](this);return a.isPointInsidePath(e,c,f)};ja.getBBox=function(a){if(this.removed)return{};var c=this._;return a?((c.dirty||!c.bboxwt)&&(this.realPath=wb[this.type](this),c.bboxwt=Jb(this.realPath),c.bboxwt.toString=B,c.dirty=0),c.bboxwt):((c.dirty||c.dirtyT||!c.bbox)&&((c.dirty||!this.realPath)&&(c.bboxwt=0,this.realPath=
wb[this.type](this)),c.bbox=Jb(tc(this.realPath,this.matrix)),c.bbox.toString=B,c.dirty=c.dirtyT=0),c.bbox)};ja.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a};ja.glow=function(a){if("text"==this.type)return null;a=a||{};var c=(a.width||10)+(+this.attr("stroke-width")||1),e=a.fill||!1,f=a.opacity||0.5,s=a.offsetx||0,m=a.offsety||0;a=a.color||"#000";for(var v=c/2,r=this.paper,t=r.set(),x=this.realPath||wb[this.type](this),
x=this.matrix?tc(x,this.matrix):x,w=1;v+1>w;w++)t.push(r.path(x).attr({stroke:a,fill:e?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(c/v*w).toFixed(3),opacity:+(f/v).toFixed(3)}));return t.insertBefore(this).translate(s,m)};var ab=function(c,f,e,l,s,m,v,t,w){return null==w?x(c,f,e,l,s,m,v,t):a.findDotsAtSegment(c,f,e,l,s,m,v,t,r(c,f,e,l,s,m,v,t,w))},fc=function(c,f){return function(e,l,s){e=yb(e);for(var m,v,r,t,x,w="",z={},y=0,D=0,B=e.length;B>D;D++){if(r=e[D],"M"==
r[0])m=+r[1],v=+r[2];else{if(t=ab(m,v,r[1],r[2],r[3],r[4],r[5],r[6]),y+t>l){if(f&&!z.start){if(x=ab(m,v,r[1],r[2],r[3],r[4],r[5],r[6],l-y),w+=["C"+x.start.x,x.start.y,x.m.x,x.m.y,x.x,x.y],s)return w;z.start=w;w=["M"+x.x,x.y+"C"+x.n.x,x.n.y,x.end.x,x.end.y,r[5],r[6]].join();y+=t;m=+r[5];v=+r[6];continue}if(!c&&!f)return x=ab(m,v,r[1],r[2],r[3],r[4],r[5],r[6],l-y),{x:x.x,y:x.y,alpha:x.alpha}}y+=t;m=+r[5];v=+r[6]}w+=r.shift()+r}return z.end=w,x=c?y:f?z:a.findDotsAtSegment(m,v,r[0],r[1],r[2],r[3],r[4],
r[5],1),x.alpha&&(x={x:x.x,y:x.y,alpha:x.alpha}),x}},zc=fc(1),Xc=fc(),Ac=fc(0,1);a.getTotalLength=zc;a.getPointAtLength=Xc;a.getSubpath=function(a,c,e){if(1E-6>this.getTotalLength(a)-e)return Ac(a,c).end;a=Ac(a,e,1);return c?Ac(a,c).end:a};ja.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():zc(a)};ja.getPointAtLength=function(a){var c=this.getPath();if(c)return Xc(c,a)};ja.getPath=function(){var c,f=a._getPath[this.type];if("text"!=this.type&&
"set"!=this.type)return f&&(c=f(this)),c};ja.getSubpath=function(c,f){var e=this.getPath();if(e)return a.getSubpath(e,c,f)};var Ia=a.easing_formulas={linear:function(a){return a},"<":function(a){return za(a,1.7)},">":function(a){return za(a,0.48)},"<>":function(a){var c=0.48-a/1.04,e=ba.sqrt(0.1734+c*c);a=e-c;a=za(va(a),1/3)*(0>a?-1:1);c=-e-c;c=za(va(c),1/3)*(0>c?-1:1);a=a+c+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*
a+1.70158)+1},elastic:function(a){return a==!!a?a:za(2,-10*a)*ba.sin(2*(a-0.075)*Aa/0.3)+1},bounce:function(a){var c;return 1/2.75>a?c=7.5625*a*a:2/2.75>a?(a-=1.5/2.75,c=7.5625*a*a+0.75):2.5/2.75>a?(a-=2.25/2.75,c=7.5625*a*a+0.9375):(a-=2.625/2.75,c=7.5625*a*a+0.984375),c}};Ia.easeIn=Ia["ease-in"]=Ia["<"];Ia.easeOut=Ia["ease-out"]=Ia[">"];Ia.easeInOut=Ia["ease-in-out"]=Ia["<>"];Ia["back-in"]=Ia.backIn;Ia["back-out"]=Ia.backOut;var ca=[],cb=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||
c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(a){setTimeout(a,16)},Ob=function(){for(var c=+new Date,h=0;ca.length>h;h++){var e=ca[h];if(!e.el.removed&&!e.paused){var l,s,m=c-e.start,r=e.ms,x=e.easing,t=e.from,w=e.diff,z=e.to,y=(e.t,e.el),D={},B={};if(e.initstatus?(m=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*r,e.status=e.initstatus,delete e.initstatus,e.stop&&ca.splice(h--,1)):e.status=(e.prev+(e.percent-e.prev)*(m/r))/e.anim.top,!(0>m))if(r>m){var E=x(m/r),H;for(H in t)if(t[ea](H)){switch(Fb[H]){case wa:l=
+t[H]+E*r*w[H];break;case "colour":l="rgb("+[Bc(Eb(t[H].r+E*r*w[H].r)),Bc(Eb(t[H].g+E*r*w[H].g)),Bc(Eb(t[H].b+E*r*w[H].b))].join()+")";break;case "path":l=[];m=0;for(x=t[H].length;x>m;m++){l[m]=[t[H][m][0]];z=1;for(B=t[H][m].length;B>z;z++)l[m][z]=+t[H][m][z]+E*r*w[H][m][z];l[m]=l[m].join(ra)}l=l.join(ra);break;case "transform":if(w[H].real){l=[];m=0;for(x=t[H].length;x>m;m++){l[m]=[t[H][m][0]];z=1;for(B=t[H][m].length;B>z;z++)l[m][z]=t[H][m][z]+E*r*w[H][m][z]}}else l=function(a){return+t[H][a]+E*
r*w[H][a]},l=[["m",l(0),l(1),l(2),l(3),l(4),l(5)]];break;case "csv":if("clip-rect"==H){l=[];for(m=4;m--;)l[m]=+t[H][m]+E*r*w[H][m]}break;default:x=[][fa](t[H]);l=[];for(m=y.paper.customAttributes[H].length;m--;)l[m]=+x[m]+E*r*w[H][m]}D[H]=l}y.attr(D);(function(a,c,d){setTimeout(function(){f("raphael.anim.frame."+a,c,d)})})(y.id,y,e.anim)}else{if(function(c,d,e){setTimeout(function(){f("raphael.anim.frame."+d.id,d,e);f("raphael.anim.finish."+d.id,d,e);a.is(c,"function")&&c.call(d)})}(e.callback,y,
e.anim),y.attr(z),ca.splice(h--,1),1<e.repeat&&!e.next){for(s in z)z[ea](s)&&(B[s]=e.totalOrigin[s]);e.el.attr(B);N(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&N(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}a.svg&&y&&y.paper&&y.paper.safari();ca.length&&cb(Ob)},Bc=function(a){return 255<a?255:0>a?0:a};ja.animateWith=function(c,f,e,l,s,m){if(this.removed)return m&&m.call(this),this;e=e instanceof D?e:a.animation(e,l,s,m);N(e,this,e.percents[0],null,this.attr());
e=0;for(l=ca.length;l>e;e++)if(ca[e].anim==f&&ca[e].el==c){ca[l-1].start=ca[e].start;break}return this};ja.onAnimation=function(a){return a?f.on("raphael.anim.frame."+this.id,a):f.unbind("raphael.anim.frame."+this.id),this};D.prototype.delay=function(a){var c=new D(this.anim,this.ms);return c.times=this.times,c.del=+a||0,c};D.prototype.repeat=function(a){var c=new D(this.anim,this.ms);return c.del=this.del,c.times=ba.floor(ka(a,0))||1,c};a.animation=function(c,f,e,l){if(c instanceof D)return c;(a.is(e,
"function")||!e)&&(l=l||e||null,e=null);c=Object(c);f=+f||0;var s,m,r={};for(m in c)c[ea](m)&&na(m)!=m&&na(m)+"%"!=m&&(s=!0,r[m]=c[m]);return s?(e&&(r.easing=e),l&&(r.callback=l),new D({100:r},f)):new D(c,f)};ja.animate=function(c,f,e,l){if(this.removed)return l&&l.call(this),this;c=c instanceof D?c:a.animation(c,f,e,l);return N(c,this,c.percents[0],null,this.attr()),this};ja.setTime=function(a,c){return a&&null!=c&&this.status(a,ma(c,a.ms)/a.ms),this};ja.status=function(a,c){var e,f,s=[],m=0;if(null!=
c)return N(a,this,-1,ma(c,1)),this;for(e=ca.length;e>m;m++)if(f=ca[m],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;s.push({anim:f.anim,status:f.status})}return a?0:s};ja.pause=function(a){for(var c=0;ca.length>c;c++)ca[c].el.id!=this.id||a&&ca[c].anim!=a||!1!==f("raphael.anim.pause."+this.id,this,ca[c].anim)&&(ca[c].paused=!0);return this};ja.resume=function(a){for(var c=0;ca.length>c;c++)if(ca[c].el.id==this.id&&(!a||ca[c].anim==a)){var e=ca[c];!1!==f("raphael.anim.resume."+this.id,this,
e.anim)&&(delete e.paused,this.status(e.anim,e.status))}return this};ja.stop=function(a){for(var c=0;ca.length>c;c++)ca[c].el.id!=this.id||a&&ca[c].anim!=a||!1!==f("raphael.anim.stop."+this.id,this,ca[c].anim)&&ca.splice(c--,1);return this};f.on("raphael.remove",H);f.on("raphael.clear",H);ja.toString=function(){return"Rapha\u00ebl\u2019s object"};var db=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var c=0,e=a.length;e>c;c++)!a[c]||a[c].constructor!=ja.constructor&&a[c].constructor!=
db||(this[this.items.length]=this.items[this.items.length]=a[c],this.length++)},Ca=db.prototype;Ca.push=function(){for(var a,c,e=0,f=arguments.length;f>e;e++)a=arguments[e],!a||a.constructor!=ja.constructor&&a.constructor!=db||(c=this.items.length,this[c]=this.items[c]=a,this.length++);return this};Ca.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};Ca.forEach=function(a,c){for(var e=0,f=this.items.length;f>e&&!1!==a.call(c,this.items[e],e);e++);return this};for(var gc in ja)ja[ea](gc)&&
(Ca[gc]=function(a){return function(){var c=arguments;return this.forEach(function(e){e[a][Y](e,c)})}}(gc));return Ca.attr=function(c,f){if(c&&a.is(c,Ba)&&a.is(c[0],"object"))for(var e=0,l=c.length;l>e;e++)this.items[e].attr(c[e]);else{e=0;for(l=this.items.length;l>e;e++)this.items[e].attr(c,f)}return this},Ca.clear=function(){for(;this.length;)this.pop()},Ca.splice=function(a,c){a=0>a?ka(this.length+a,0):a;c=ka(0,ma(this.length-a,c));var e,f=[],s=[],m=[];for(e=2;arguments.length>e;e++)m.push(arguments[e]);
for(e=0;c>e;e++)s.push(this[a+e]);for(;this.length-a>e;e++)f.push(this[a+e]);var r=m.length;for(e=0;r+f.length>e;e++)this.items[a+e]=this[a+e]=r>e?m[e]:f[e-r];for(e=this.items.length=this.length-=c-r;this[e];)delete this[e++];return new db(s)},Ca.exclude=function(a){for(var c=0,e=this.length;e>c;c++)if(this[c]==a)return this.splice(c,1),!0},Ca.animate=function(c,f,e,l){(a.is(e,"function")||!e)&&(l=e||null);var s,m=this.items.length,r=m,t=this;if(!m)return this;l&&(s=function(){!--m&&l.call(t)});e=
a.is(e,"string")?e:s;f=a.animation(c,f,e,s);for(c=this.items[--r].animate(f);r--;)this.items[r]&&!this.items[r].removed&&this.items[r].animateWith(c,f,f),this.items[r]&&!this.items[r].removed||m--;return this},Ca.insertAfter=function(a){for(var c=this.items.length;c--;)this.items[c].insertAfter(a);return this},Ca.getBBox=function(){for(var a=[],c=[],e=[],f=[],s=this.items.length;s--;)if(!this.items[s].removed){var m=this.items[s].getBBox();a.push(m.x);c.push(m.y);e.push(m.x+m.width);f.push(m.y+m.height)}return a=
ma[Y](0,a),c=ma[Y](0,c),e=ka[Y](0,e),f=ka[Y](0,f),{x:a,y:c,x2:e,y2:f,width:e-a,height:f-c}},Ca.clone=function(a){a=this.paper.set();for(var c=0,e=this.items.length;e>c;c++)a.push(this.items[c].clone());return a},Ca.toString=function(){return"Rapha\u00ebl\u2018s set"},Ca.glow=function(a){var c=this.paper.set();return this.forEach(function(e){e=e.glow(a);null!=e&&e.forEach(function(a){c.push(a)})}),c},Ca.isPointInside=function(a,c){var e=!1;return this.forEach(function(f){return f.isPointInside(a,c)?
(console.log("runned"),e=!0,!1):void 0}),e},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var c={w:a.w,face:{},glyphs:{}},e=a.face["font-family"],f;for(f in a.face)a.face[ea](f)&&(c.face[f]=a.face[f]);if(this.fonts[e]?this.fonts[e].push(c):this.fonts[e]=[c],!a.svg){c.face["units-per-em"]=Ea(a.face["units-per-em"],10);for(var s in a.glyphs)if(a.glyphs[ea](s)&&(e=a.glyphs[s],c.glyphs[s]={w:e.w,k:{},d:e.d&&"M"+e.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",
r:"l",v:"c"}[a]||"M"})+"z"},e.k))for(var m in e.k)e[ea](m)&&(c.glyphs[s].k[m]=e.k[m])}return a},L.getFont=function(c,f,e,l){if(l=l||"normal",e=e||"normal",f=+f||{normal:400,bold:700,lighter:300,bolder:800}[f]||400,a.fonts){var s=a.fonts[c];if(!s){c=RegExp("(^|\\s)"+c.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var m in a.fonts)if(a.fonts[ea](m)&&c.test(m)){s=a.fonts[m];break}}var r;if(s){m=0;for(c=s.length;c>m&&(r=s[m],r.face["font-weight"]!=f||r.face["font-style"]!=e&&r.face["font-style"]||
r.face["font-stretch"]!=l);m++);}return r}},L.print=function(c,f,e,l,s,m,r,t){m=m||"middle";r=ka(ma(r||0,1),-1);t=ka(ma(t||1,3),1);e=oa(e)[sa]("");var x=0,w=0,z="";if(a.is(l,"string")&&(l=this.getFont(l)),l){s=(s||16)/l.face["units-per-em"];var y=l.face.bbox[sa](da),B=+y[0],D=y[3]-y[1],E=0;m=+y[1]+("baseline"==m?D+ +l.face.descent:D/2);for(var y=0,H=e.length;H>y;y++){if("\n"==e[y])w=K=x=0,E+=D*t;else var L=w&&l.glyphs[e[y-1]]||{},K=l.glyphs[e[y]],x=x+(w?(L.w||l.w)+(L.k&&L.k[e[y]]||0)+l.w*r:0),w=1;
K&&K.d&&(z+=a.transformPath(K.d,["t",x*s,E*s,"s",s,s,B,m,"t",(c-B)/s,(f-m)/s]))}}return this.path(z).attr({fill:"#000",stroke:"none"})},L.add=function(c){if(a.is(c,"array"))for(var f,e=this.set(),l=0,s=c.length;s>l;l++)f=c[l]||{},la[ea](f.type)&&e.push(this[f.type]().attr(f));return e},a.format=function(c,f){var e=a.is(f,Ba)?[0][fa](f):arguments;return c&&a.is(c,"string")&&e.length-1&&(c=c.replace(xa,function(a,c){return null==e[++c]?"":e[c]})),c||""},a.fullfill=function(){var a=/\{([^\}]+)\}/g,c=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(a,d,e){var f=e;return d.replace(c,function(a,c,d,e,h){c=c||e;f&&(c in f&&(f=f[c]),"function"==typeof f&&h&&(f=f()))}),f=(null==f||f==e?a:f)+""};return function(c,f){return(c+"").replace(a,function(a,c){return e(a,c,f)})}}(),a.ninja=function(){return Ga?Q.win.Raphael=La:delete Raphael,a},a.st=Ca,function(c,f,e){function l(){/in/.test(c.readyState)?setTimeout(l,9):a.eve("raphael.DOMload")}null==c.readyState&&c.addEventListener&&(c.addEventListener(f,
e=function(){c.removeEventListener(f,e,!1);c.readyState="complete"},!1),c.readyState="loading");l()}(document,"DOMContentLoaded"),f.on("raphael.DOMload",function(){V=!0}),function(){if(a.svg){var c=String,f=parseFloat,e=parseInt,l=Math,s=l.max,m=l.abs,r=l.pow,t=/[, ]+/,x=a.eve,w={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},z={};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+
this.version};var y=function(e,f){if(f){"string"==typeof e&&(e=y(e));for(var h in f)f.hasOwnProperty(h)&&("xlink:"==h.substring(0,6)?e.setAttributeNS("http://www.w3.org/1999/xlink",h.substring(6),c(f[h])):e.setAttribute(h,c(f[h])))}else e=a._g.doc.createElementNS("http://www.w3.org/2000/svg",e),e.style&&(e.style.webkitTapHighlightColor="rgba(0,0,0,0)");return e},B=function(e,t){var x="linear",A=e.id+t,J=0.5,M=0.5,w=e.node,z=e.paper,D=w.style,B=a._g.doc.getElementById(A);if(!B){if(t=c(t).replace(a._radial_gradient,
function(a,c,d){if(x="radial",c&&d)J=f(c),M=f(d),a=2*(0.5<M)-1,0.25<r(J-0.5,2)+r(M-0.5,2)&&(M=l.sqrt(0.25-r(J-0.5,2))*a+0.5)&&0.5!=M&&(M=M.toFixed(5)-1E-5*a);return""}),t=t.split(/\s*\-\s*/),"linear"==x){B=t.shift();if(B=-f(B),isNaN(B))return null;var C=[0,0,l.cos(a.rad(B)),l.sin(a.rad(B))],B=1/(s(m(C[2]),m(C[3]))||1);C[2]*=B;C[3]*=B;0>C[2]&&(C[0]=-C[2],C[2]=0);0>C[3]&&(C[1]=-C[3],C[3]=0)}var E=a._parseDots(t);if(!E)return null;if(A=A.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&A!=e.gradient.id&&(z.defs.removeChild(e.gradient),
delete e.gradient),!e.gradient){B=y(x+"Gradient",{id:A});e.gradient=B;y(B,"radial"==x?{fx:J,fy:M}:{x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientTransform:e.matrix.invert()});z.defs.appendChild(B);z=0;for(C=E.length;C>z;z++)B.appendChild(y("stop",{offset:E[z].offset?E[z].offset:z?"100%":"0%","stop-color":E[z].color||"#fff"}))}}return y(w,{fill:"url(#"+A+")",opacity:1,"fill-opacity":1}),D.fill="",D.opacity=1,D.fillOpacity=1,1},D=function(a){var c=a.getBBox(1);y(a.pattern,{patternTransform:a.matrix.invert()+
" translate("+c.x+","+c.y+")"})},E=function(e,f,h){if("path"==e.type){for(var l,m,s,r,t,x=c(f).toLowerCase().split("-"),v=e.paper,C=h?"end":"start",B=e.node,D=e.attrs,E=D["stroke-width"],H=x.length,I="classic",K=3,L=3,N=5;H--;)switch(x[H]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":I=x[H];break;case "wide":L=5;break;case "narrow":L=2;break;case "long":K=5;break;case "short":K=2}if("open"==I?(K+=2,L+=2,N+=2,s=1,r=h?4:1,t={fill:"none",stroke:D.stroke}):(r=s=K/2,t=
{fill:D.stroke,stroke:"none"}),e._.arrows?h?(e._.arrows.endPath&&z[e._.arrows.endPath]--,e._.arrows.endMarker&&z[e._.arrows.endMarker]--):(e._.arrows.startPath&&z[e._.arrows.startPath]--,e._.arrows.startMarker&&z[e._.arrows.startMarker]--):e._.arrows={},"none"!=I){x="raphael-marker-"+I;H="raphael-marker-"+C+I+K+L;a._g.doc.getElementById(x)?z[x]++:(v.defs.appendChild(y(y("path"),{"stroke-linecap":"round",d:w[I],id:x})),z[x]=1);var O,Q=a._g.doc.getElementById(H);Q?(z[H]++,O=Q.getElementsByTagName("use")[0]):
(Q=y(y("marker"),{id:H,markerHeight:L,markerWidth:K,orient:"auto",refX:r,refY:L/2}),O=y(y("use"),{"xlink:href":"#"+x,transform:(h?"rotate(180 "+K/2+" "+L/2+") ":"")+"scale("+K/N+","+L/N+")","stroke-width":(1/((K/N+L/N)/2)).toFixed(4)}),Q.appendChild(O),v.defs.appendChild(Q),z[H]=1);y(O,t);s*="diamond"!=I&&"oval"!=I;h?(l=e._.arrows.startdx*E||0,m=a.getTotalLength(D.path)-s*E):(l=s*E,m=a.getTotalLength(D.path)-(e._.arrows.enddx*E||0));t={};t["marker-"+C]="url(#"+H+")";(m||l)&&(t.d=a.getSubpath(D.path,
l,m));y(B,t);e._.arrows[C+"Path"]=x;e._.arrows[C+"Marker"]=H;e._.arrows[C+"dx"]=s;e._.arrows[C+"Type"]=I;e._.arrows[C+"String"]=f}else h?(l=e._.arrows.startdx*E||0,m=a.getTotalLength(D.path)-l):(l=0,m=a.getTotalLength(D.path)-(e._.arrows.enddx*E||0)),e._.arrows[C+"Path"]&&y(B,{d:a.getSubpath(D.path,l,m)}),delete e._.arrows[C+"Path"],delete e._.arrows[C+"Marker"],delete e._.arrows[C+"dx"],delete e._.arrows[C+"Type"],delete e._.arrows[C+"String"];for(t in z)z.hasOwnProperty(t)&&!z[t]&&(e=a._g.doc.getElementById(t))&&
e.parentNode.removeChild(e)}},H={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},L=function(a,e,f){if(e=H[c(e).toLowerCase()]){var h=a.attrs["stroke-width"]||"1";f={round:h,square:h,butt:0}[a.attrs["stroke-linecap"]||f["stroke-linecap"]]||0;for(var l=[],m=e.length;m--;)l[m]=e[m]*h+(m%2?1:-1)*f;y(a.node,{"stroke-dasharray":l.join(",")})}},K=function(f,h){var l=f.node,A=f.attrs,r=l.style.visibility;
l.style.visibility="hidden";for(var x in h)if(h.hasOwnProperty(x)&&a._availableAttrs.hasOwnProperty(x)){var v=h[x];switch(A[x]=v,x){case "blur":f.blur(v);break;case "href":case "title":case "target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var z=y("a");w.insertBefore(z,l);z.appendChild(l);w=z}"target"==x?w.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==v?"new":v):w.setAttributeNS("http://www.w3.org/1999/xlink",x,v);break;case "cursor":l.style.cursor=v;break;case "transform":f.transform(v);
break;case "arrow-start":E(f,v);break;case "arrow-end":E(f,v,1);break;case "clip-rect":w=c(v).split(t);if(4==w.length){f.clip&&f.clip.parentNode.parentNode.removeChild(f.clip.parentNode);var z=y("clipPath"),H=y("rect");z.id=a.createUUID();y(H,{x:w[0],y:w[1],width:w[2],height:w[3]});z.appendChild(H);f.paper.defs.appendChild(z);y(l,{"clip-path":"url(#"+z.id+")"});f.clip=H}if(!v&&(v=l.getAttribute("clip-path")))(v=a._g.doc.getElementById(v.replace(/(^url\(#|\)$)/g,"")))&&v.parentNode.removeChild(v),
y(l,{"clip-path":""}),delete f.clip;break;case "path":"path"==f.type&&(y(l,{d:v?A.path=a._pathToAbsolute(v):"M0,0"}),f._.dirty=1,f._.arrows&&("startString"in f._.arrows&&E(f,f._.arrows.startString),"endString"in f._.arrows&&E(f,f._.arrows.endString,1)));break;case "width":if(l.setAttribute(x,v),f._.dirty=1,!A.fx)break;x="x";v=A.x;case "x":A.fx&&(v=-A.x-(A.width||0));case "rx":if("rx"==x&&"rect"==f.type)break;case "cx":l.setAttribute(x,v);f.pattern&&D(f);f._.dirty=1;break;case "height":if(l.setAttribute(x,
v),f._.dirty=1,!A.fy)break;x="y";v=A.y;case "y":A.fy&&(v=-A.y-(A.height||0));case "ry":if("ry"==x&&"rect"==f.type)break;case "cy":l.setAttribute(x,v);f.pattern&&D(f);f._.dirty=1;break;case "r":"rect"==f.type?y(l,{rx:v,ry:v}):l.setAttribute(x,v);f._.dirty=1;break;case "src":"image"==f.type&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",v);break;case "stroke-width":(1!=f._.sx||1!=f._.sy)&&(v/=s(m(f._.sx),m(f._.sy))||1);f.paper._vbSize&&(v*=f.paper._vbSize);l.setAttribute(x,v);A["stroke-dasharray"]&&
L(f,A["stroke-dasharray"],h);f._.arrows&&("startString"in f._.arrows&&E(f,f._.arrows.startString),"endString"in f._.arrows&&E(f,f._.arrows.endString,1));break;case "stroke-dasharray":L(f,v,h);break;case "fill":var I=c(v).match(a._ISURL);if(I){var z=y("pattern"),K=y("image");z.id=a.createUUID();y(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});y(K,{x:0,y:0,"xlink:href":I[1]});z.appendChild(K);(function(c){a._preload(I[1],function(){var a=this.offsetWidth,d=this.offsetHeight;y(c,{width:a,
height:d});y(K,{width:a,height:d});f.paper.safari()})})(z);f.paper.defs.appendChild(z);y(l,{fill:"url(#"+z.id+")"});f.pattern=z;f.pattern&&D(f);break}w=a.getRGB(v);if(w.error){if(("circle"==f.type||"ellipse"==f.type||"r"!=c(v).charAt())&&B(f,v)){if("opacity"in A||"fill-opacity"in A)if(w=a._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,""))){var N=w.getElementsByTagName("stop");y(N[N.length-1],{"stop-opacity":("opacity"in A?A.opacity:1)*("fill-opacity"in A?A["fill-opacity"]:1)})}A.gradient=
v;A.fill="none";break}}else delete h.gradient,delete A.gradient,!a.is(A.opacity,"undefined")&&a.is(h.opacity,"undefined")&&y(l,{opacity:A.opacity}),!a.is(A["fill-opacity"],"undefined")&&a.is(h["fill-opacity"],"undefined")&&y(l,{"fill-opacity":A["fill-opacity"]});w.hasOwnProperty("opacity")&&y(l,{"fill-opacity":1<w.opacity?w.opacity/100:w.opacity});case "stroke":w=a.getRGB(v);l.setAttribute(x,w.hex);"stroke"==x&&w.hasOwnProperty("opacity")&&y(l,{"stroke-opacity":1<w.opacity?w.opacity/100:w.opacity});
"stroke"==x&&f._.arrows&&("startString"in f._.arrows&&E(f,f._.arrows.startString),"endString"in f._.arrows&&E(f,f._.arrows.endString,1));break;case "gradient":("circle"==f.type||"ellipse"==f.type||"r"!=c(v).charAt())&&B(f,v);break;case "opacity":A.gradient&&!A.hasOwnProperty("stroke-opacity")&&y(l,{"stroke-opacity":1<v?v/100:v});case "fill-opacity":if(A.gradient){(w=a._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(N=w.getElementsByTagName("stop"),y(N[N.length-1],{"stop-opacity":v}));
break}default:"font-size"==x&&(v=e(v,10)+"px"),w=x.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),l.style[w]=v,f._.dirty=1,l.setAttribute(x,v)}}Q(f,h);l.style.visibility=r},Q=function(f,h){if("text"==f.type&&(h.hasOwnProperty("text")||h.hasOwnProperty("font")||h.hasOwnProperty("font-size")||h.hasOwnProperty("x")||h.hasOwnProperty("y"))){var l=f.attrs,m=f.node,s=m.firstChild?e(a._g.doc.defaultView.getComputedStyle(m.firstChild,"").getPropertyValue("font-size"),10):10;if(h.hasOwnProperty("text")){for(l.text=
h.text;m.firstChild;)m.removeChild(m.firstChild);for(var r,x=c(h.text).split("\n"),t=[],v=0,w=x.length;w>v;v++)r=y("tspan"),v&&y(r,{dy:1.2*s,x:l.x}),r.appendChild(a._g.doc.createTextNode(x[v])),m.appendChild(r),t[v]=r}else{t=m.getElementsByTagName("tspan");v=0;for(w=t.length;w>v;v++)v?y(t[v],{dy:1.2*s,x:l.x}):y(t[0],{dy:0})}y(m,{x:l.x,y:l.y});f._.dirty=1;m=f._getBBox();(l=l.y-(m.y+m.height/2))&&a.is(l,"finite")&&y(t[0],{dy:l})}},O=function(c,d){this[0]=this.node=c;c.raphael=!0;this.id=a._oid++;c.raphaelid=
this.id;this.matrix=a.matrix();this.realPath=null;this.paper=d;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},N=a.el;O.prototype=N;N.constructor=O;a._engine.path=function(a,c){var d=y("path");c.canvas&&c.canvas.appendChild(d);d=new O(d,c);return d.type="path",K(d,{fill:"none",stroke:"#000",path:a}),d};N.rotate=function(a,e,l){if(this.removed)return this;if(a=c(a).split(t),
a.length-1&&(e=f(a[1]),l=f(a[2])),a=f(a[0]),null==l&&(e=l),null==e||null==l)l=this.getBBox(1),e=l.x+l.width/2,l=l.y+l.height/2;return this.transform(this._.transform.concat([["r",a,e,l]])),this};N.scale=function(a,e,l,m){if(this.removed)return this;if(a=c(a).split(t),a.length-1&&(e=f(a[1]),l=f(a[2]),m=f(a[3])),a=f(a[0]),null==e&&(e=a),null==m&&(l=m),null==l||null==m)var s=this.getBBox(1);return l=null==l?s.x+s.width/2:l,m=null==m?s.y+s.height/2:m,this.transform(this._.transform.concat([["s",a,e,l,
m]])),this};N.translate=function(a,e){return this.removed?this:(a=c(a).split(t),a.length-1&&(e=f(a[1])),a=f(a[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",a,e]])),this)};N.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&y(this.clip,{transform:this.matrix.invert()}),this.pattern&&D(this),this.node&&y(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy)c=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":c});
return this};N.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this};N.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this};N.remove=function(){if(!this.removed&&this.node.parentNode){var c=this.paper;c.__set__&&c.__set__.exclude(this);x.unbind("raphael.*.*."+this.id);this.gradient&&c.defs.removeChild(this.gradient);a._tear(this,c);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):
this.node.parentNode.removeChild(this.node);for(var d in this)this[d]="function"==typeof this[d]?a._removedFactory(d):null;this.removed=!0}};N._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var c={};try{c=this.node.getBBox()}catch(d){}finally{c=c||{}}return a&&this.hide(),c};N.attr=function(c,d){if(this.removed)return this;if(null==c){var e={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&
delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;f=c.split(t);for(var e={},h=0,l=f.length;l>h;h++)c=f[h],e[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?e:e[f[0]]}if(null==d&&a.is(c,"array")){e={};h=0;for(l=c.length;l>h;h++)e[c[h]]=this.attr(c[h]);
return e}null!=d?(e={},e[c]=d):null!=c&&a.is(c,"object")&&(e=c);for(h in e)x("raphael.attr."+h+"."+this.id,this,e[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(h)&&e.hasOwnProperty(h)&&a.is(this.paper.customAttributes[h],"function"))for(l in f=this.paper.customAttributes[h].apply(this,[].concat(e[h])),this.attrs[h]=e[h],f)f.hasOwnProperty(l)&&(e[l]=f[l]);return K(this,e),this};N.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?
this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var c=this.paper;return c.top!=this&&a._tofront(this,c),this};N.toBack=function(){if(this.removed)return this;var c=this.node.parentNode;return"a"==c.tagName.toLowerCase()?c.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):c.firstChild!=this.node&&c.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper),this.paper,this};N.insertAfter=
function(c){if(this.removed)return this;var d=c.node||c[c.length-1].node;return d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),a._insertafter(this,c,this.paper),this};N.insertBefore=function(c){if(this.removed)return this;var d=c.node||c[0].node;return d.parentNode.insertBefore(this.node,d),a._insertbefore(this,c,this.paper),this};N.blur=function(c){if(0!==+c){var d=y("filter"),e=y("feGaussianBlur");this.attrs.blur=c;d.id=a.createUUID();y(e,{stdDeviation:+c||
1.5});d.appendChild(e);this.paper.defs.appendChild(d);this._blur=d;y(this.node,{filter:"url(#"+d.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};a._engine.circle=function(a,c,d,e){var f=y("circle");a.canvas&&a.canvas.appendChild(f);a=new O(f,a);return a.attrs={cx:c,cy:d,r:e,fill:"none",stroke:"#000"},a.type="circle",y(f,a.attrs),a};a._engine.rect=function(a,c,d,e,f,h){var l=y("rect");
a.canvas&&a.canvas.appendChild(l);a=new O(l,a);return a.attrs={x:c,y:d,width:e,height:f,r:h||0,rx:h||0,ry:h||0,fill:"none",stroke:"#000"},a.type="rect",y(l,a.attrs),a};a._engine.ellipse=function(a,c,d,e,f){var h=y("ellipse");a.canvas&&a.canvas.appendChild(h);a=new O(h,a);return a.attrs={cx:c,cy:d,rx:e,ry:f,fill:"none",stroke:"#000"},a.type="ellipse",y(h,a.attrs),a};a._engine.image=function(a,c,d,e,f,h){var l=y("image");y(l,{x:d,y:e,width:f,height:h,preserveAspectRatio:"none"});l.setAttributeNS("http://www.w3.org/1999/xlink",
"href",c);a.canvas&&a.canvas.appendChild(l);a=new O(l,a);return a.attrs={x:d,y:e,width:f,height:h,src:c},a.type="image",a};a._engine.text=function(c,d,e,f){var h=y("text");c.canvas&&c.canvas.appendChild(h);c=new O(h,c);return c.attrs={x:d,y:e,"text-anchor":"middle",text:f,font:a._availableAttrs.font,stroke:"none",fill:"#000"},c.type="text",K(c,c.attrs),c};a._engine.setSize=function(a,c){return this.width=a||this.width,this.height=c||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",
this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};a._engine.create=function(){var c=a._getContainer.apply(0,arguments),d=c&&c.container,e=c.x,f=c.y,h=c.width,c=c.height;if(!d)throw Error("SVG container not found.");var l,m=y("svg");return e=e||0,f=f||0,h=h||512,c=c||342,y(m,{height:c,version:1.1,width:h,xmlns:"http://www.w3.org/2000/svg"}),1==d?(m.style.cssText="overflow:hidden;position:absolute;left:"+e+"px;top:"+f+"px",a._g.doc.body.appendChild(m),l=1):(m.style.cssText=
"overflow:hidden;position:relative",d.firstChild?d.insertBefore(m,d.firstChild):d.appendChild(m)),d=new a._Paper,d.width=h,d.height=c,d.canvas=m,d.clear(),d._left=d._top=0,l&&(d.renderfix=function(){}),d.renderfix(),d};a._engine.setViewBox=function(a,c,d,e,f){x("raphael.setViewBox",this,this._viewBox,[a,c,d,e,f]);var h,l=s(d/this.width,e/this.height),m=this.top,r=f?"meet":"xMinYMin";null==a?(this._vbSize&&(l=1),delete this._vbSize,h="0 0 "+this.width+" "+this.height):(this._vbSize=l,h=a+" "+c+" "+
d+" "+e);for(y(this.canvas,{viewBox:h,preserveAspectRatio:r});l&&m;)h="stroke-width"in m.attrs?m.attrs["stroke-width"]:1,m.attr({"stroke-width":h}),m._.dirty=1,m._.dirtyT=1,m=m.prev;return this._viewBox=[a,c,d,e,!!f],this};a.prototype.renderfix=function(){var a,c=this.canvas,d=c.style;try{a=c.getScreenCTM()||c.createSVGMatrix()}catch(e){a=c.createSVGMatrix()}c=-a.e%1;a=-a.f%1;(c||a)&&(c&&(this._left=(this._left+c)%1,d.left=this._left+"px"),a&&(this._top=(this._top+a)%1,d.top=this._top+"px"))};a.prototype.clear=
function(){a.eve("raphael.clear",this);for(var c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null;(this.desc=y("desc")).appendChild(a._g.doc.createTextNode("Created with Rapha\u00ebl "+a.version));c.appendChild(this.desc);c.appendChild(this.defs=y("defs"))};a.prototype.remove=function(){x("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null};var S=
a.st,R;for(R in N)N.hasOwnProperty(R)&&!S.hasOwnProperty(R)&&(S[R]=function(a){return function(){var c=arguments;return this.forEach(function(d){d[a].apply(d,c)})}}(R))}}(),function(){if(a.vml){var c=String,f=parseFloat,e=Math,l=e.round,s=e.max,m=e.min,r=e.abs,x=/[, ]+/,t=a.eve,w={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},z=/([clmz]),?([^clmz]*)/gi,y=/ progid:\S+Blur\([^\)]+\)/g,B=/-?[^,\s-]+/g,D={path:1,rect:1,image:1},E={circle:1,ellipse:1},H=function(e){var f=/[ahqstv]/gi,h=a._pathToAbsolute;
if(c(e).match(f)&&(h=a._path2curve),f=/[clmz]/g,h==a._pathToAbsolute&&!c(e).match(f))return e=c(e).replace(z,function(a,c,d){var e=[],f="m"==c.toLowerCase(),h=w[c];return d.replace(B,function(a){f&&2==e.length&&(h+=e+w["m"==c?"l":"L"],e=[]);e.push(l(21600*a))}),h+e});var m=h(e);e=[];for(var s=0,r=m.length;r>s;s++){f=m[s];h=m[s][0].toLowerCase();"z"==h&&(h="x");for(var x=1,t=f.length;t>x;x++)h+=l(21600*f[x])+(x!=t-1?",":"");e.push(h)}return e.join(" ")},L=function(c,d,e){var f=a.matrix();return f.rotate(-c,
0.5,0.5),{dx:f.x(d,e),dy:f.y(d,e)}},K=function(a,c,d,e,f,h){var l=a._,m=a.matrix,s=l.fillpos;a=a.node;var x=a.style,t=1,w="",z=21600/c,y=21600/d;if(x.visibility="hidden",c&&d){if(a.coordsize=r(z)+" "+r(y),x.rotation=h*(0>c*d?-1:1),h){var C=L(h,e,f);e=C.dx;f=C.dy}if(0>c&&(w+="x"),0>d&&(w+=" y")&&(t=-1),x.flip=w,a.coordorigin=e*-z+" "+f*-y,s||l.fillsize)e=(e=a.getElementsByTagName("fill"))&&e[0],a.removeChild(e),s&&(C=L(h,m.x(s[0],s[1]),m.y(s[0],s[1])),e.position=C.dx*t+" "+C.dy*t),l.fillsize&&(e.size=
l.fillsize[0]*r(c)+" "+l.fillsize[1]*r(d)),a.appendChild(e);x.visibility="visible"}};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var N=function(a,e,f){e=c(e).toLowerCase().split("-");f=f?"end":"start";for(var h=e.length,l="classic",m="medium",s="medium";h--;)switch(e[h]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":l=e[h];break;case "wide":case "narrow":s=e[h];break;case "long":case "short":m=
e[h]}a=a.node.getElementsByTagName("stroke")[0];a[f+"arrow"]=l;a[f+"arrowlength"]=m;a[f+"arrowwidth"]=s},O=function(e,r){e.attrs=e.attrs||{};var t=e.node,v=e.attrs,w=t.style,z=D[e.type]&&(r.x!=v.x||r.y!=v.y||r.width!=v.width||r.height!=v.height||r.cx!=v.cx||r.cy!=v.cy||r.rx!=v.rx||r.ry!=v.ry||r.r!=v.r),y=E[e.type]&&(v.cx!=r.cx||v.cy!=r.cy||v.r!=r.r||v.rx!=r.rx||v.ry!=r.ry),B;for(B in r)r.hasOwnProperty(B)&&(v[B]=r[B]);if(z&&(v.path=a._getPath[e.type](e),e._.dirty=1),r.href&&(t.href=r.href),r.title&&
(t.title=r.title),r.target&&(t.target=r.target),r.cursor&&(w.cursor=r.cursor),"blur"in r&&e.blur(r.blur),(r.path&&"path"==e.type||z)&&(t.path=H(~c(v.path).toLowerCase().indexOf("r")?a._pathToAbsolute(v.path):v.path),"image"==e.type&&(e._.fillpos=[v.x,v.y],e._.fillsize=[v.width,v.height],K(e,1,1,0,0,0))),"transform"in r&&e.transform(r.transform),y)w=+v.cx,z=+v.cy,y=+v.rx||+v.r||0,B=+v.ry||+v.r||0,t.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",l(21600*(w-y)),l(21600*(z-B)),l(21600*(w+y)),l(21600*
(z+B)),l(21600*w)),e._.dirty=1;"clip-rect"in r&&(w=c(r["clip-rect"]).split(x),4==w.length&&(w[2]=+w[2]+ +w[0],w[3]=+w[3]+ +w[1],z=t.clipRect||a._g.doc.createElement("div"),y=z.style,y.clip=a.format("rect({1}px {2}px {3}px {0}px)",w),t.clipRect||(y.position="absolute",y.top=0,y.left=0,y.width=e.paper.width+"px",y.height=e.paper.height+"px",t.parentNode.insertBefore(z,t),z.appendChild(t),t.clipRect=z)),r["clip-rect"]||t.clipRect&&(t.clipRect.style.clip="auto"));e.textpath&&(w=e.textpath.style,r.font&&
(w.font=r.font),r["font-family"]&&(w.fontFamily='"'+r["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),r["font-size"]&&(w.fontSize=r["font-size"]),r["font-weight"]&&(w.fontWeight=r["font-weight"]),r["font-style"]&&(w.fontStyle=r["font-style"]));if("arrow-start"in r&&N(e,r["arrow-start"]),"arrow-end"in r&&N(e,r["arrow-end"],1),null!=r.opacity||null!=r["stroke-width"]||null!=r.fill||null!=r.src||null!=r.stroke||null!=r["stroke-width"]||null!=r["stroke-opacity"]||null!=r["fill-opacity"]||
null!=r["stroke-dasharray"]||null!=r["stroke-miterlimit"]||null!=r["stroke-linejoin"]||null!=r["stroke-linecap"]){w=t.getElementsByTagName("fill");if(w=w&&w[0],!w&&(w=F("fill")),"image"==e.type&&r.src&&(w.src=r.src),r.fill&&(w.on=!0),(null==w.on||"none"==r.fill||null===r.fill)&&(w.on=!1),w.on&&r.fill)(z=c(r.fill).match(a._ISURL))?(w.parentNode==t&&t.removeChild(w),w.rotate=!0,w.src=z[1],w.type="tile",y=e.getBBox(1),w.position=y.x+" "+y.y,e._.fillpos=[y.x,y.y],a._preload(z[1],function(){e._.fillsize=
[this.offsetWidth,this.offsetHeight]})):(w.color=a.getRGB(r.fill).hex,w.src="",w.type="solid",a.getRGB(r.fill).error&&(e.type in{circle:1,ellipse:1}||"r"!=c(r.fill).charAt())&&Q(e,r.fill,w)&&(v.fill="none",v.gradient=r.fill,w.rotate=!1));if("fill-opacity"in r||"opacity"in r)y=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+a.getRGB(r.fill).o+1||2)-1),y=m(s(y,0),1),w.opacity=y,w.src&&(w.color="none");t.appendChild(w);w=t.getElementsByTagName("stroke")&&t.getElementsByTagName("stroke")[0];z=
!1;!w&&(z=w=F("stroke"));(r.stroke&&"none"!=r.stroke||r["stroke-width"]||null!=r["stroke-opacity"]||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(w.on=!0);("none"==r.stroke||null===r.stroke||null==w.on||0==r.stroke||0==r["stroke-width"])&&(w.on=!1);y=a.getRGB(r.stroke);w.on&&r.stroke&&(w.color=y.hex);y=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+y.o+1||2)-1);B=0.75*(f(r["stroke-width"])||1);if(y=m(s(y,0),1),null==r["stroke-width"]&&(B=v["stroke-width"]),
r["stroke-width"]&&(w.weight=B),B&&1>B&&(y*=B)&&(w.weight=1),w.opacity=y,r["stroke-linejoin"]&&(w.joinstyle=r["stroke-linejoin"]||"miter"),w.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(w.endcap="butt"==r["stroke-linecap"]?"flat":"square"==r["stroke-linecap"]?"square":"round"),r["stroke-dasharray"])y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},w.dashstyle=
y.hasOwnProperty(r["stroke-dasharray"])?y[r["stroke-dasharray"]]:"";z&&t.appendChild(w)}if("text"==e.type){e.paper.canvas.style.display="";t=e.paper.span;z=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);w=t.style;v.font&&(w.font=v.font);v["font-family"]&&(w.fontFamily=v["font-family"]);v["font-weight"]&&(w.fontWeight=v["font-weight"]);v["font-style"]&&(w.fontStyle=v["font-style"]);z=f(v["font-size"]||z&&z[0])||10;w.fontSize=100*z+"px";e.textpath.string&&(t.innerHTML=c(e.textpath.string).replace(/</g,
"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));t=t.getBoundingClientRect();e.W=v.w=(t.right-t.left)/100;e.H=v.h=(t.bottom-t.top)/100;e.X=v.x;e.Y=v.y+e.H/2;("x"in r||"y"in r)&&(e.path.v=a.format("m{0},{1}l{2},{1}",l(21600*v.x),l(21600*v.y),l(21600*v.x)+1));t="x y text font font-family font-weight font-style font-size".split(" ");w=0;for(z=t.length;z>w;w++)if(t[w]in r){e._.dirty=1;break}switch(v["text-anchor"]){case "start":e.textpath.style["v-text-align"]="left";e.bbx=e.W/2;break;case "end":e.textpath.style["v-text-align"]=
"right";e.bbx=-e.W/2;break;default:e.textpath.style["v-text-align"]="center",e.bbx=0}e.textpath.style["v-text-kern"]=!0}},Q=function(l,m,r){l.attrs=l.attrs||{};var s=(l.attrs,Math.pow),t="linear",w=".5 .5";if(l.attrs.gradient=m,m=c(m).replace(a._radial_gradient,function(a,c,d){return t="radial",c&&d&&(c=f(c),d=f(d),0.25<s(c-0.5,2)+s(d-0.5,2)&&(d=e.sqrt(0.25-s(c-0.5,2))*(2*(0.5<d)-1)+0.5),w=c+" "+d),""}),m=m.split(/\s*\-\s*/),"linear"==t){var v=m.shift();if(v=-f(v),isNaN(v))return null}m=a._parseDots(m);
if(!m)return null;if(l=l.shape||l.node,m.length){l.removeChild(r);r.on=!0;r.method="none";r.color=m[0].color;r.color2=m[m.length-1].color;for(var x=[],y=0,z=m.length;z>y;y++)m[y].offset&&x.push(m[y].offset+" "+m[y].color);r.colors=x.length?x.join():"0% "+r.color;"radial"==t?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=w,r.angle=0):(r.type="gradient",r.angle=(270-v)%360);l.appendChild(r)}return 1},S=function(c,d){this[0]=this.node=c;c.raphael=!0;this.id=a._oid++;c.raphaelid=
this.id;this.Y=this.X=0;this.attrs={};this.paper=d;this.matrix=a.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},R=a.el;S.prototype=R;R.constructor=S;R.transform=function(e){if(null==e)return this._.transform;var f,h=this.paper._viewBoxShift,l=h?"s"+[h.scale,h.scale]+"-1-1t"+[h.dx,h.dy]:"";h&&(f=e=c(e).replace(/\.{3}|\u2026/g,this._.transform||""));a._extractTransform(this,l+e);var m,
h=this.matrix.clone(),l=this.skew;e=this.node;var r=~c(this.attrs.fill).indexOf("-"),s=!c(this.attrs.fill).indexOf("url(");(h.translate(-0.5,-0.5),s||r||"image"==this.type)?(l.matrix="1 0 0 1",l.offset="0 0",m=h.split(),r&&m.noRotation||!m.isSimple)?(e.style.filter=h.toFilter(),h=this.getBBox(),l=this.getBBox(1),m=h.x-l.x,h=h.y-l.y,e.coordorigin=-21600*m+" "+-21600*h,K(this,1,1,m,h,0)):(e.style.filter="",K(this,m.scalex,m.scaley,m.dx,m.dy,m.rotate)):(e.style.filter="",l.matrix=c(h),l.offset=h.offset());
return f&&(this._.transform=f),this};R.rotate=function(a,e,l){if(this.removed)return this;if(null!=a){if(a=c(a).split(x),a.length-1&&(e=f(a[1]),l=f(a[2])),a=f(a[0]),null==l&&(e=l),null==e||null==l)l=this.getBBox(1),e=l.x+l.width/2,l=l.y+l.height/2;return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,e,l]])),this}};R.translate=function(a,e){return this.removed?this:(a=c(a).split(x),a.length-1&&(e=f(a[1])),a=f(a[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",
a,e]])),this)};R.scale=function(a,e,l,m){if(this.removed)return this;if(a=c(a).split(x),a.length-1&&(e=f(a[1]),l=f(a[2]),m=f(a[3]),isNaN(l)&&(l=null),isNaN(m)&&(m=null)),a=f(a[0]),null==e&&(e=a),null==m&&(l=m),null==l||null==m)var r=this.getBBox(1);return l=null==l?r.x+r.width/2:l,m=null==m?r.y+r.height/2:m,this.transform(this._.transform.concat([["s",a,e,l,m]])),this._.dirtyT=1,this};R.hide=function(){return!this.removed&&(this.node.style.display="none"),this};R.show=function(){return!this.removed&&
(this.node.style.display=""),this};R._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};R.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);a.eve.unbind("raphael.*.*."+this.id);a._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):
null;this.removed=!0}};R.attr=function(c,d){if(this.removed)return this;if(null==c){var e={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;f=c.split(x);for(var e={},h=0,l=f.length;l>h;h++)c=f[h],e[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],
"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?e:e[f[0]]}if(this.attrs&&null==d&&a.is(c,"array")){e={};h=0;for(l=c.length;l>h;h++)e[c[h]]=this.attr(c[h]);return e}null!=d&&(e={},e[c]=d);null==d&&a.is(c,"object")&&(e=c);for(h in e)t("raphael.attr."+h+"."+this.id,this,e[h]);if(e){for(h in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(h)&&e.hasOwnProperty(h)&&a.is(this.paper.customAttributes[h],"function"))for(l in f=this.paper.customAttributes[h].apply(this,
[].concat(e[h])),this.attrs[h]=e[h],f)f.hasOwnProperty(l)&&(e[l]=f[l]);e.text&&"text"==this.type&&(this.textpath.string=e.text);O(this,e)}return this};R.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this};R.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),
this)};R.insertAfter=function(c){return this.removed?this:(c.constructor==a.st.constructor&&(c=c[c.length-1]),c.node.nextSibling?c.node.parentNode.insertBefore(this.node,c.node.nextSibling):c.node.parentNode.appendChild(this.node),a._insertafter(this,c,this.paper),this)};R.insertBefore=function(c){return this.removed?this:(c.constructor==a.st.constructor&&(c=c[0]),c.node.parentNode.insertBefore(this.node,c.node),a._insertbefore(this,c,this.paper),this)};R.blur=function(c){var d=this.node.runtimeStyle,
e=d.filter;return e=e.replace(y,""),0!==+c?(this.attrs.blur=c,d.filter=e+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+c||1.5)+")",d.margin=a.format("-{0}px 0 0 -{0}px",l(+c||1.5))):(d.filter=e,d.margin=0,delete this.attrs.blur),this};a._engine.path=function(a,c){var d=F("shape");d.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";d.coordsize="21600 21600";d.coordorigin=c.coordorigin;var e=new S(d,c),f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];
e.Path="";O(e,f);c.canvas.appendChild(d);f=F("skew");return f.on=!0,d.appendChild(f),e.skew=f,e.transform(""),e};a._engine.rect=function(c,d,e,f,h,l){var m=a._rectPath(d,e,f,h,l);c=c.path(m);var r=c.attrs;return c.X=r.x=d,c.Y=r.y=e,c.W=r.width=f,c.H=r.height=h,r.r=l,r.path=m,c.type="rect",c};a._engine.ellipse=function(a,c,d,e,f){a=a.path();return a.attrs,a.X=c-e,a.Y=d-f,a.W=2*e,a.H=2*f,a.type="ellipse",O(a,{cx:c,cy:d,rx:e,ry:f}),a};a._engine.circle=function(a,c,d,e){a=a.path();return a.attrs,a.X=
c-e,a.Y=d-e,a.W=a.H=2*e,a.type="circle",O(a,{cx:c,cy:d,r:e}),a};a._engine.image=function(c,d,e,f,h,l){var m=a._rectPath(e,f,h,l);c=c.path(m).attr({stroke:"none"});var r=c.attrs,s=c.node,t=s.getElementsByTagName("fill")[0];return r.src=d,c.X=r.x=e,c.Y=r.y=f,c.W=r.width=h,c.H=r.height=l,r.path=m,c.type="image",t.parentNode==s&&s.removeChild(t),t.rotate=!0,t.src=d,t.type="tile",c._.fillpos=[e,f],c._.fillsize=[h,l],s.appendChild(t),K(c,1,1,0,0,0),c};a._engine.text=function(e,f,h,m){var r=F("shape"),s=
F("path"),t=F("textpath");f=f||0;h=h||0;m=m||"";s.v=a.format("m{0},{1}l{2},{1}",l(21600*f),l(21600*h),l(21600*f)+1);s.textpathok=!0;t.string=c(m);t.on=!0;r.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";r.coordsize="21600 21600";r.coordorigin="0 0";var v=new S(r,e),w={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:m};v.shape=r;v.path=s;v.textpath=t;v.type="text";v.attrs.text=c(m);v.attrs.x=f;v.attrs.y=h;v.attrs.w=1;v.attrs.h=1;O(v,w);r.appendChild(t);r.appendChild(s);
e.canvas.appendChild(r);e=F("skew");return e.on=!0,r.appendChild(e),v.skew=e,v.transform(""),v};a._engine.setSize=function(c,d){var e=this.canvas.style;return this.width=c,this.height=d,c==+c&&(c+="px"),d==+d&&(d+="px"),e.width=c,e.height=d,e.clip="rect(0 "+c+" "+d+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this};a._engine.setViewBox=function(c,d,e,f,h){a.eve("raphael.setViewBox",this,this._viewBox,[c,d,e,f,h]);var l,m,r=this.width,t=this.height,v=1/s(e/r,f/t);return h&&(l=
t/f,m=r/e,r>e*l&&(c-=(r-e*l)/2/l),t>f*m&&(d-=(t-f*m)/2/m)),this._viewBox=[c,d,e,f,!!h],this._viewBoxShift={dx:-c,dy:-d,scale:v},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var c=a.document;c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return c.createElement("<rvml:"+a+' class="rvml">')}}catch(d){F=function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};
a._engine.initWin(a._g.win);a._engine.create=function(){var c=a._getContainer.apply(0,arguments),d=c.container,e=c.height,f=c.width,h=c.x,c=c.y;if(!d)throw Error("VML container not found.");var l=new a._Paper,m=l.canvas=a._g.doc.createElement("div"),r=m.style;return h=h||0,c=c||0,f=f||512,e=e||342,l.width=f,l.height=e,f==+f&&(f+="px"),e==+e&&(e+="px"),l.coordsize="21600000 21600000",l.coordorigin="0 0",l.span=a._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",
m.appendChild(l.span),r.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,e),1==d?(a._g.doc.body.appendChild(m),r.left=h+"px",r.top=c+"px",r.position="absolute"):d.firstChild?d.insertBefore(m,d.firstChild):d.appendChild(m),l.renderfix=function(){},l};a.prototype.clear=function(){a.eve("raphael.clear",this);this.canvas.innerHTML="";this.span=a._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};a.prototype.remove=function(){a.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;return!0};var V=a.st,Y;for(Y in R)R.hasOwnProperty(Y)&&!V.hasOwnProperty(Y)&&(V[Y]=function(a){return function(){var c=arguments;return this.forEach(function(d){d[a].apply(d,c)})}}(Y))}}(),Ga?Q.win.Raphael=a:Raphael=a,a});
